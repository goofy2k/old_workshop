[
    {
        "id": "599e8aab.a9ec84",
        "type": "tab",
        "label": "Plugwise Smartmeter Data",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7329e9b3.909368",
        "type": "tab",
        "label": "Plugwise DB management and plotting",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2b73b789.bed1b8",
        "type": "tab",
        "label": "Plugwise Peak Shaving",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8677ca10.1eb128",
        "type": "tab",
        "label": "T sensors",
        "disabled": false,
        "info": ""
    },
    {
        "id": "61eab748.c2a598",
        "type": "tab",
        "label": "T sensors graphs",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cd6789e6.ff3648",
        "type": "tab",
        "label": "FITTING",
        "disabled": true,
        "info": ""
    },
    {
        "id": "491766dc.090828",
        "type": "tab",
        "label": "Example 1 Hello World!",
        "disabled": true,
        "info": ""
    },
    {
        "id": "55797933.e8ca98",
        "type": "tab",
        "label": "Example 3 MQTT basics",
        "disabled": true,
        "info": ""
    },
    {
        "id": "93450420.4c39a8",
        "type": "tab",
        "label": "Example 2 Some further basics",
        "disabled": true,
        "info": ""
    },
    {
        "id": "9226a140.9741d",
        "type": "tab",
        "label": "Example 4A Broadcast System Status ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "faac9242.dcd4e",
        "type": "tab",
        "label": "Example 4B Monitor Systems Status",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1095610b.0269ef",
        "type": "tab",
        "label": "Monitor via GMAIL",
        "disabled": true,
        "info": ""
    },
    {
        "id": "3f7b5fe2.56b48",
        "type": "tab",
        "label": "HueMagic sandbox",
        "disabled": true,
        "info": ""
    },
    {
        "id": "75a23301.b2c0dc",
        "type": "tab",
        "label": "Presence and Alarm ",
        "disabled": true,
        "info": ""
    },
    {
        "id": "3b20d570.416d2a",
        "type": "tab",
        "label": "Presence and Alarm (sandbox)",
        "disabled": true,
        "info": ""
    },
    {
        "id": "b038d480.cffce8",
        "type": "tab",
        "label": "Mysql admin",
        "disabled": true,
        "info": ""
    },
    {
        "id": "6a0af44a.005f6c",
        "type": "tab",
        "label": "MyForm",
        "disabled": true,
        "info": "DO NOT DEPLOY OR ENABLE\nTHIS FLOW MAY CONTAIN THE CAUSE FOR THE CRASH OF 180921"
    },
    {
        "id": "a2794803.694d38",
        "type": "tab",
        "label": "TTN sensor01 MQTT",
        "disabled": true,
        "info": ""
    },
    {
        "id": "937a7f11.e8a65",
        "type": "tab",
        "label": "Chart examples",
        "disabled": true,
        "info": ""
    },
    {
        "id": "6e7288cb.27ffb8",
        "type": "tab",
        "label": "Google Charts",
        "disabled": true,
        "info": ""
    },
    {
        "id": "e20bd973.57e138",
        "type": "tab",
        "label": "Regression",
        "disabled": true,
        "info": ""
    },
    {
        "id": "ab9b51d3.46d2d",
        "type": "tab",
        "label": "Counters",
        "disabled": true,
        "info": ""
    },
    {
        "id": "b417289e.bd5028",
        "type": "tab",
        "label": "Statistics",
        "disabled": true,
        "info": ""
    },
    {
        "id": "9b673204.5a55a",
        "type": "tab",
        "label": "TTN sensor DIRECT",
        "disabled": true,
        "info": ""
    },
    {
        "id": "5f933221.b32cfc",
        "type": "tab",
        "label": "System info ",
        "disabled": true,
        "info": ""
    },
    {
        "id": "bd866fd5.f559a",
        "type": "tab",
        "label": "Owntracks",
        "disabled": true,
        "info": ""
    },
    {
        "id": "a268c952.1bc1a8",
        "type": "tab",
        "label": "CloudMQTT",
        "disabled": true,
        "info": ""
    },
    {
        "id": "3f8254e2.b5957c",
        "type": "tab",
        "label": "CloudMQTT example",
        "disabled": true,
        "info": ""
    },
    {
        "id": "18c6ee7c.27d352",
        "type": "tab",
        "label": "Mysql (1)",
        "disabled": true,
        "info": ""
    },
    {
        "id": "7ac68823.c30b88",
        "type": "tab",
        "label": "Tracking a mobile device (orig)",
        "disabled": true,
        "info": ""
    },
    {
        "id": "934cbb23.3f18e8",
        "type": "tab",
        "label": "Tracking a mobile device",
        "disabled": true,
        "info": ""
    },
    {
        "id": "54ce3186.bf71f",
        "type": "tab",
        "label": "loop",
        "disabled": true,
        "info": ""
    },
    {
        "id": "78c5eb34.4ea2b4",
        "type": "mqtt-broker",
        "z": "",
        "name": "CloudMQTT",
        "broker": "m13.cloudmqtt.com",
        "port": "15348",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "2869eae7.30e156",
        "type": "mqtt-broker",
        "z": "",
        "name": "Synology NAS at home",
        "broker": "192.168.2.200",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "cd9247c4.ef56c8",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "eu.thethings.network",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "a45f4c03.122d4",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "eu.thethings.network",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "702fba0.87cfc48",
        "type": "mqtt-broker",
        "z": "",
        "name": "Synology NAS remote",
        "broker": "goofy2knet.synology.me",
        "port": "1884",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "529d2228.57501c",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "m21.cloudmqtt.com",
        "port": "18916",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "72979c38.2d5194",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "m21.cloudmqtt.com",
        "port": "18916",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "17d26dd5.e3d992",
        "type": "mqtt-broker",
        "z": "",
        "name": "CloudMQTT",
        "broker": "m13.cloudmqtt.com",
        "port": "15348",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "8d3c963b.f98198",
        "type": "MySQLdatabase",
        "z": "3f8254e2.b5957c",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "",
        "tz": ""
    },
    {
        "id": "f524d036.2b55a",
        "type": "MySQLdatabase",
        "z": "",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered_db",
        "tz": ""
    },
    {
        "id": "5b410782.b498a8",
        "type": "ui_tab",
        "z": "",
        "name": "TSensors",
        "icon": "dashboard",
        "order": 1
    },
    {
        "id": "95145073.824d",
        "type": "ui_group",
        "z": "",
        "name": "Controls",
        "tab": "284a4e5.7e596b2",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "47e8478d.83c7b8",
        "type": "ui_group",
        "z": "",
        "name": "T Sensors",
        "tab": "5b410782.b498a8",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "195f601a.7a87",
        "type": "ttn app",
        "z": "9b673204.5a55a",
        "appId": "fv_nodes",
        "accessKey": "ttn-account-v2.ktzbR3bn9i4aQwDGvV7trb9OXfSb8DFAluQ4Di9pCEM",
        "discovery": "discovery.thethingsnetwork.org:1900"
    },
    {
        "id": "e4cb1f83.178d6",
        "type": "ui_tab",
        "z": "",
        "name": "Monitoring RPi",
        "icon": "dashboard",
        "order": 4
    },
    {
        "id": "bb259c3c.92ca2",
        "type": "ui_group",
        "z": "",
        "name": "Default",
        "tab": "e4cb1f83.178d6",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f3469795.78f3e8",
        "type": "ui_tab",
        "z": "",
        "name": "Huemagic sandbox",
        "icon": "dashboard",
        "order": 5
    },
    {
        "id": "bfa4b957.154538",
        "type": "ui_group",
        "z": "",
        "name": "Default",
        "tab": "f3469795.78f3e8",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "52d89889.1f29c8",
        "type": "ui_tab",
        "z": "",
        "name": "Presence and Alarm",
        "icon": "dashboard",
        "order": 6
    },
    {
        "id": "5203d9c1.4d65a8",
        "type": "ui_group",
        "z": "",
        "name": "Default",
        "tab": "52d89889.1f29c8",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "284a4e5.7e596b2",
        "type": "ui_tab",
        "z": "",
        "name": "Plugwise",
        "icon": "dashboard",
        "order": 2
    },
    {
        "id": "da599b16.5a82d8",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "2e6452c4.51f21e",
        "type": "ui_group",
        "z": "",
        "name": "Default",
        "tab": "dc817685.edea18",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "625155a7.1f11dc",
        "type": "ui_tab",
        "z": "",
        "name": "MyForm",
        "icon": "dashboard",
        "order": 7
    },
    {
        "id": "a6a303b2.fef5b",
        "type": "ui_group",
        "z": "",
        "name": "Controls",
        "tab": "625155a7.1f11dc",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c1949c80.44df2",
        "type": "ui_group",
        "z": "",
        "name": "Debug",
        "tab": "625155a7.1f11dc",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a0cc6988.5f6dc8",
        "type": "ui_group",
        "z": "",
        "name": "Menu",
        "tab": "625155a7.1f11dc",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7278d52.2e21e2c",
        "type": "ui_group",
        "z": "",
        "name": "Task properties",
        "tab": "625155a7.1f11dc",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d43a82a9.a027f",
        "type": "ui_tab",
        "z": "",
        "name": "TTN sensor MQTT",
        "icon": "dashboard",
        "order": 8
    },
    {
        "id": "22fe9c1e.e6c4e4",
        "type": "ui_group",
        "z": "",
        "name": "Weather prediction",
        "tab": "d43a82a9.a027f",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "496dd8ae.20d2e8",
        "type": "ui_group",
        "z": "",
        "name": "DB Graphs (hourly update)",
        "tab": "5b410782.b498a8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "72d44185.11ae4",
        "type": "ui_group",
        "z": "",
        "name": "Direct Graphs",
        "tab": "5b410782.b498a8",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5181ed20.9e4fe4",
        "type": "ui_group",
        "z": "",
        "name": "Electricity",
        "tab": "284a4e5.7e596b2",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ce076867.c08778",
        "type": "ui_group",
        "z": "",
        "name": "Gas",
        "tab": "284a4e5.7e596b2",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "dc817685.edea18",
        "type": "ui_tab",
        "z": "",
        "name": "Electricity Analysis",
        "icon": "dashboard",
        "order": 3
    },
    {
        "id": "d454eb87.443198",
        "type": "ui_group",
        "z": "",
        "name": "Deltas",
        "tab": "dc817685.edea18",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8399f10d.b5a3d",
        "type": "ui_group",
        "z": "",
        "name": "Power from DB",
        "tab": "284a4e5.7e596b2",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "fc44179e.3559c8",
        "type": "ui_group",
        "z": "",
        "name": "Readings",
        "tab": "5b410782.b498a8",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "987efb7c.a01458",
        "type": "ui_group",
        "z": "",
        "name": "Delta power",
        "tab": "284a4e5.7e596b2",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "11f05d29.1aa123",
        "type": "debug",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 360,
        "y": 60,
        "wires": []
    },
    {
        "id": "36ae0da0.90d302",
        "type": "debug",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 400,
        "y": 400,
        "wires": []
    },
    {
        "id": "5be9130f.79cc2c",
        "type": "inject",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 260,
        "wires": [
            [
                "76bf8884.a63de8"
            ]
        ]
    },
    {
        "id": "9c764afb.35b688",
        "type": "inject",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 340,
        "y": 260,
        "wires": [
            [
                "76bf8884.a63de8"
            ]
        ]
    },
    {
        "id": "2811f88.cf87b08",
        "type": "debug",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 500,
        "y": 160,
        "wires": []
    },
    {
        "id": "98235468.2bfb48",
        "type": "inject",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 100,
        "y": 180,
        "wires": [
            [
                "6a5f07bc.5f0da8"
            ]
        ]
    },
    {
        "id": "c27f4fea.be8e5",
        "type": "debug",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "info",
        "x": 490,
        "y": 100,
        "wires": []
    },
    {
        "id": "878122b5.f9341",
        "type": "inject",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 500,
        "wires": [
            [
                "e8b3c0de.20289"
            ]
        ]
    },
    {
        "id": "758b5265.ab568c",
        "type": "debug",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 290,
        "y": 560,
        "wires": []
    },
    {
        "id": "8e7b60c0.1dd91",
        "type": "inject",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 400,
        "wires": [
            [
                "e8b3c0de.20289"
            ]
        ]
    },
    {
        "id": "bc1c214d.451e",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 372,
        "y": 137,
        "wires": []
    },
    {
        "id": "cb15d5a4.aa3c48",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "Activate",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 80,
        "wires": [
            [
                "c378055a.a463b8"
            ]
        ]
    },
    {
        "id": "8bbda6fb.7ecdb8",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "Deactivate",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 160,
        "wires": [
            [
                "c378055a.a463b8"
            ]
        ]
    },
    {
        "id": "6fb7d8ea.a92178",
        "type": "switch",
        "z": "75a23301.b2c0dc",
        "name": "",
        "property": "payload.motion",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 372,
        "y": 197,
        "wires": [
            [
                "920cae29.ec913",
                "3c7c3171.c57dfe"
            ]
        ]
    },
    {
        "id": "dd733fae.601ec",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 590,
        "y": 360,
        "wires": []
    },
    {
        "id": "920cae29.ec913",
        "type": "change",
        "z": "75a23301.b2c0dc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 200,
        "wires": [
            [
                "dd733fae.601ec",
                "d447bf43.2be56",
                "98fd53fa.c35d4",
                "4ce119b7.6255f8",
                "c3824d1b.7e8d5",
                "ef9bb753.bcb648"
            ]
        ]
    },
    {
        "id": "9106b229.7189c",
        "type": "switch",
        "z": "75a23301.b2c0dc",
        "name": "",
        "property": "payload.motion",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "false",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 372,
        "y": 237,
        "wires": [
            [
                "2525efb5.a2e59"
            ]
        ]
    },
    {
        "id": "2525efb5.a2e59",
        "type": "change",
        "z": "75a23301.b2c0dc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 542,
        "y": 237,
        "wires": [
            [
                "dd733fae.601ec",
                "d447bf43.2be56",
                "98fd53fa.c35d4",
                "4ce119b7.6255f8",
                "c3824d1b.7e8d5"
            ]
        ]
    },
    {
        "id": "b9128d73.cb24",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "Clear",
        "topic": "",
        "payload": "[ ]",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 792,
        "y": 97,
        "wires": [
            [
                "d447bf43.2be56",
                "98fd53fa.c35d4",
                "4ce119b7.6255f8",
                "c3824d1b.7e8d5"
            ]
        ]
    },
    {
        "id": "b6b065f1.d87028",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "Set Alarm Switch OFF",
        "topic": "",
        "payload": "OFF",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 440,
        "wires": [
            [
                "7d1a49cc.7976a8"
            ]
        ]
    },
    {
        "id": "cc8354e1.d6c0f8",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 750,
        "y": 220,
        "wires": []
    },
    {
        "id": "34006ebe.d87602",
        "type": "inject",
        "z": "3b20d570.416d2a",
        "name": "Activate",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 330,
        "y": 160,
        "wires": [
            [
                "c6a094d.ff81568"
            ]
        ]
    },
    {
        "id": "1c6b0d78.1f5d13",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "info",
        "x": 740,
        "y": 100,
        "wires": []
    },
    {
        "id": "d3ef8a2.630cf78",
        "type": "inject",
        "z": "3b20d570.416d2a",
        "name": "Deactivate",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 340,
        "y": 240,
        "wires": [
            [
                "c6a094d.ff81568"
            ]
        ]
    },
    {
        "id": "43cb9865.328ea8",
        "type": "json",
        "z": "3b20d570.416d2a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 600,
        "y": 360,
        "wires": [
            [
                "ed61f98a.d18258",
                "16548f47.7e5c81"
            ]
        ]
    },
    {
        "id": "ed61f98a.d18258",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 770,
        "y": 360,
        "wires": []
    },
    {
        "id": "16548f47.7e5c81",
        "type": "split",
        "z": "3b20d570.416d2a",
        "name": "",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": true,
        "addname": "",
        "x": 420,
        "y": 440,
        "wires": [
            [
                "920362e8.b758b"
            ]
        ]
    },
    {
        "id": "920362e8.b758b",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 610,
        "y": 440,
        "wires": []
    },
    {
        "id": "cf86f995.bff7d8",
        "type": "switch",
        "z": "3b20d570.416d2a",
        "name": "",
        "property": "payload.motion",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "true",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 280,
        "y": 540,
        "wires": [
            [
                "7b385db3.f4ab04"
            ]
        ]
    },
    {
        "id": "21345db7.6509a2",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 650,
        "y": 500,
        "wires": []
    },
    {
        "id": "7b385db3.f4ab04",
        "type": "change",
        "z": "3b20d570.416d2a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 540,
        "wires": [
            [
                "21345db7.6509a2",
                "78dc66a5.3e9018",
                "b514292e.cebcf8",
                "90b31ac7.135308",
                "c1823f97.d6aaa"
            ]
        ]
    },
    {
        "id": "7491d7f2.256218",
        "type": "switch",
        "z": "3b20d570.416d2a",
        "name": "",
        "property": "payload.motion",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "false",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 290,
        "y": 600,
        "wires": [
            [
                "c20d40a6.cdda9"
            ]
        ]
    },
    {
        "id": "c20d40a6.cdda9",
        "type": "change",
        "z": "3b20d570.416d2a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 600,
        "wires": [
            [
                "21345db7.6509a2",
                "78dc66a5.3e9018",
                "b514292e.cebcf8",
                "90b31ac7.135308",
                "c1823f97.d6aaa"
            ]
        ]
    },
    {
        "id": "9dca4ae5.0bf398",
        "type": "inject",
        "z": "3b20d570.416d2a",
        "name": "Clear",
        "topic": "",
        "payload": "[ ]",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 990,
        "y": 380,
        "wires": [
            [
                "78dc66a5.3e9018",
                "b514292e.cebcf8",
                "90b31ac7.135308",
                "c1823f97.d6aaa"
            ]
        ]
    },
    {
        "id": "4484bc63.2e5c44",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 450,
        "y": 340,
        "wires": []
    },
    {
        "id": "cfeca305.9baba",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 430,
        "y": 80,
        "wires": []
    },
    {
        "id": "c2f814af.12ca18",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 470,
        "y": 280,
        "wires": []
    },
    {
        "id": "98e3f214.1948c",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 190,
        "y": 440,
        "wires": []
    },
    {
        "id": "80634295.310ed",
        "type": "inject",
        "z": "3b20d570.416d2a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 400,
        "wires": [
            [
                "4a576173.f9b7"
            ]
        ]
    },
    {
        "id": "9ea3b671.38e198",
        "type": "debug",
        "z": "3b20d570.416d2a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 190,
        "y": 480,
        "wires": []
    },
    {
        "id": "7b6728c3.83dd18",
        "type": "delay",
        "z": "3b20d570.416d2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 680,
        "y": 320,
        "wires": [
            [
                "49379ad7.e7be94"
            ]
        ]
    },
    {
        "id": "89e49baa.67fcc8",
        "type": "comment",
        "z": "75a23301.b2c0dc",
        "name": "Also provide programmatic method to change status",
        "info": "",
        "x": 350,
        "y": 400,
        "wires": []
    },
    {
        "id": "897e3329.5d03a",
        "type": "comment",
        "z": "75a23301.b2c0dc",
        "name": "Activate alarm Scene",
        "info": "",
        "x": 220,
        "y": 580,
        "wires": []
    },
    {
        "id": "3acdd3b2.a7612c",
        "type": "comment",
        "z": "75a23301.b2c0dc",
        "name": "Detect and display presence",
        "info": "",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "378aa11e.be30ee",
        "type": "comment",
        "z": "75a23301.b2c0dc",
        "name": "Readout Alarm Status Switch ",
        "info": "",
        "x": 240,
        "y": 320,
        "wires": []
    },
    {
        "id": "a989d0fa.82ee",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 430,
        "y": 780,
        "wires": []
    },
    {
        "id": "19a6429c.26a49d",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 640,
        "wires": [
            [
                "623d4041.4c2e1"
            ]
        ]
    },
    {
        "id": "480482ac.d8e76c",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 370,
        "y": 640,
        "wires": [
            [
                "623d4041.4c2e1"
            ]
        ]
    },
    {
        "id": "ab13ef03.9ee8",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "",
        "topic": "",
        "payload": "{\"on\":true}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 580,
        "y": 640,
        "wires": [
            [
                "623d4041.4c2e1"
            ]
        ]
    },
    {
        "id": "3904291e.114766",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "",
        "topic": "",
        "payload": "{\"alert\":5,\"color\":\"red\"}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 770,
        "y": 660,
        "wires": [
            [
                "623d4041.4c2e1"
            ]
        ]
    },
    {
        "id": "f96e3ed5.69706",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "",
        "topic": "",
        "payload": "{\"alert\":5,\"rgb\":[255,0,0]}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 810,
        "y": 780,
        "wires": [
            [
                "623d4041.4c2e1"
            ]
        ]
    },
    {
        "id": "ef9bb753.bcb648",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 730,
        "y": 40,
        "wires": []
    },
    {
        "id": "9c8bdebc.548e7",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 610,
        "y": 460,
        "wires": []
    },
    {
        "id": "a2cd3a2b.3fbb78",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "Set Alarm Switch ON",
        "topic": "",
        "payload": "ON",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 500,
        "wires": [
            [
                "6908f12e.106d8"
            ]
        ]
    },
    {
        "id": "7063b522.c389ac",
        "type": "inject",
        "z": "75a23301.b2c0dc",
        "name": "",
        "topic": "",
        "payload": "Read Status",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 110,
        "y": 540,
        "wires": [
            [
                "7d1a49cc.7976a8"
            ]
        ]
    },
    {
        "id": "3c7c3171.c57dfe",
        "type": "change",
        "z": "75a23301.b2c0dc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "motion detected",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 80,
        "wires": [
            [
                "5142f694.9841a8",
                "41d1aebc.2f00c",
                "7d1a49cc.7976a8"
            ]
        ]
    },
    {
        "id": "1a997e83.a505d1",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 872,
        "y": 453,
        "wires": []
    },
    {
        "id": "5142f694.9841a8",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 530,
        "y": 40,
        "wires": []
    },
    {
        "id": "43b60ff2.381f7",
        "type": "trigger",
        "z": "75a23301.b2c0dc",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 880,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "41d1aebc.2f00c",
        "type": "join",
        "z": "75a23301.b2c0dc",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "+",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "0.1",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 470,
        "y": 520,
        "wires": [
            [
                "807ea969.3f6458",
                "7c6d0990.c00748"
            ]
        ]
    },
    {
        "id": "807ea969.3f6458",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 550,
        "y": 580,
        "wires": []
    },
    {
        "id": "7c6d0990.c00748",
        "type": "switch",
        "z": "75a23301.b2c0dc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "motion detected+ON",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 520,
        "wires": [
            [
                "6790e74a.686188",
                "ee78a91c.18d9d8",
                "56d52c2c.045b24"
            ]
        ]
    },
    {
        "id": "6790e74a.686188",
        "type": "change",
        "z": "75a23301.b2c0dc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"alert\" : 5,\"rgb\":[250,0,0]}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 560,
        "wires": [
            [
                "de653a1e.ea6ab8",
                "f0a820d9.2b347"
            ]
        ]
    },
    {
        "id": "ee78a91c.18d9d8",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 730,
        "y": 620,
        "wires": []
    },
    {
        "id": "6908f12e.106d8",
        "type": "delay",
        "z": "75a23301.b2c0dc",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 320,
        "y": 540,
        "wires": [
            [
                "7d1a49cc.7976a8"
            ]
        ]
    },
    {
        "id": "f0a820d9.2b347",
        "type": "play audio",
        "z": "75a23301.b2c0dc",
        "name": "",
        "voice": "14",
        "x": 1050,
        "y": 680,
        "wires": []
    },
    {
        "id": "56d52c2c.045b24",
        "type": "change",
        "z": "75a23301.b2c0dc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Wegwezen ! Politie is gebeld.",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 720,
        "wires": [
            [
                "f0a820d9.2b347"
            ]
        ]
    },
    {
        "id": "46eebae8.490f74",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1130,
        "y": 40,
        "wires": []
    },
    {
        "id": "7e608ecc.39f72",
        "type": "change",
        "z": "75a23301.b2c0dc",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 160,
        "wires": [
            [
                "7d1a49cc.7976a8",
                "aa00232e.20a19"
            ]
        ]
    },
    {
        "id": "aa00232e.20a19",
        "type": "switch",
        "z": "75a23301.b2c0dc",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "On",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1130,
        "y": 280,
        "wires": [
            [
                "85e1a4cd.f80978"
            ],
            [
                "dc06e205.c890f"
            ]
        ]
    },
    {
        "id": "85e1a4cd.f80978",
        "type": "trigger",
        "z": "75a23301.b2c0dc",
        "op1": "ON",
        "op2": "ON",
        "op1type": "str",
        "op2type": "str",
        "duration": "5",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 1330,
        "y": 260,
        "wires": [
            [
                "7d1a49cc.7976a8",
                "c3804cab.0c80e"
            ]
        ]
    },
    {
        "id": "dc06e205.c890f",
        "type": "trigger",
        "z": "75a23301.b2c0dc",
        "op1": "OFF",
        "op2": "OFF",
        "op1type": "str",
        "op2type": "str",
        "duration": "5",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "name": "",
        "x": 1330,
        "y": 320,
        "wires": [
            [
                "7d1a49cc.7976a8",
                "a6a4c984.24e948"
            ]
        ]
    },
    {
        "id": "c3804cab.0c80e",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1420,
        "y": 180,
        "wires": []
    },
    {
        "id": "a6a4c984.24e948",
        "type": "debug",
        "z": "75a23301.b2c0dc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1530,
        "y": 300,
        "wires": []
    },
    {
        "id": "7489df63.9aaee",
        "type": "debug",
        "z": "491766dc.090828",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 270,
        "y": 100,
        "wires": []
    },
    {
        "id": "6de97d3.9cb0984",
        "type": "mqtt in",
        "z": "55797933.e8ca98",
        "name": "MQTT receive: #",
        "topic": "#",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 160,
        "y": 340,
        "wires": [
            [
                "4cfbbc71.3561a4",
                "7b6a5409.56e9ac",
                "8d1e6b92.c929a8"
            ]
        ]
    },
    {
        "id": "4cfbbc71.3561a4",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 390,
        "y": 380,
        "wires": []
    },
    {
        "id": "41006dc8.2b5854",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "MQTT receiver  subscribed to ALL topics",
        "info": "",
        "x": 230,
        "y": 280,
        "wires": []
    },
    {
        "id": "51ec2f46.29679",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "MQTT publisher",
        "info": "",
        "x": 400,
        "y": 120,
        "wires": []
    },
    {
        "id": "1f48be26.7dfa42",
        "type": "inject",
        "z": "55797933.e8ca98",
        "name": "",
        "topic": "workshop",
        "payload": "Hello World !",
        "payloadType": "str",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 160,
        "wires": [
            [
                "9ce1b5d7.3942d8"
            ]
        ]
    },
    {
        "id": "9ce1b5d7.3942d8",
        "type": "mqtt out",
        "z": "55797933.e8ca98",
        "name": "MQTT send",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "2869eae7.30e156",
        "x": 390,
        "y": 160,
        "wires": []
    },
    {
        "id": "175e794f.7b8f17",
        "type": "mqtt in",
        "z": "faac9242.dcd4e",
        "name": "MQTT receive status",
        "topic": "system/uptime",
        "qos": "2",
        "broker": "2869eae7.30e156",
        "x": 190,
        "y": 240,
        "wires": [
            [
                "881d2de8.f95bc",
                "4ea69ade.d93914"
            ]
        ]
    },
    {
        "id": "881d2de8.f95bc",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 370,
        "y": 320,
        "wires": []
    },
    {
        "id": "d288cd44.5d016",
        "type": "comment",
        "z": "faac9242.dcd4e",
        "name": "Receive and display",
        "info": "",
        "x": 180,
        "y": 160,
        "wires": []
    },
    {
        "id": "83093899.71d648",
        "type": "comment",
        "z": "faac9242.dcd4e",
        "name": "Analyze and notify",
        "info": "If an uptime message has not been received for 2 minutes, take action\nSend last uptime when down",
        "x": 170,
        "y": 460,
        "wires": []
    },
    {
        "id": "597162b4.c03c5c",
        "type": "comment",
        "z": "9226a140.9741d",
        "name": "Collect status and broadcast",
        "info": "",
        "x": 470,
        "y": 160,
        "wires": []
    },
    {
        "id": "a8a9f75e.510158",
        "type": "mqtt out",
        "z": "9226a140.9741d",
        "name": "MQTT send: ",
        "topic": "",
        "qos": "0",
        "retain": "",
        "broker": "2869eae7.30e156",
        "x": 430,
        "y": 300,
        "wires": []
    },
    {
        "id": "efdc893e.63e0e8",
        "type": "inject",
        "z": "9226a140.9741d",
        "name": "",
        "topic": "system/topic1",
        "payload": "data1",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 260,
        "wires": [
            [
                "a8a9f75e.510158"
            ]
        ]
    },
    {
        "id": "6e8a806a.a5893",
        "type": "inject",
        "z": "9226a140.9741d",
        "name": "",
        "topic": "system/topic2",
        "payload": "data2",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 340,
        "wires": [
            [
                "a8a9f75e.510158"
            ]
        ]
    },
    {
        "id": "745a7209.78790c",
        "type": "OS",
        "z": "9226a140.9741d",
        "name": "",
        "x": 310,
        "y": 440,
        "wires": [
            [
                "ec4497a0.9e59f8",
                "940e2af4.a53878"
            ]
        ]
    },
    {
        "id": "3569cfa4.03094",
        "type": "inject",
        "z": "9226a140.9741d",
        "name": "",
        "topic": "system/beacon",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 500,
        "wires": [
            [
                "745a7209.78790c",
                "9fc413e4.754c3"
            ]
        ]
    },
    {
        "id": "ec4497a0.9e59f8",
        "type": "debug",
        "z": "9226a140.9741d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 530,
        "y": 440,
        "wires": []
    },
    {
        "id": "9fc413e4.754c3",
        "type": "Uptime",
        "z": "9226a140.9741d",
        "name": "",
        "x": 320,
        "y": 774,
        "wires": [
            [
                "3c283b34.efb674"
            ]
        ]
    },
    {
        "id": "b9b45de3.5d872",
        "type": "debug",
        "z": "9226a140.9741d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 630,
        "y": 774,
        "wires": []
    },
    {
        "id": "940e2af4.a53878",
        "type": "split",
        "z": "9226a140.9741d",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 450,
        "y": 480,
        "wires": [
            [
                "73844924.fae2a8",
                "31737b14.fd5034"
            ]
        ]
    },
    {
        "id": "73844924.fae2a8",
        "type": "debug",
        "z": "9226a140.9741d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 623,
        "y": 485,
        "wires": []
    },
    {
        "id": "3c283b34.efb674",
        "type": "split",
        "z": "9226a140.9741d",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 470,
        "y": 760,
        "wires": [
            [
                "b9b45de3.5d872",
                "b3c2d5ed.692808"
            ]
        ]
    },
    {
        "id": "31737b14.fd5034",
        "type": "switch",
        "z": "9226a140.9741d",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "hostname",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 545,
        "wires": [
            [
                "f0d921fb.f46",
                "b3c2d5ed.692808"
            ]
        ]
    },
    {
        "id": "f0d921fb.f46",
        "type": "debug",
        "z": "9226a140.9741d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 660,
        "y": 545,
        "wires": []
    },
    {
        "id": "b3c2d5ed.692808",
        "type": "join",
        "z": "9226a140.9741d",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 681,
        "y": 640,
        "wires": [
            [
                "469a1502.ed5d9c",
                "cc798a76.4170e8"
            ]
        ]
    },
    {
        "id": "469a1502.ed5d9c",
        "type": "debug",
        "z": "9226a140.9741d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 890,
        "y": 640,
        "wires": []
    },
    {
        "id": "cc798a76.4170e8",
        "type": "mqtt out",
        "z": "9226a140.9741d",
        "name": "MQTT send: ",
        "topic": "system/uptime",
        "qos": "0",
        "retain": "",
        "broker": "2869eae7.30e156",
        "x": 890,
        "y": 700,
        "wires": []
    },
    {
        "id": "ae0575af.e0e448",
        "type": "comment",
        "z": "9226a140.9741d",
        "name": "COMMENT",
        "info": "Try to find a way to put the hostname in the topic \ne.g. as system/trial\n\nIs this convenient. Or should the topic be hostname???",
        "x": 890,
        "y": 560,
        "wires": []
    },
    {
        "id": "4ea69ade.d93914",
        "type": "json",
        "z": "faac9242.dcd4e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 390,
        "y": 240,
        "wires": [
            [
                "381256cc.12e0ca",
                "943a3095.5069e",
                "6c44506.34c42b"
            ]
        ]
    },
    {
        "id": "381256cc.12e0ca",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 550,
        "y": 280,
        "wires": []
    },
    {
        "id": "4ba60e42.54f68",
        "type": "trigger",
        "z": "faac9242.dcd4e",
        "op1": "UP",
        "op2": "DOWN",
        "op1type": "str",
        "op2type": "str",
        "duration": "70",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "topic",
        "name": "",
        "x": 1447,
        "y": 241,
        "wires": [
            [
                "a935bee.d05f54"
            ]
        ]
    },
    {
        "id": "a935bee.d05f54",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1607,
        "y": 241,
        "wires": []
    },
    {
        "id": "6c44506.34c42b",
        "type": "split",
        "z": "faac9242.dcd4e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 470,
        "y": 140,
        "wires": [
            [
                "943a3095.5069e",
                "c44e6957.220f08",
                "fd7373c3.c769f",
                "8d7a9745.acd2c8",
                "57f3465.c3a61b8"
            ]
        ]
    },
    {
        "id": "c44e6957.220f08",
        "type": "switch",
        "z": "faac9242.dcd4e",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "uptime",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "hostname",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 665,
        "y": 364,
        "wires": [
            [
                "5213a60f.8c4108",
                "b754767b.072d88"
            ],
            [
                "d86f4b1e.a29748",
                "1ef090c1.4378ef"
            ]
        ]
    },
    {
        "id": "57f3465.c3a61b8",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 710,
        "y": 60,
        "wires": []
    },
    {
        "id": "8d7a9745.acd2c8",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 770,
        "y": 180,
        "wires": []
    },
    {
        "id": "d86f4b1e.a29748",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 925,
        "y": 324,
        "wires": []
    },
    {
        "id": "5213a60f.8c4108",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 865,
        "y": 504,
        "wires": []
    },
    {
        "id": "b754767b.072d88",
        "type": "change",
        "z": "faac9242.dcd4e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hostname",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 895,
        "y": 424,
        "wires": [
            [
                "31bd9d1f.eb5d42",
                "1ef090c1.4378ef"
            ]
        ]
    },
    {
        "id": "31bd9d1f.eb5d42",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1105,
        "y": 364,
        "wires": []
    },
    {
        "id": "1ef090c1.4378ef",
        "type": "join",
        "z": "faac9242.dcd4e",
        "name": "",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "/n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1125,
        "y": 444,
        "wires": [
            [
                "c58f6dcc.a98d7"
            ]
        ]
    },
    {
        "id": "c58f6dcc.a98d7",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1245,
        "y": 484,
        "wires": []
    },
    {
        "id": "b9cba5c7.ccfe88",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1050,
        "y": 80,
        "wires": []
    },
    {
        "id": "fd7373c3.c769f",
        "type": "switch",
        "z": "faac9242.dcd4e",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "uptime",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "hostname",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 872.3636474609375,
        "y": 132,
        "wires": [
            [
                "b9cba5c7.ccfe88"
            ],
            [
                "540122ed.bfeffc",
                "80c83c7d.eb30d"
            ]
        ]
    },
    {
        "id": "540122ed.bfeffc",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1050,
        "y": 180,
        "wires": []
    },
    {
        "id": "80c83c7d.eb30d",
        "type": "change",
        "z": "faac9242.dcd4e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1277,
        "y": 141,
        "wires": [
            [
                "2e5f0608.45705a",
                "bf4bcc1d.b4e18",
                "4ba60e42.54f68"
            ]
        ]
    },
    {
        "id": "2e5f0608.45705a",
        "type": "debug",
        "z": "faac9242.dcd4e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1467,
        "y": 141,
        "wires": []
    },
    {
        "id": "22692cd6.d25e94",
        "type": "e-mail",
        "z": "faac9242.dcd4e",
        "server": "smtp.gmail.com",
        "port": "465",
        "secure": true,
        "name": "goofy2k@gmail.com",
        "dname": "Notification mail",
        "x": 1600,
        "y": 340,
        "wires": []
    },
    {
        "id": "6e0cb1d3.dbc68",
        "type": "e-mail in",
        "z": "1095610b.0269ef",
        "name": "GMAIL Fred",
        "protocol": "IMAP",
        "server": "imap.gmail.com",
        "useSSL": true,
        "port": "993",
        "box": "INBOX",
        "disposition": "None",
        "repeat": "300",
        "x": 130,
        "y": 173,
        "wires": [
            [
                "c4246f10.21833",
                "34e51bcd.60f5e4"
            ]
        ]
    },
    {
        "id": "c4246f10.21833",
        "type": "switch",
        "z": "1095610b.0269ef",
        "name": "Filter",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "MONTASTIC",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 290,
        "y": 173,
        "wires": [
            [
                "2182678e.156428",
                "7c23f96f.2de688"
            ]
        ]
    },
    {
        "id": "2182678e.156428",
        "type": "debug",
        "z": "1095610b.0269ef",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 450,
        "y": 173,
        "wires": []
    },
    {
        "id": "34e51bcd.60f5e4",
        "type": "debug",
        "z": "1095610b.0269ef",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 470,
        "y": 100,
        "wires": []
    },
    {
        "id": "7c23f96f.2de688",
        "type": "split",
        "z": "1095610b.0269ef",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 380,
        "y": 253,
        "wires": [
            [
                "3d28a028.2b897",
                "3265cf25.4b508"
            ]
        ]
    },
    {
        "id": "3d28a028.2b897",
        "type": "debug",
        "z": "1095610b.0269ef",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 550,
        "y": 253,
        "wires": []
    },
    {
        "id": "3265cf25.4b508",
        "type": "switch",
        "z": "1095610b.0269ef",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Status code:",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 540,
        "y": 313,
        "wires": [
            [
                "50b27333.c89b8c",
                "a0ffa2e6.8fbe9"
            ]
        ]
    },
    {
        "id": "50b27333.c89b8c",
        "type": "debug",
        "z": "1095610b.0269ef",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 710,
        "y": 313,
        "wires": []
    },
    {
        "id": "a0ffa2e6.8fbe9",
        "type": "split",
        "z": "1095610b.0269ef",
        "name": "",
        "splt": ": ",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 660,
        "y": 393,
        "wires": [
            [
                "736f4303.d7c0cc",
                "1b5d2044.3b0df"
            ]
        ]
    },
    {
        "id": "95a35c68.4f5a2",
        "type": "debug",
        "z": "1095610b.0269ef",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 690,
        "y": 493,
        "wires": []
    },
    {
        "id": "736f4303.d7c0cc",
        "type": "split",
        "z": "1095610b.0269ef",
        "name": "",
        "splt": " -",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 655,
        "y": 597.8181762695312,
        "wires": [
            [
                "640e6711.57c1a8"
            ]
        ]
    },
    {
        "id": "640e6711.57c1a8",
        "type": "debug",
        "z": "1095610b.0269ef",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 810,
        "y": 593,
        "wires": []
    },
    {
        "id": "1b5d2044.3b0df",
        "type": "switch",
        "z": "1095610b.0269ef",
        "name": "Filter",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "Status code",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 515.6363525390625,
        "y": 494.81817626953125,
        "wires": [
            [
                "95a35c68.4f5a2"
            ]
        ]
    },
    {
        "id": "a94da6ed.522768",
        "type": "inject",
        "z": "491766dc.090828",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 100,
        "y": 100,
        "wires": [
            [
                "7489df63.9aaee"
            ]
        ]
    },
    {
        "id": "da8c4de2.cc237",
        "type": "comment",
        "z": "1095610b.0269ef",
        "name": "Connect to edonder56@gmail.com",
        "info": "",
        "x": 180,
        "y": 60,
        "wires": []
    },
    {
        "id": "753ad078.e282f",
        "type": "mqtt in",
        "z": "55797933.e8ca98",
        "name": "MQTT receive: workshop",
        "topic": "workshop",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 190,
        "y": 660,
        "wires": [
            [
                "d9b05981.dc7b38",
                "2ea391d6.e4d69e",
                "7bb2e1c1.652b3"
            ]
        ]
    },
    {
        "id": "d9b05981.dc7b38",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 380,
        "y": 660,
        "wires": []
    },
    {
        "id": "60075805.809f28",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "MQTT receiver  subscribed to topic \"workshop\" ONLY",
        "info": "",
        "x": 270,
        "y": 600,
        "wires": []
    },
    {
        "id": "7b6a5409.56e9ac",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 380,
        "y": 340,
        "wires": []
    },
    {
        "id": "2ea391d6.e4d69e",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 390,
        "y": 700,
        "wires": []
    },
    {
        "id": "8d1e6b92.c929a8",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 370,
        "y": 420,
        "wires": []
    },
    {
        "id": "7bb2e1c1.652b3",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 370,
        "y": 740,
        "wires": []
    },
    {
        "id": "be5cad98.78878",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays topic of message on debug screen",
        "info": "",
        "x": 680,
        "y": 340,
        "wires": []
    },
    {
        "id": "9949c864.2281c8",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays content (payload) of message on debug screen",
        "info": "",
        "x": 720,
        "y": 380,
        "wires": []
    },
    {
        "id": "c9c8e23.b15232",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays complete message object on debug screen",
        "info": "",
        "x": 710,
        "y": 420,
        "wires": []
    },
    {
        "id": "ea564b9.0c98cb8",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays topic of message on debug screen",
        "info": "",
        "x": 680,
        "y": 660,
        "wires": []
    },
    {
        "id": "bbc5ae8d.feef5",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays content (payload) of message on debug screen",
        "info": "",
        "x": 720,
        "y": 700,
        "wires": []
    },
    {
        "id": "c0ceabe6.391968",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays complete message object on debug screen",
        "info": "",
        "x": 710,
        "y": 740,
        "wires": []
    },
    {
        "id": "7013a524.9730ec",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "MQTT is a broadcast system ! Select only the topics of your interest.",
        "info": "",
        "x": 480,
        "y": 480,
        "wires": []
    },
    {
        "id": "969b99ec.f8c3f8",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "send \"Hello World!\" to the MQTT broker",
        "info": "",
        "x": 670,
        "y": 160,
        "wires": []
    },
    {
        "id": "f8dc7c4.cfc0a8",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "MQTT receiver  subscribed to ALL system related topics (not recommended)",
        "info": "",
        "x": 350,
        "y": 1080,
        "wires": []
    },
    {
        "id": "f285caf5.fd9ca8",
        "type": "mqtt in",
        "z": "55797933.e8ca98",
        "name": "MQTT receive: $SYS/#",
        "topic": "$SYS",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 180,
        "y": 1140,
        "wires": [
            [
                "f32dcf9f.a205a",
                "9ce1e0b.aa5fb2",
                "16f79e04.5e02a2"
            ]
        ]
    },
    {
        "id": "f32dcf9f.a205a",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 380,
        "y": 1140,
        "wires": []
    },
    {
        "id": "9ce1e0b.aa5fb2",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 390,
        "y": 1180,
        "wires": []
    },
    {
        "id": "16f79e04.5e02a2",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 370,
        "y": 1220,
        "wires": []
    },
    {
        "id": "613e9933.0c6e58",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays topic of message on debug screen",
        "info": "",
        "x": 680,
        "y": 1140,
        "wires": []
    },
    {
        "id": "e25fa2f4.fa461",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays content (payload) of message on debug screen",
        "info": "",
        "x": 720,
        "y": 1180,
        "wires": []
    },
    {
        "id": "b8e8b72b.fb7318",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays complete message object on debug screen",
        "info": "",
        "x": 710,
        "y": 1220,
        "wires": []
    },
    {
        "id": "b8f9d1d1.04cee",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "Now switch to DASHBOARD examples: temperature sensor OR system monitor",
        "info": "",
        "x": 360,
        "y": 1320,
        "wires": []
    },
    {
        "id": "a318d74e.93f838",
        "type": "comment",
        "z": "491766dc.090828",
        "name": "**COVERED SUBJECTS**",
        "info": "**\"Hello World !\" example**\n\n- Installation (**NOT covered**)\n- Server start-up (**NOT covered**)\n- Secure access (**NOT covered.** is not yet standard included )\n- Editor screen\n- Info tab (for reading this text)\n- Flows, nodes\n- Node types (message based, input, output, function, ....)\n- Flow creation & Deploy\n- Node: Inject\n- Node: Debug, \n- Node: Comment\n- Debug tab (all nodes vs. current flow)\n- Dashboard tab (**Later!** Dashboard is an extension!)",
        "x": 470,
        "y": 80,
        "wires": []
    },
    {
        "id": "8c227542.a382c8",
        "type": "comment",
        "z": "491766dc.090828",
        "name": "Select the comment node and see info > Node Help",
        "info": "Use Github flavoured Markdown for styling the body text",
        "x": 810,
        "y": 100,
        "wires": []
    },
    {
        "id": "9b1e642.b5e6d98",
        "type": "debug",
        "z": "491766dc.090828",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 350,
        "y": 140,
        "wires": []
    },
    {
        "id": "fa83c0fc.40a15",
        "type": "inject",
        "z": "491766dc.090828",
        "name": "",
        "topic": "Test",
        "payload": "Hello small world !",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 160,
        "wires": [
            [
                "9b1e642.b5e6d98"
            ]
        ]
    },
    {
        "id": "2890096a.18ad66",
        "type": "OS",
        "z": "93450420.4c39a8",
        "name": "",
        "x": 270,
        "y": 440,
        "wires": [
            [
                "77b87a89.3ebea4",
                "1bc51d23.c6c123"
            ]
        ]
    },
    {
        "id": "77b87a89.3ebea4",
        "type": "debug",
        "z": "93450420.4c39a8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 430,
        "y": 440,
        "wires": []
    },
    {
        "id": "3cfd876.9c03378",
        "type": "inject",
        "z": "93450420.4c39a8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 440,
        "wires": [
            [
                "2890096a.18ad66"
            ]
        ]
    },
    {
        "id": "1bc51d23.c6c123",
        "type": "split",
        "z": "93450420.4c39a8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 330,
        "y": 534,
        "wires": [
            [
                "c0b40db4.8779"
            ]
        ]
    },
    {
        "id": "c0b40db4.8779",
        "type": "debug",
        "z": "93450420.4c39a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 490,
        "y": 534,
        "wires": []
    },
    {
        "id": "a6ed90fd.5af68",
        "type": "comment",
        "z": "93450420.4c39a8",
        "name": "**COVERED SUBJECTS**",
        "info": "**Some further basics**\n\n- Inject node options (repeat)\n- Copy and paste nodes\n- Export and import nodes and flows\n- Message (object) structure and manipulation\n- Debug node options\n- Message structure and manipulation",
        "x": 550,
        "y": 80,
        "wires": []
    },
    {
        "id": "d5176c6e.00bbf",
        "type": "comment",
        "z": "93450420.4c39a8",
        "name": "**SUBJECTS TO BE COVERED**",
        "info": "- Extension of nodes palette\n- Dashboard\n- MQTT (architectture, topics, publish, subscription, topics tree (not extensive)\n- Temperature sensor example (publish from Python script (Paho) without Nodered)\n- MQTT ",
        "x": 600,
        "y": 580,
        "wires": []
    },
    {
        "id": "8fb62fc1.887ea",
        "type": "mqtt in",
        "z": "55797933.e8ca98",
        "name": "MQTT receive: trial",
        "topic": "trial",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 170,
        "y": 902,
        "wires": [
            [
                "847b521d.78bd1",
                "84b70ee7.28e44",
                "24d201d6.f7d49e"
            ]
        ]
    },
    {
        "id": "847b521d.78bd1",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 380,
        "y": 902,
        "wires": []
    },
    {
        "id": "84b70ee7.28e44",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 390,
        "y": 942,
        "wires": []
    },
    {
        "id": "24d201d6.f7d49e",
        "type": "debug",
        "z": "55797933.e8ca98",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 370,
        "y": 982,
        "wires": []
    },
    {
        "id": "29f1fc5c.f21b34",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays topic of message on debug screen",
        "info": "",
        "x": 680,
        "y": 902,
        "wires": []
    },
    {
        "id": "e66dde2.fe2fa2",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays content (payload) of message on debug screen",
        "info": "",
        "x": 720,
        "y": 942,
        "wires": []
    },
    {
        "id": "5f881ebd.09563",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "displays complete message object on debug screen",
        "info": "",
        "x": 710,
        "y": 982,
        "wires": []
    },
    {
        "id": "3800a27c.a6af4e",
        "type": "comment",
        "z": "55797933.e8ca98",
        "name": "also have a look on 192.168.2.32 (trial)",
        "info": "",
        "x": 670,
        "y": 820,
        "wires": []
    },
    {
        "id": "4095fa51.2740e4",
        "type": "comment",
        "z": "491766dc.090828",
        "name": "**\"Hello World !\" example**",
        "info": "",
        "x": 470,
        "y": 40,
        "wires": []
    },
    {
        "id": "7c99ef0d.4bd55",
        "type": "comment",
        "z": "93450420.4c39a8",
        "name": "**Some further basics**",
        "info": "",
        "x": 540,
        "y": 40,
        "wires": []
    },
    {
        "id": "126c2a62.ead756",
        "type": "inject",
        "z": "491766dc.090828",
        "name": "",
        "topic": "",
        "payload": "Hello World",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 280,
        "wires": [
            [
                "fd9b36a8.950808"
            ]
        ]
    },
    {
        "id": "fd9b36a8.950808",
        "type": "debug",
        "z": "491766dc.090828",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 350,
        "y": 280,
        "wires": []
    },
    {
        "id": "47bcfb3e.5ae7e4",
        "type": "http request",
        "z": "599e8aab.a9ec84",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "url": "http://192.168.2.13/core/modules",
        "tls": "",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "5f729b1.6547d64",
                "9c272c9b.a1e3e",
                "ecab3b6e.79f728"
            ]
        ]
    },
    {
        "id": "5f729b1.6547d64",
        "type": "xml",
        "z": "599e8aab.a9ec84",
        "name": "",
        "attr": "",
        "chr": "",
        "x": 475.77778244018555,
        "y": 179.99999809265137,
        "wires": [
            [
                "ef0cc34c.814eb",
                "863f7570.38c838",
                "9e3e5652.fcaf58",
                "f334bfd2.7dee8",
                "c124735e.df71",
                "e465a2d2.cdcb8",
                "2b573e1f.d98422"
            ]
        ]
    },
    {
        "id": "30e57d25.0e2942",
        "type": "inject",
        "z": "599e8aab.a9ec84",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 130,
        "y": 180,
        "wires": [
            [
                "47bcfb3e.5ae7e4"
            ]
        ]
    },
    {
        "id": "87027746.bc8688",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 1010,
        "y": 160,
        "wires": []
    },
    {
        "id": "2c2f65a7.8711da",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "Electricity (W)",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1020,
        "y": 400,
        "wires": []
    },
    {
        "id": "1d3b2306.5d08dd",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 770,
        "y": 400,
        "wires": []
    },
    {
        "id": "cb18907d.fcfad",
        "type": "comment",
        "z": "599e8aab.a9ec84",
        "name": "Read-out of Plugwise Smile for smart-meter data",
        "info": "- To be transferred to Raspberry Pi\n- To be combined with inside and aoutside thermometer readings",
        "x": 440,
        "y": 80,
        "wires": []
    },
    {
        "id": "ef0cc34c.814eb",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 678,
        "y": 180,
        "wires": []
    },
    {
        "id": "b0026ce8.7dbcd",
        "type": "http request",
        "z": "599e8aab.a9ec84",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "url": "http://goofy2knet.synology.me:7777/core/modules",
        "tls": "",
        "x": 336,
        "y": 122,
        "wires": [
            []
        ]
    },
    {
        "id": "863f7570.38c838",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "Gas_interval_meter",
        "func": "var msg1 = { payload: msg.payload.modules.module[1].services[0].gas_interval_meter[0].measurement[0]._};\nreturn [msg1];",
        "outputs": "1",
        "noerr": 0,
        "x": 530,
        "y": 280,
        "wires": [
            [
                "87027746.bc8688",
                "211e18d6.430fd8",
                "92d2204e.434b9",
                "60df7e99.6017f"
            ]
        ]
    },
    {
        "id": "9e3e5652.fcaf58",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "Electricity_interval_meter",
        "func": "var msg2 = { payload: msg.payload.modules};\nreturn [msg2];",
        "outputs": "1",
        "noerr": 0,
        "x": 550,
        "y": 400,
        "wires": [
            [
                "1d3b2306.5d08dd"
            ]
        ]
    },
    {
        "id": "f334bfd2.7dee8",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "Electricity_point_meter (signed)",
        "func": "var measurement = msg.payload.modules.module[0].services[0].electricity_point_meter[0].measurement;\nvar msg3 = { payload: measurement[1]._ - measurement[0]._};\nreturn [msg3];",
        "outputs": "1",
        "noerr": 0,
        "x": 570,
        "y": 360,
        "wires": [
            [
                "2c2f65a7.8711da",
                "e52d7208.a5dbb",
                "e5ed7973.8cba18",
                "89ebaf86.00fd5",
                "12077ee6.3cf2d1",
                "571101d4.8c45b",
                "e5dbe334.d7cf7"
            ]
        ]
    },
    {
        "id": "c124735e.df71",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "Gas_cumulative_meter",
        "func": "var msg1 = { payload: msg.payload.modules.module[1].services[0].gas_cumulative_meter[0].measurement[0]._};\nreturn [msg1];",
        "outputs": "1",
        "noerr": 0,
        "x": 550,
        "y": 320,
        "wires": [
            [
                "de3128cf.112d58"
            ]
        ]
    },
    {
        "id": "e465a2d2.cdcb8",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "Electricity_cumulative_meter",
        "func": "var msg00 = { payload: msg.payload.modules.module[0].services[0].electricity_cumulative_meter[0].measurement[0]._ };\nreturn [msg00];",
        "outputs": "1",
        "noerr": 0,
        "x": 560,
        "y": 440,
        "wires": [
            [
                "37bface4.fbeeb4"
            ]
        ]
    },
    {
        "id": "2b573e1f.d98422",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "Select value",
        "func": "var msg1 = { payload: msg.payload.modules};\nreturn [msg1];",
        "outputs": "1",
        "noerr": 0,
        "x": 170,
        "y": 240,
        "wires": [
            [
                "f3545b66.edc458"
            ]
        ]
    },
    {
        "id": "f3545b66.edc458",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 330,
        "y": 240,
        "wires": []
    },
    {
        "id": "37bface4.fbeeb4",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 770,
        "y": 440,
        "wires": []
    },
    {
        "id": "db21b33b.5949f",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var m={};\nm.labels = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\"];\nm.series = ['Series A', 'Series B', 'Series C'];\nm.data = [\n    [65, 59, 80, 81, 56, 55, 40],\n    [28, 48, 40, 19, 86, 27, 90],\n    [38, 28, 20, 49, 45, 60, 20]\n  ];\nreturn {payload:[m]};",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 360,
        "wires": [
            [
                "5ff31781.6633d8",
                "9eb640cb.22094",
                "5fcf9559.d8faac",
                "407b0f09.36733"
            ]
        ]
    },
    {
        "id": "e6ba0ac2.569c68",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var chart = [{\n    \"series\":[\"A\",\"B\",\"C\"],\n    \"data\":[[{\"x\":1504029632890,\"y\":5},{\"x\":1504029636001,\"y\":4},{\"x\":1504029638656,\"y\":2}],[{\"x\":1504029633514,\"y\":6},{\"x\":1504029636622,\"y\":7},{\"x\":1504029639539,\"y\":6}],[{\"x\":1504029634400,\"y\":7},{\"x\":1504029637959,\"y\":9},{\"x\":1504029640317,\"y\":7}]],\n    \"labels\":[\"\"]\n}];\nmsg.payload = chart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 200,
        "wires": [
            [
                "5ff31781.6633d8"
            ]
        ]
    },
    {
        "id": "35cbe926.059b06",
        "type": "random",
        "z": "937a7f11.e8a65",
        "name": "",
        "low": "1",
        "high": "10000000",
        "inte": "true",
        "property": "payload",
        "x": 260,
        "y": 560,
        "wires": [
            [
                "5ff31781.6633d8"
            ]
        ]
    },
    {
        "id": "37cfeede.65c2a2",
        "type": "inject",
        "z": "937a7f11.e8a65",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 90,
        "y": 560,
        "wires": [
            [
                "35cbe926.059b06"
            ]
        ]
    },
    {
        "id": "15ef209.a987ddf",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var m={};\nm.labels = [10,20,30,40,50,60,70];\nm.series = ['Series A', 'Series B', 'Series C', 'Series D'];\nm.data = [\n    [65, 59, 80, 81, 56, 55, 40],\n    [28, 48, 40, 19, 86, 27, 90],\n    [38, 28, 20, 49, 45, 60, 20],\n    [58, 18, 40, 29, 15, 30, 60]\n  ];\nreturn {payload:[m]};",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 400,
        "wires": [
            [
                "5ff31781.6633d8",
                "9eb640cb.22094",
                "5fcf9559.d8faac",
                "407b0f09.36733"
            ]
        ]
    },
    {
        "id": "f067e03c.d9fa7",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var chart = [{\n    \"series\":[\"A\",\"B\",\"C\"],\n        \"data\":[[{\"x\":1,\"y\":5},{\"x\":2,\"y\":4},{\"x\":3,\"y\":2}],[{\"x\":4,\"y\":6},{\"x\":5,\"y\":7},{\"x\":6,\"y\":6}],[{\"x\":7,\"y\":7},{\"x\":8,\"y\":9},{\"x\":9,\"y\":7}]],\n    \"labels\":[\"\"]\n}];\nmsg.payload = chart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 240,
        "wires": [
            [
                "5ff31781.6633d8"
            ]
        ]
    },
    {
        "id": "f5a73fae.bb288",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var m = {};\nm.labels = [\"Download\", \"In-Store\", \"Mail-Order\"];\nm.data = [[300, 500, 100]];\nm.series = [\"Sales\"];\nreturn {payload:[m],topic:msg.topic};",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 600,
        "wires": [
            [
                "407b0f09.36733",
                "9eb640cb.22094",
                "5ff31781.6633d8",
                "3cf9d484.04becc",
                "fc94e674.5ddc28",
                "5fcf9559.d8faac"
            ]
        ]
    },
    {
        "id": "982d85a8.ff5638",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var chart = [{\n    \"series\":[\"A\",\"B\",\"C\"],\n        \"data\":[[{\"x\":1000000,\"y\":5},{\"x\":2000000,\"y\":4},{\"x\":3000000,\"y\":2}],[{\"x\":4000000,\"y\":6},{\"x\":5000000,\"y\":7},{\"x\":6000000,\"y\":6}],[{\"x\":7000000,\"y\":7},{\"x\":8000000,\"y\":9},{\"x\":9000000,\"y\":7}]],\n    \"labels\":[\"\"]\n}];\nmsg.payload = chart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 280,
        "wires": [
            [
                "5ff31781.6633d8"
            ]
        ]
    },
    {
        "id": "ee0b1f5.c2924e",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var chart = [{\n    \"series\":[\"A\",\"B\",\"C\"],\n        \"data\":[[{\"x\":1000000000,\"y\":5},{\"x\":2000000000,\"y\":4},{\"x\":3000000000,\"y\":2}],[{\"x\":4000000000,\"y\":6},{\"x\":5000000000,\"y\":7},{\"x\":6000000000,\"y\":6}],[{\"x\":7000000000,\"y\":7},{\"x\":8000000000,\"y\":9},{\"x\":9000000000,\"y\":7}]],\n    \"labels\":[\"\"]\n}];\nmsg.payload = chart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 320,
        "wires": [
            [
                "5ff31781.6633d8"
            ]
        ]
    },
    {
        "id": "e9529613.c48788",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var m={\n    \"series\":[\"X\",\"Y\",\"Z\"],\n    \"data\":[[5,6,9],[3,8,5],[6,7,2]],\n    \"labels\":[\"Jan\",\"Feb\",\"Mar\"]\n};\nreturn {payload:[m]};",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 520,
        "wires": [
            [
                "5ff31781.6633d8",
                "9eb640cb.22094",
                "407b0f09.36733",
                "3cf9d484.04becc",
                "fc94e674.5ddc28",
                "5fcf9559.d8faac"
            ]
        ]
    },
    {
        "id": "f8293fc.1843bc",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var m = {};\nm.labels = ['2006', '2007', '2008', '2009', '2010', '2011', '2012'];\nm.data = [[28, 48, 40, 19, 86, 27, 90]];\nm.series = ['Series A'];\nreturn {payload:[m],topic:msg.topic};",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 640,
        "wires": [
            [
                "407b0f09.36733",
                "9eb640cb.22094",
                "fc94e674.5ddc28",
                "3cf9d484.04becc",
                "5ff31781.6633d8",
                "5fcf9559.d8faac"
            ]
        ]
    },
    {
        "id": "971b7f59.35268",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "topic",
        "func": "var m = [\n    {topic:\"X\", payload:22},\n    {topic:\"Y\", payload:66},\n    {topic:\"Z\", payload:42}\n    ];\nreturn [m];",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "9eb640cb.22094",
                "407b0f09.36733",
                "5ff31781.6633d8",
                "5fcf9559.d8faac"
            ]
        ]
    },
    {
        "id": "686777b6.0135f8",
        "type": "inject",
        "z": "937a7f11.e8a65",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 100,
        "y": 160,
        "wires": [
            [
                "971b7f59.35268"
            ]
        ]
    },
    {
        "id": "3daed358.59581c",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "label",
        "func": "var m = [\n    {label:\"A\", payload:22},\n    {label:\"B\", payload:66},\n    {label:\"C\", payload:42},\n    ];\nreturn [m];",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 120,
        "wires": [
            [
                "9eb640cb.22094",
                "407b0f09.36733",
                "5ff31781.6633d8",
                "5fcf9559.d8faac"
            ]
        ]
    },
    {
        "id": "dde9c3eb.bc3d2",
        "type": "inject",
        "z": "937a7f11.e8a65",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 100,
        "y": 120,
        "wires": [
            [
                "3daed358.59581c"
            ]
        ]
    },
    {
        "id": "cbe81aa6.1df658",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var m={\n    \"series\":[\"X\",\"Y\",\"Z\"],\n    \"data\":[[5],[3],[6]],\n    \"labels\":[\"Jan\"]\n};\nreturn {payload:[m]};",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 440,
        "wires": [
            [
                "9eb640cb.22094",
                "3cf9d484.04becc",
                "fc94e674.5ddc28",
                "5ff31781.6633d8",
                "5fcf9559.d8faac",
                "407b0f09.36733"
            ]
        ]
    },
    {
        "id": "90759da3.feef",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "",
        "func": "var m={\n    \"series\":[\"X\"],\n    \"data\":[[5,3,6]],\n    \"labels\":[\"Jan\",\"Feb\",\"Mar\"]\n};\nreturn {payload:[m]};",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 480,
        "wires": [
            [
                "9eb640cb.22094",
                "5ff31781.6633d8",
                "fc94e674.5ddc28",
                "3cf9d484.04becc",
                "5fcf9559.d8faac",
                "407b0f09.36733"
            ]
        ]
    },
    {
        "id": "46a7a7ba.5625b8",
        "type": "function",
        "z": "937a7f11.e8a65",
        "name": "label",
        "func": "var m = [\n    {label:\"A\", payload:22, series:\"X\"},\n    {label:\"B\", payload:66, series:\"X\"},\n    {label:\"C\", payload:42, series:\"X\"},\n    {label:\"A\", payload:33, series:\"Y\"},\n    {label:\"B\", payload:72, series:\"Y\"},\n    {label:\"C\", payload:12, series:\"Y\"},\n    {label:\"A\", payload:44, series:\"Z\"},\n    {label:\"B\", payload:32, series:\"Z\"},\n    {label:\"C\", payload:80, series:\"Z\"}\n    ];\nreturn [m];",
        "outputs": 1,
        "noerr": 0,
        "x": 270,
        "y": 80,
        "wires": [
            [
                "407b0f09.36733",
                "9eb640cb.22094",
                "5ff31781.6633d8",
                "5fcf9559.d8faac"
            ]
        ]
    },
    {
        "id": "c472f8f7.e84238",
        "type": "inject",
        "z": "937a7f11.e8a65",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 100,
        "y": 80,
        "wires": [
            [
                "46a7a7ba.5625b8"
            ]
        ]
    },
    {
        "id": "1beb8cf9.416ad3",
        "type": "function",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "func": "msg.payload=[\n\t{name:'bruteute',age:32},\n\t{name:'schnute',age:21},\n\t{name:'kasimir',age:25},\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 100,
        "wires": [
            [
                "d0c30233.01735"
            ]
        ]
    },
    {
        "id": "d7b79830.17cd88",
        "type": "function",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "func": "msg.payload=[\n\t{name:30,age:20},\n\t{name:25,age:10},\n\t{name:32,age:25},\n];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 200,
        "wires": [
            [
                "ab6180c7.69cf6"
            ]
        ]
    },
    {
        "id": "504c83a2.1c040c",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 410,
        "y": 60,
        "wires": []
    },
    {
        "id": "af4a6425.e1a9f8",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 410,
        "y": 160,
        "wires": []
    },
    {
        "id": "bcfffec2.dbe76",
        "type": "comment",
        "z": "6e7288cb.27ffb8",
        "name": "Basic Example",
        "info": "",
        "x": 200,
        "y": 60,
        "wires": []
    },
    {
        "id": "197c5dfc.8e4502",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 390,
        "y": 20,
        "wires": []
    },
    {
        "id": "9a379a88.b73758",
        "type": "comment",
        "z": "6e7288cb.27ffb8",
        "name": "Scatter Chart",
        "info": "",
        "x": 190,
        "y": 160,
        "wires": []
    },
    {
        "id": "7ab703.f05758fc",
        "type": "comment",
        "z": "6e7288cb.27ffb8",
        "name": "Helper Flows",
        "info": "",
        "x": 190,
        "y": 260,
        "wires": []
    },
    {
        "id": "3007e871.98aef8",
        "type": "join",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 710,
        "y": 460,
        "wires": [
            [
                "3bf51cbc.d25804"
            ]
        ]
    },
    {
        "id": "f68e4f23.22b2b",
        "type": "random",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "low": "0",
        "high": "1",
        "inte": "false",
        "property": "payload",
        "x": 300,
        "y": 440,
        "wires": [
            [
                "1c7b77ce.2b60b8",
                "b56dfa77.ceb328"
            ]
        ]
    },
    {
        "id": "679cd2a1.196e7c",
        "type": "random",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "low": "0",
        "high": "1",
        "inte": "false",
        "property": "payload",
        "x": 300,
        "y": 500,
        "wires": [
            [
                "421a9ac4.c34bf4"
            ]
        ]
    },
    {
        "id": "4f2af5c4.f00b5c",
        "type": "inject",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "topic": "",
        "payload": "{\"x\" : 0}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 480,
        "wires": [
            [
                "f68e4f23.22b2b",
                "679cd2a1.196e7c",
                "2aa9885d.624598"
            ]
        ]
    },
    {
        "id": "25137c7c.729e44",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.x",
        "x": 600,
        "y": 400,
        "wires": []
    },
    {
        "id": "3bf51cbc.d25804",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 850,
        "y": 460,
        "wires": []
    },
    {
        "id": "1c7b77ce.2b60b8",
        "type": "change",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"x\" : 2.3}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 440,
        "wires": [
            [
                "25137c7c.729e44",
                "3007e871.98aef8"
            ]
        ]
    },
    {
        "id": "421a9ac4.c34bf4",
        "type": "change",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"y\" : 1.4}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 500,
        "wires": [
            [
                "b7da46e3.e6cf58",
                "3007e871.98aef8"
            ]
        ]
    },
    {
        "id": "b7da46e3.e6cf58",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.y",
        "x": 587.5,
        "y": 598.75,
        "wires": []
    },
    {
        "id": "b56dfa77.ceb328",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 410,
        "y": 400,
        "wires": []
    },
    {
        "id": "2aa9885d.624598",
        "type": "debug",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 249.2045440673828,
        "y": 630.2272338867188,
        "wires": []
    },
    {
        "id": "687e91e6.2fd21",
        "type": "join",
        "z": "e20bd973.57e138",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 530,
        "y": 220,
        "wires": [
            [
                "ed8c020d.f310d"
            ]
        ]
    },
    {
        "id": "f0f864db.6b5b48",
        "type": "inject",
        "z": "e20bd973.57e138",
        "name": "",
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 220,
        "wires": [
            [
                "e2b197ed.28e558",
                "7e131ffb.71117"
            ]
        ]
    },
    {
        "id": "2f728417.2dd2ec",
        "type": "debug",
        "z": "e20bd973.57e138",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 510,
        "y": 100,
        "wires": []
    },
    {
        "id": "a4dd6d32.75f6e",
        "type": "debug",
        "z": "e20bd973.57e138",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 160,
        "wires": []
    },
    {
        "id": "c88faad0.0f4aa8",
        "type": "function",
        "z": "e20bd973.57e138",
        "name": "",
        "func": "var mynumber = msg.data;\nmsg.payload.x = mynumber;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 180,
        "wires": [
            [
                "2f728417.2dd2ec",
                "687e91e6.2fd21"
            ]
        ]
    },
    {
        "id": "61e46673.5c26e8",
        "type": "function",
        "z": "e20bd973.57e138",
        "name": "",
        "func": "msg.payload.y = msg.data;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 260,
        "wires": [
            [
                "7946f1bd.d08fc",
                "687e91e6.2fd21"
            ]
        ]
    },
    {
        "id": "7946f1bd.d08fc",
        "type": "debug",
        "z": "e20bd973.57e138",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 510,
        "y": 320,
        "wires": []
    },
    {
        "id": "6431875c.12d328",
        "type": "debug",
        "z": "e20bd973.57e138",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 340,
        "wires": []
    },
    {
        "id": "e2b197ed.28e558",
        "type": "random",
        "z": "e20bd973.57e138",
        "name": "",
        "low": "0",
        "high": "1",
        "inte": "false",
        "property": "data",
        "x": 240,
        "y": 160,
        "wires": [
            [
                "c88faad0.0f4aa8",
                "866a921d.997e"
            ]
        ]
    },
    {
        "id": "7e131ffb.71117",
        "type": "random",
        "z": "e20bd973.57e138",
        "name": "",
        "low": "0",
        "high": "1",
        "inte": "false",
        "property": "data",
        "x": 220,
        "y": 280,
        "wires": [
            [
                "61e46673.5c26e8"
            ]
        ]
    },
    {
        "id": "866a921d.997e",
        "type": "debug",
        "z": "e20bd973.57e138",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 350,
        "y": 60,
        "wires": []
    },
    {
        "id": "ed8c020d.f310d",
        "type": "function",
        "z": "e20bd973.57e138",
        "name": "",
        "func": "var noise = msg.payload.y-0.5;\nmsg.payload.y = 10*msg.payload.x+noise;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 160,
        "wires": [
            [
                "a4dd6d32.75f6e",
                "d14ee1f.27d1c2"
            ]
        ]
    },
    {
        "id": "fef39b08.e8ba78",
        "type": "inject",
        "z": "e20bd973.57e138",
        "name": "Clear",
        "topic": "",
        "payload": "{\"y\" : 0}",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 380,
        "wires": [
            [
                "d14ee1f.27d1c2"
            ]
        ]
    },
    {
        "id": "4a7cf174.db988",
        "type": "debug",
        "z": "e20bd973.57e138",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "function",
        "x": 770,
        "y": 440,
        "wires": []
    },
    {
        "id": "b9f47ed4.56558",
        "type": "debug",
        "z": "e20bd973.57e138",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "prediction",
        "x": 762.857177734375,
        "y": 522.857177734375,
        "wires": []
    },
    {
        "id": "9c272c9b.a1e3e",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 511,
        "y": 116,
        "wires": []
    },
    {
        "id": "a34b6973.0bd4f8",
        "type": "comment",
        "z": "ab9b51d3.46d2d",
        "name": "Counters",
        "info": "Development of counters that show:\n    * elapsed time since last reset\n    * elapsed time since last message\n    * elapsed time since last change of value of payload",
        "x": 360,
        "y": 160,
        "wires": []
    },
    {
        "id": "2ab8cc4f.1d2f44",
        "type": "inject",
        "z": "ab9b51d3.46d2d",
        "name": "Tick",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 370,
        "y": 360,
        "wires": [
            [
                "c4a842d0.69583"
            ]
        ]
    },
    {
        "id": "68fbf5b5.a7d66c",
        "type": "inject",
        "z": "ab9b51d3.46d2d",
        "name": "Reset",
        "topic": "",
        "payload": "RESET PRESSED",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 370,
        "y": 460,
        "wires": [
            [
                "6d9ef7fc.6a7f38"
            ]
        ]
    },
    {
        "id": "44e13836.cc9b18",
        "type": "debug",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "ad5768ac.e7f108",
        "type": "debug",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 830,
        "y": 320,
        "wires": []
    },
    {
        "id": "6d9ef7fc.6a7f38",
        "type": "change",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 460,
        "wires": [
            [
                "9bc01de6.ed34e",
                "c4a842d0.69583"
            ]
        ]
    },
    {
        "id": "9bc01de6.ed34e",
        "type": "debug",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 770,
        "y": 460,
        "wires": []
    },
    {
        "id": "e0da3ea7.278d5",
        "type": "change",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 520,
        "wires": [
            [
                "c4a842d0.69583"
            ]
        ]
    },
    {
        "id": "1b7e6c4d.d3bdd4",
        "type": "inject",
        "z": "599e8aab.a9ec84",
        "name": "Tick",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 1450,
        "y": 40,
        "wires": [
            [
                "1d9917d4.a20488"
            ]
        ]
    },
    {
        "id": "4cc1d1e9.972cb",
        "type": "inject",
        "z": "599e8aab.a9ec84",
        "name": "Reset",
        "topic": "",
        "payload": "RESET PRESSED",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 1450,
        "y": 180,
        "wires": [
            [
                "9635b9ee.ea1278"
            ]
        ]
    },
    {
        "id": "355c74ca.018ddc",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1870,
        "y": 140,
        "wires": []
    },
    {
        "id": "c68bf26c.155af",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1870,
        "y": 100,
        "wires": []
    },
    {
        "id": "9635b9ee.ea1278",
        "type": "change",
        "z": "599e8aab.a9ec84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1640,
        "y": 180,
        "wires": [
            [
                "d7ec873.8658378",
                "1d9917d4.a20488"
            ]
        ]
    },
    {
        "id": "d7ec873.8658378",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1850,
        "y": 180,
        "wires": []
    },
    {
        "id": "ecab3b6e.79f728",
        "type": "change",
        "z": "599e8aab.a9ec84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1460,
        "y": 140,
        "wires": [
            [
                "1d9917d4.a20488"
            ]
        ]
    },
    {
        "id": "c118debc.8d86f",
        "type": "function",
        "z": "ab9b51d3.46d2d",
        "name": "buffer = msg.payload",
        "func": "var context = this.context;\ndifference = msg.payload;\nvar oldvalue = context.get('buffer') || 0;\ncontext.set('buffer',msg.payload);\nmsg.payload = oldvalue;\ndifference = difference - oldvalue;\nmsg.delta = difference;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1350,
        "y": 440,
        "wires": [
            [
                "2edcc837.98cca8",
                "abcf482e.5c7708"
            ]
        ]
    },
    {
        "id": "d4970bc9.39f3f8",
        "type": "inject",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 1120,
        "y": 440,
        "wires": [
            [
                "c118debc.8d86f",
                "f0af8282.6196b"
            ]
        ]
    },
    {
        "id": "2edcc837.98cca8",
        "type": "debug",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1570,
        "y": 380,
        "wires": []
    },
    {
        "id": "f0af8282.6196b",
        "type": "debug",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1570,
        "y": 320,
        "wires": []
    },
    {
        "id": "abcf482e.5c7708",
        "type": "debug",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "delta",
        "x": 1560,
        "y": 440,
        "wires": []
    },
    {
        "id": "afeb921d.103e9",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "#",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "75b9c2fd.e7453c"
            ]
        ]
    },
    {
        "id": "24e86e8.4f65e92",
        "type": "comment",
        "z": "a2794803.694d38",
        "name": "Credentials for MQTT server",
        "info": "user: <application_id>\npass: <access key>",
        "x": 180,
        "y": 160,
        "wires": []
    },
    {
        "id": "cc7f4d09.b72a9",
        "type": "comment",
        "z": "a2794803.694d38",
        "name": "RECEIVE FROM DEVICE",
        "info": "",
        "x": 390,
        "y": 254,
        "wires": []
    },
    {
        "id": "91ced584.c64168",
        "type": "comment",
        "z": "a2794803.694d38",
        "name": "OK",
        "info": "",
        "x": 210,
        "y": 314,
        "wires": []
    },
    {
        "id": "2d63392.6cc52c6",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "fv_nodes/#",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 200,
        "y": 711,
        "wires": [
            [
                "c136936a.5deac",
                "a6956eb5.be233",
                "22d59f4a.0f83e",
                "1f734101.53632f"
            ]
        ]
    },
    {
        "id": "c136936a.5deac",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 450,
        "y": 711,
        "wires": []
    },
    {
        "id": "bd25e603.8bffe8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 590,
        "y": 860,
        "wires": []
    },
    {
        "id": "6d55251e.b7c40c",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "fv_nodes/devices/sensor01/up",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 260,
        "y": 844,
        "wires": [
            [
                "bd25e603.8bffe8",
                "ceaa468.c9b80b8",
                "c798bab9.bf6e58"
            ]
        ]
    },
    {
        "id": "4c5032be.b2ddac",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 810,
        "y": 320,
        "wires": []
    },
    {
        "id": "ceaa468.c9b80b8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 570,
        "y": 900,
        "wires": []
    },
    {
        "id": "a6956eb5.be233",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 450,
        "y": 791,
        "wires": []
    },
    {
        "id": "22d59f4a.0f83e",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "pretty": true,
        "x": 350,
        "y": 671,
        "wires": [
            [
                "a82d679d.ee5678"
            ]
        ]
    },
    {
        "id": "a82d679d.ee5678",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 510,
        "y": 671,
        "wires": []
    },
    {
        "id": "b11045d3.c7c898",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "fv_nodes/devices/sensor01/events/#",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 200,
        "y": 294,
        "wires": [
            [
                "e57f3689.611de8"
            ]
        ]
    },
    {
        "id": "1c22b7a3.4a23d8",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "fv_nodes/devices/sensor01/events/activations",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 230,
        "y": 354,
        "wires": [
            [
                "e57f3689.611de8"
            ]
        ]
    },
    {
        "id": "80fd5334.f8af7",
        "type": "comment",
        "z": "a2794803.694d38",
        "name": "OK",
        "info": "",
        "x": 70,
        "y": 711,
        "wires": []
    },
    {
        "id": "dea3310b.e4f89",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "fv_nodes/devices/sensor01/up/mbar",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 280,
        "y": 948,
        "wires": [
            [
                "73551092.791a4",
                "6d21dd26.96b194",
                "5de13c45.607e64"
            ]
        ]
    },
    {
        "id": "a007a780.5401d8",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "fv_nodes/devices/sensor01/up/celcius",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 270,
        "y": 1060,
        "wires": [
            [
                "cd11f1f7.6af09",
                "53546d6c.746d24",
                "6f2ebe79.4d38d",
                "2624b29.cec904e",
                "2026bbc8.172154"
            ]
        ]
    },
    {
        "id": "e57f3689.611de8",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "pretty": "false",
        "x": 510,
        "y": 314,
        "wires": [
            [
                "4c5032be.b2ddac",
                "a0a9fb32.1ef578",
                "dc9c9a42.d7ba88",
                "7609ff91.1bd2b",
                "8e9aa5f8.6582c8",
                "931dae.de58325",
                "a2827198.69374",
                "ce7690a2.20fe2",
                "ac182f00.5c6e1",
                "ab579cbb.641e7",
                "d7fcb19.04de55"
            ]
        ]
    },
    {
        "id": "a0a9fb32.1ef578",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 830,
        "y": 354,
        "wires": []
    },
    {
        "id": "dc9c9a42.d7ba88",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata",
        "x": 860,
        "y": 394,
        "wires": []
    },
    {
        "id": "7609ff91.1bd2b",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.time",
        "x": 880,
        "y": 454,
        "wires": []
    },
    {
        "id": "8e9aa5f8.6582c8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.gateways[0].gtw_id",
        "x": 930,
        "y": 494,
        "wires": []
    },
    {
        "id": "931dae.de58325",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.gateways[0].rssi",
        "x": 920,
        "y": 545,
        "wires": []
    },
    {
        "id": "a2827198.69374",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.gateways[0].snr",
        "x": 910,
        "y": 585,
        "wires": []
    },
    {
        "id": "ce7690a2.20fe2",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "rssi",
        "func": "msg.payload = msg.payload.metadata.gateways[0].rssi;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1140,
        "y": 294,
        "wires": [
            [
                "80d9b9ba.ef2f98",
                "9bf7c436.9d0a58",
                "7ba278c7.4de1b8",
                "95bbfd0.5ce79"
            ]
        ]
    },
    {
        "id": "ac182f00.5c6e1",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "snr",
        "func": "msg.payload = msg.payload.metadata.gateways[0].snr;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1130,
        "y": 334,
        "wires": [
            [
                "be015a17.886798",
                "5eca7cfc.7890d4",
                "e4a59570.39bd58"
            ]
        ]
    },
    {
        "id": "80d9b9ba.ef2f98",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 1290,
        "y": 294,
        "wires": []
    },
    {
        "id": "be015a17.886798",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 1290,
        "y": 334,
        "wires": []
    },
    {
        "id": "ab579cbb.641e7",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "time",
        "func": "msg.payload = msg.payload.metadata.time;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 174,
        "wires": [
            [
                "6d36b99c.c045f8"
            ]
        ]
    },
    {
        "id": "d7fcb19.04de55",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "gtw_id",
        "func": "msg.payload = msg.payload.metadata.gateways[0].gtw_id;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 234,
        "wires": [
            [
                "f0fd7618.15ae08"
            ]
        ]
    },
    {
        "id": "f52e4b6a.2232f8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 544,
        "y": 1144,
        "wires": []
    },
    {
        "id": "3d8d699b.9b17f6",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 544,
        "y": 1204,
        "wires": []
    },
    {
        "id": "c527ab04.6f2608",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 544,
        "y": 1284,
        "wires": []
    },
    {
        "id": "d77a0920.29ddf8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 1550,
        "y": 211,
        "wires": []
    },
    {
        "id": "2026bbc8.172154",
        "type": "http request",
        "z": "a2794803.694d38",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "url": "api.openweathermap.org/data/2.5/forecast?lat=51.6861&lon=5.1314&APPID=8408dfcc986b31025a3cdc5a4c21b78b",
        "tls": "",
        "x": 150,
        "y": 1488,
        "wires": [
            [
                "6fd0806f.6fb82"
            ]
        ]
    },
    {
        "id": "6fd0806f.6fb82",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "pretty": "false",
        "x": 310,
        "y": 1568,
        "wires": [
            [
                "6ce8f93e.87d2e8",
                "3041495c.6d5636",
                "b646e40b.6e29c8",
                "56d75bc8.888774",
                "956fdc43.ed492"
            ]
        ]
    },
    {
        "id": "6ce8f93e.87d2e8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 360,
        "y": 1628,
        "wires": []
    },
    {
        "id": "3041495c.6d5636",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.list[0].main.pressure",
        "x": 440,
        "y": 1688,
        "wires": []
    },
    {
        "id": "b646e40b.6e29c8",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "OWM pressure @ ?",
        "func": "msg.payload = msg.payload.list[0].main.pressure;\nmsg.topic = \"OWM pressure\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 1580,
        "wires": [
            [
                "199a66f8.64ca29",
                "73551092.791a4",
                "d13e7374.a8c4d"
            ]
        ]
    },
    {
        "id": "199a66f8.64ca29",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 790,
        "y": 1648,
        "wires": []
    },
    {
        "id": "54ac5da7.fc8784",
        "type": "http request",
        "z": "a2794803.694d38",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "url": "api.openweathermap.org/data/2.5/forecast?id=524901&APPID=8408dfcc986b31025a3cdc5a4c21b78b",
        "tls": "",
        "x": 150,
        "y": 1548,
        "wires": [
            []
        ]
    },
    {
        "id": "56d75bc8.888774",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 534,
        "y": 1498.3636474609375,
        "wires": []
    },
    {
        "id": "8b217a1d.e7a648",
        "type": "file",
        "z": "a2794803.694d38",
        "name": "append to loradata.json.txt ",
        "filename": "loradata.json.txt",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "x": 920,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "956fdc43.ed492",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "OWM list",
        "func": "msg.payload = msg.payload.list;\nmsg.topic = \"OWM/list\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 1540,
        "wires": [
            [
                "b847dd.beeac82",
                "d9f4ad24.be07f"
            ]
        ]
    },
    {
        "id": "b847dd.beeac82",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 650,
        "y": 1540,
        "wires": []
    },
    {
        "id": "d9f4ad24.be07f",
        "type": "split",
        "z": "a2794803.694d38",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 780,
        "y": 1460,
        "wires": [
            [
                "5b53e51b.d038ac",
                "c0d9e72.18ee618",
                "99371fe7.4cc23",
                "5ea329c.57082d8"
            ]
        ]
    },
    {
        "id": "5b53e51b.d038ac",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.main.pressure",
        "x": 920,
        "y": 1520,
        "wires": []
    },
    {
        "id": "c0d9e72.18ee618",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.dt",
        "x": 980,
        "y": 1460,
        "wires": []
    },
    {
        "id": "99371fe7.4cc23",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "OWM pressure",
        "func": "p = msg.payload.main.pressure;\nt = msg.payload.dt;\nt = t*1000;\nmsg.payload = p;\nmsg.timestamp = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 920,
        "y": 1300,
        "wires": [
            [
                "9ce5f05f.3d951",
                "cda5edd0.0ca95",
                "a3737ade.8e6528"
            ]
        ]
    },
    {
        "id": "9ce5f05f.3d951",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "timestamp",
        "x": 1080,
        "y": 1340,
        "wires": []
    },
    {
        "id": "cda5edd0.0ca95",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 1050,
        "y": 1380,
        "wires": []
    },
    {
        "id": "5ea329c.57082d8",
        "type": "change",
        "z": "a2794803.694d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "a0f8bb69.8534f8",
        "type": "comment",
        "z": "a2794803.694d38",
        "name": "Credentials",
        "info": "user: <application_id>\npass: <access key>",
        "x": 1310,
        "y": 700,
        "wires": []
    },
    {
        "id": "c0041330.cd69c",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 1070,
        "y": 740,
        "wires": []
    },
    {
        "id": "c798bab9.bf6e58",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": true,
        "x": 970,
        "y": 700,
        "wires": [
            [
                "c0041330.cd69c",
                "a0cd1ab5.5decf8",
                "1099eb95.e48fe4",
                "e50d17e4.870ef8",
                "440c1319.a066cc",
                "2c6a5b64.acc7e4",
                "ee94b5c6.a68c58",
                "c4ab6dfa.5608f",
                "4b36ae5.3148b5",
                "c38b01a2.1acd5",
                "632ca010.4a9ca",
                "c62127fd.e20da8"
            ]
        ]
    },
    {
        "id": "a0cd1ab5.5decf8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 1290,
        "y": 740,
        "wires": []
    },
    {
        "id": "1099eb95.e48fe4",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata",
        "x": 1320,
        "y": 780,
        "wires": []
    },
    {
        "id": "e50d17e4.870ef8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.time",
        "x": 1340,
        "y": 840,
        "wires": []
    },
    {
        "id": "440c1319.a066cc",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.gateways[0].gtw_id",
        "x": 1390,
        "y": 880,
        "wires": []
    },
    {
        "id": "2c6a5b64.acc7e4",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.gateways[0].rssi",
        "x": 1380,
        "y": 931,
        "wires": []
    },
    {
        "id": "ee94b5c6.a68c58",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.metadata.gateways[0].snr",
        "x": 1370,
        "y": 971,
        "wires": []
    },
    {
        "id": "c4ab6dfa.5608f",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "rssi",
        "func": "msg.payload = msg.payload.metadata.gateways[0].rssi;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1600,
        "y": 680,
        "wires": [
            [
                "95bbfd0.5ce79",
                "9bf7c436.9d0a58",
                "52c0b4d6.cc2b8c"
            ]
        ]
    },
    {
        "id": "4b36ae5.3148b5",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "snr",
        "func": "msg.payload = msg.payload.metadata.gateways[0].snr;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1590,
        "y": 720,
        "wires": [
            [
                "5eca7cfc.7890d4",
                "eafd37bc.9a9068"
            ]
        ]
    },
    {
        "id": "c38b01a2.1acd5",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "time",
        "func": "msg.payload = msg.payload.metadata.time;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1230,
        "y": 560,
        "wires": [
            [
                "567e77b5.f51c18"
            ]
        ]
    },
    {
        "id": "632ca010.4a9ca",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "gtw_id",
        "func": "msg.payload = msg.payload.metadata.gateways[0].gtw_id;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1230,
        "y": 620,
        "wires": [
            [
                "47c973a4.c8eb5c"
            ]
        ]
    },
    {
        "id": "a0f95e30.b6efd",
        "type": "comment",
        "z": "a2794803.694d38",
        "name": "Pressure from weather app",
        "info": "The pressure is requested from the weather app once it gets a reading by TTN\n\nThis helps to generate pairs of predicted and measured pressures. \nBe careful about the max number of requests.",
        "x": 140,
        "y": 1340,
        "wires": []
    },
    {
        "id": "e2f65cfe.ffa76",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/mean",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 270,
        "y": 60,
        "wires": [
            [
                "90411018.50ec5"
            ]
        ]
    },
    {
        "id": "27183f14.0e904",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/mean",
        "payload": "2",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 270,
        "y": 180,
        "wires": [
            [
                "90411018.50ec5"
            ]
        ]
    },
    {
        "id": "2c2f79da.902116",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/mean",
        "payload": "3",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 270,
        "y": 280,
        "wires": [
            [
                "90411018.50ec5"
            ]
        ]
    },
    {
        "id": "befe9588.627de8",
        "type": "debug",
        "z": "b417289e.bd5028",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 770,
        "y": 220,
        "wires": []
    },
    {
        "id": "553c0708.42afc8",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/size",
        "payload": "",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 260,
        "y": 380,
        "wires": [
            [
                "90411018.50ec5"
            ]
        ]
    },
    {
        "id": "6f54ecda.14e744",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/clear",
        "payload": "0",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 270,
        "y": 460,
        "wires": [
            [
                "90411018.50ec5"
            ]
        ]
    },
    {
        "id": "45d29a6c.497444",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/dump",
        "payload": "3",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 270,
        "y": 540,
        "wires": [
            [
                "90411018.50ec5"
            ]
        ]
    },
    {
        "id": "75e584bf.2d623c",
        "type": "switch",
        "z": "b417289e.bd5028",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "10",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "outputs": 2,
        "x": 770,
        "y": 360,
        "wires": [
            [
                "a928d231.6ed73"
            ],
            [
                "85eaf533.b93558"
            ]
        ]
    },
    {
        "id": "85eaf533.b93558",
        "type": "change",
        "z": "b417289e.bd5028",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "data/clear",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 460,
        "wires": [
            [
                "127405d3.b03fba"
            ]
        ]
    },
    {
        "id": "a928d231.6ed73",
        "type": "change",
        "z": "b417289e.bd5028",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "data/size",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 950,
        "y": 340,
        "wires": [
            [
                "127405d3.b03fba"
            ]
        ]
    },
    {
        "id": "127405d3.b03fba",
        "type": "debug",
        "z": "b417289e.bd5028",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 1130,
        "y": 340,
        "wires": []
    },
    {
        "id": "92b3f865.cbfcb8",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 60,
        "y": 780,
        "wires": [
            [
                "9de9ac3c.23726"
            ]
        ]
    },
    {
        "id": "c2b1f78a.09ce68",
        "type": "switch",
        "z": "b417289e.bd5028",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "9",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "10",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "outputs": 3,
        "x": 370,
        "y": 720,
        "wires": [
            [
                "2dcb7cc7.cb6374"
            ],
            [
                "e725d423.db8838"
            ],
            [
                "aeb49866.9f33c8"
            ]
        ]
    },
    {
        "id": "2dcb7cc7.cb6374",
        "type": "change",
        "z": "b417289e.bd5028",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "data/size",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 660,
        "wires": [
            [
                "c6f4f171.ab0fa"
            ]
        ]
    },
    {
        "id": "aeb49866.9f33c8",
        "type": "change",
        "z": "b417289e.bd5028",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "data/clear",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 800,
        "wires": [
            [
                "c6f4f171.ab0fa"
            ]
        ]
    },
    {
        "id": "e725d423.db8838",
        "type": "change",
        "z": "b417289e.bd5028",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "data/mean",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 720,
        "wires": [
            [
                "c6f4f171.ab0fa"
            ]
        ]
    },
    {
        "id": "1be9b3b7.c5d7bc",
        "type": "debug",
        "z": "b417289e.bd5028",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 810,
        "y": 800,
        "wires": []
    },
    {
        "id": "9d2922f.1c868e",
        "type": "function",
        "z": "b417289e.bd5028",
        "name": "MOD",
        "func": "val = msg.payload;\nmyval = val%11;\nmsg.payload = myval;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 240,
        "y": 860,
        "wires": [
            [
                "c2b1f78a.09ce68",
                "9284d8c7.2f4168"
            ]
        ]
    },
    {
        "id": "9284d8c7.2f4168",
        "type": "debug",
        "z": "b417289e.bd5028",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 390,
        "y": 960,
        "wires": []
    },
    {
        "id": "2bca3e4b.81e502",
        "type": "debug",
        "z": "b417289e.bd5028",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 390,
        "y": 1000,
        "wires": []
    },
    {
        "id": "4de69e88.fb2f1",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/mean",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 550,
        "y": 340,
        "wires": [
            [
                "9de9ac3c.23726"
            ]
        ]
    },
    {
        "id": "d22545fc.4734e8",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/mean",
        "payload": "2",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 550,
        "y": 400,
        "wires": [
            [
                "9de9ac3c.23726"
            ]
        ]
    },
    {
        "id": "c4f066af.94cfa8",
        "type": "inject",
        "z": "b417289e.bd5028",
        "name": "",
        "topic": "data/mean",
        "payload": "3",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 550,
        "y": 460,
        "wires": [
            [
                "9de9ac3c.23726"
            ]
        ]
    },
    {
        "id": "f5b2cd31.4bb9f",
        "type": "debug",
        "z": "b417289e.bd5028",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 930,
        "y": 620,
        "wires": []
    },
    {
        "id": "c6f4f171.ab0fa",
        "type": "function",
        "z": "b417289e.bd5028",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 660,
        "y": 880,
        "wires": [
            [
                "612420d4.8222b",
                "1be9b3b7.c5d7bc"
            ]
        ]
    },
    {
        "id": "6e9171be.d2a2c",
        "type": "inject",
        "z": "9b673204.5a55a",
        "name": "",
        "topic": "TTNmessage",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 300,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "1785d5e6.10acca",
        "type": "comment",
        "z": "9b673204.5a55a",
        "name": "RECEIVE FROM DEVICE",
        "info": "",
        "x": 280,
        "y": 160,
        "wires": []
    },
    {
        "id": "82144038.a44c9",
        "type": "comment",
        "z": "9b673204.5a55a",
        "name": "MQTT DIRECT",
        "info": "",
        "x": 710,
        "y": 100,
        "wires": []
    },
    {
        "id": "74b911f1.f9773",
        "type": "comment",
        "z": "9b673204.5a55a",
        "name": "TTN NODE",
        "info": "",
        "x": 360,
        "y": 100,
        "wires": []
    },
    {
        "id": "9e6f76d8.49a058",
        "type": "comment",
        "z": "9b673204.5a55a",
        "name": "SEND TO DEVICE",
        "info": "",
        "x": 260,
        "y": 740,
        "wires": []
    },
    {
        "id": "ff4a15d8.2a9328",
        "type": "comment",
        "z": "9b673204.5a55a",
        "name": "OK",
        "info": "",
        "x": 100,
        "y": 500,
        "wires": []
    },
    {
        "id": "ad71c969.6a3388",
        "type": "comment",
        "z": "9b673204.5a55a",
        "name": "OK",
        "info": "",
        "x": 100,
        "y": 360,
        "wires": []
    },
    {
        "id": "76b3a68d.d221e8",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: sensors",
        "topic": "sensors",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 470,
        "y": 120,
        "wires": [
            [
                "7b131db3.164524",
                "37a957f.673b8a8"
            ]
        ]
    },
    {
        "id": "7b131db3.164524",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 833,
        "y": 145,
        "wires": []
    },
    {
        "id": "3d90666e.ad415a",
        "type": "comment",
        "z": "8677ca10.1eb128",
        "name": "Mosquitto Broker on Synology",
        "info": "",
        "x": 473,
        "y": 45,
        "wires": []
    },
    {
        "id": "37a957f.673b8a8",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 843,
        "y": 185,
        "wires": []
    },
    {
        "id": "1274cd75.575a23",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: temperature inside",
        "topic": "tempcron/10-0008029056ee",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 573,
        "y": 305,
        "wires": [
            [
                "a2204324.88cc",
                "3a2a81b1.56354e",
                "bb54a35.874766",
                "5be0fd6a.6634a4",
                "f8c2827f.faad9",
                "a6f5aed9.e7909"
            ]
        ]
    },
    {
        "id": "a2204324.88cc",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 833,
        "y": 225,
        "wires": []
    },
    {
        "id": "3a2a81b1.56354e",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 823,
        "y": 265,
        "wires": []
    },
    {
        "id": "7381918.fc3ab7",
        "type": "mqtt out",
        "z": "8677ca10.1eb128",
        "name": "MQTT Sender",
        "topic": "",
        "qos": "0",
        "retain": "false",
        "broker": "702fba0.87cfc48",
        "x": 275,
        "y": 165,
        "wires": []
    },
    {
        "id": "a2b859a5.372e18",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "",
        "topic": "my/topic",
        "payload": "<reading>",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 160,
        "y": 257.5,
        "wires": [
            [
                "7381918.fc3ab7"
            ]
        ]
    },
    {
        "id": "348636a7.758d2a",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: temperature outside",
        "topic": "tempcron/10-000802541aac",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 543,
        "y": 385,
        "wires": [
            [
                "f712f907.6fc678",
                "dd1b65be.f93e58",
                "bb54a35.874766",
                "262e915a.516f0e",
                "fb5b217f.7858",
                "a6f5aed9.e7909"
            ]
        ]
    },
    {
        "id": "f712f907.6fc678",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 833,
        "y": 465,
        "wires": []
    },
    {
        "id": "dd1b65be.f93e58",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1090,
        "y": 460,
        "wires": []
    },
    {
        "id": "c83cb406.2f72b8",
        "type": "comment",
        "z": "8677ca10.1eb128",
        "name": "Test flows",
        "info": "",
        "x": 133,
        "y": 105,
        "wires": []
    },
    {
        "id": "f38eb460.377108",
        "type": "comment",
        "z": "8677ca10.1eb128",
        "name": "Temperature sensors on raspgoof (192.168.2.26)",
        "info": "sensing is done by mqtemp.py\nthis script is running every 60 seconds\nvia a watch command:\nwatch -n 60 sudo mqtemp.py\nA more convenient way may be a cron job\n*\n****************************************\n*\n* Future wishes:  \n\n1) run the sensing script via a con-job\n2) add more sensors without the need to change the script\n\n",
        "x": 803,
        "y": 105,
        "wires": []
    },
    {
        "id": "1eb10e61.7bb0c2",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 433,
        "y": 485,
        "wires": []
    },
    {
        "id": "2ec1a80b.950e38",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: sensors/#",
        "topic": "sensors/#",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 173,
        "y": 565,
        "wires": [
            [
                "1eb10e61.7bb0c2",
                "babb3c5a.497ab",
                "d7029d42.cf301"
            ]
        ]
    },
    {
        "id": "babb3c5a.497ab",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 443,
        "y": 525,
        "wires": []
    },
    {
        "id": "63c01537.f5bdec",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 453,
        "y": 645,
        "wires": []
    },
    {
        "id": "a43d17f3.105848",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: temperature/#",
        "topic": "temperature/#",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 183,
        "y": 665,
        "wires": [
            [
                "63c01537.f5bdec",
                "291489ca.dcf6a6"
            ]
        ]
    },
    {
        "id": "291489ca.dcf6a6",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 463,
        "y": 685,
        "wires": []
    },
    {
        "id": "24f204b7.a601bc",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: tempcron/#",
        "topic": "tempcron/#",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 494,
        "y": 909,
        "wires": [
            [
                "c52ecbea.bd34d8",
                "bc5379d0.946dd8",
                "2062d857.e68838"
            ]
        ]
    },
    {
        "id": "c52ecbea.bd34d8",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 774,
        "y": 889,
        "wires": []
    },
    {
        "id": "bc5379d0.946dd8",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 784,
        "y": 929,
        "wires": []
    },
    {
        "id": "d7029d42.cf301",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 423,
        "y": 565,
        "wires": []
    },
    {
        "id": "2062d857.e68838",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 770,
        "y": 980,
        "wires": []
    },
    {
        "id": "fcba44e5.392138",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: #",
        "topic": "#",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 470,
        "y": 1060,
        "wires": [
            [
                "52cdd917.2a7e58",
                "e2ea43a5.f3103",
                "b1f0a644.cdbd88"
            ]
        ]
    },
    {
        "id": "52cdd917.2a7e58",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 780,
        "y": 1040,
        "wires": []
    },
    {
        "id": "e2ea43a5.f3103",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 790,
        "y": 1080,
        "wires": []
    },
    {
        "id": "b1f0a644.cdbd88",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 776,
        "y": 1131,
        "wires": []
    },
    {
        "id": "66017fda.e123b",
        "type": "mqtt in",
        "z": "8677ca10.1eb128",
        "name": "MQTT Receiver: tempobj4/#",
        "topic": "tempobj4/#",
        "qos": "0",
        "broker": "702fba0.87cfc48",
        "x": 520,
        "y": 1300,
        "wires": [
            [
                "1aea595b.df6c07",
                "50692354.8f1b6c",
                "16b66bed.f9ab24",
                "6741a043.5c83e"
            ]
        ]
    },
    {
        "id": "1aea595b.df6c07",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "topic",
        "x": 791,
        "y": 1374,
        "wires": []
    },
    {
        "id": "50692354.8f1b6c",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload",
        "x": 801,
        "y": 1414,
        "wires": []
    },
    {
        "id": "16b66bed.f9ab24",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 781,
        "y": 1334,
        "wires": []
    },
    {
        "id": "6741a043.5c83e",
        "type": "json",
        "z": "8677ca10.1eb128",
        "name": "",
        "x": 950,
        "y": 1300,
        "wires": [
            [
                "40b81c5c.bef7c4",
                "21058a65.b9b236",
                "a8736def.d9d6a",
                "2bdc3ed7.15a942",
                "87842d4d.d61b6"
            ]
        ]
    },
    {
        "id": "40b81c5c.bef7c4",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 1110,
        "y": 1300,
        "wires": []
    },
    {
        "id": "21058a65.b9b236",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.temp",
        "x": 1130,
        "y": 1340,
        "wires": []
    },
    {
        "id": "a8736def.d9d6a",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.timestamp",
        "x": 1150,
        "y": 1380,
        "wires": []
    },
    {
        "id": "2bdc3ed7.15a942",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "payload.sensor_id",
        "x": 1150,
        "y": 1420,
        "wires": []
    },
    {
        "id": "4e83f12f.44082",
        "type": "comment",
        "z": "8677ca10.1eb128",
        "name": "This is the right temp message format!",
        "info": "",
        "x": 230,
        "y": 1300,
        "wires": []
    },
    {
        "id": "cec26359.4881d",
        "type": "comment",
        "z": "8677ca10.1eb128",
        "name": "All broadcasts of the MQTT broker",
        "info": "",
        "x": 220,
        "y": 1060,
        "wires": []
    },
    {
        "id": "87842d4d.d61b6",
        "type": "function",
        "z": "8677ca10.1eb128",
        "name": "",
        "func": "msg.topic = msg.payload.sensor_id;\nmsg.payload = msg.payload.temp;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1097,
        "y": 1515,
        "wires": [
            [
                "b033d95b.52cdb8"
            ]
        ]
    },
    {
        "id": "c38f5da9.2d801",
        "type": "comment",
        "z": "8677ca10.1eb128",
        "name": "Temperature from object",
        "info": "",
        "x": 1350,
        "y": 1520,
        "wires": []
    },
    {
        "id": "7fe2a04e.8e76d",
        "type": "inject",
        "z": "5f933221.b32cfc",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 120,
        "wires": [
            [
                "ff247296.8aaef"
            ]
        ]
    },
    {
        "id": "36c9e11e.fd75be",
        "type": "debug",
        "z": "5f933221.b32cfc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 470,
        "y": 120,
        "wires": []
    },
    {
        "id": "ff247296.8aaef",
        "type": "NetworkIntf",
        "z": "5f933221.b32cfc",
        "name": "",
        "x": 300,
        "y": 120,
        "wires": [
            [
                "36c9e11e.fd75be"
            ]
        ]
    },
    {
        "id": "d871e9e6.627748",
        "type": "inject",
        "z": "5f933221.b32cfc",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 180,
        "wires": [
            [
                "de20fbb0.008228"
            ]
        ]
    },
    {
        "id": "ee91a3f3.9cef",
        "type": "debug",
        "z": "5f933221.b32cfc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 470,
        "y": 180,
        "wires": []
    },
    {
        "id": "de20fbb0.008228",
        "type": "OS",
        "z": "5f933221.b32cfc",
        "name": "",
        "x": 300,
        "y": 180,
        "wires": [
            [
                "ee91a3f3.9cef"
            ]
        ]
    },
    {
        "id": "6dfa1b01.bb7384",
        "type": "cpu",
        "z": "5f933221.b32cfc",
        "name": "",
        "msgCore": true,
        "msgOverall": false,
        "x": 300,
        "y": 80,
        "wires": [
            [
                "91bed91a.d8c048"
            ]
        ]
    },
    {
        "id": "b26409bd.64c6c8",
        "type": "inject",
        "z": "5f933221.b32cfc",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 80,
        "wires": [
            [
                "6dfa1b01.bb7384"
            ]
        ]
    },
    {
        "id": "91bed91a.d8c048",
        "type": "debug",
        "z": "5f933221.b32cfc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 448,
        "y": 75,
        "wires": []
    },
    {
        "id": "fc805048.e6de6",
        "type": "debug",
        "z": "9b673204.5a55a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 470,
        "y": 240,
        "wires": []
    },
    {
        "id": "d86973f8.f40ed",
        "type": "debug",
        "z": "9b673204.5a55a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 470,
        "y": 380,
        "wires": []
    },
    {
        "id": "bf8fba55.4ed438",
        "type": "inject",
        "z": "9b673204.5a55a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 340,
        "y": 480,
        "wires": [
            [
                "63a6e285.48365c"
            ]
        ]
    },
    {
        "id": "e75d7118.45682",
        "type": "debug",
        "z": "9b673204.5a55a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 470,
        "y": 320,
        "wires": []
    },
    {
        "id": "790c1e55.0a9e8",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "Tick",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 330,
        "y": 1860,
        "wires": [
            [
                "36547f03.4b321"
            ]
        ]
    },
    {
        "id": "2aab922f.c1b5ae",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "Reset",
        "topic": "",
        "payload": "RESET PRESSED",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 250,
        "y": 1960,
        "wires": [
            [
                "1f734101.53632f"
            ]
        ]
    },
    {
        "id": "5ada3c8f.74e894",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 750,
        "y": 1900,
        "wires": []
    },
    {
        "id": "fc1957b1.a06a18",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 750,
        "y": 1840,
        "wires": []
    },
    {
        "id": "1f734101.53632f",
        "type": "change",
        "z": "a2794803.694d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1960,
        "wires": [
            [
                "64967a7e.b7da34",
                "36547f03.4b321"
            ]
        ]
    },
    {
        "id": "64967a7e.b7da34",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 730,
        "y": 1960,
        "wires": []
    },
    {
        "id": "418dd38c.f8bc8c",
        "type": "change",
        "z": "a2794803.694d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 1900,
        "wires": [
            [
                "36547f03.4b321"
            ]
        ]
    },
    {
        "id": "974df0f7.703cf",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1670,
        "y": 300,
        "wires": []
    },
    {
        "id": "4160989f.d3d968",
        "type": "switch",
        "z": "599e8aab.a9ec84",
        "name": "switch edges",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "lt",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1430,
        "y": 460,
        "wires": [
            [
                "22e94f8.89ce5b",
                "f307e5a6.666d98",
                "fb7d3028.a2ad3"
            ],
            [
                "ff2151fb.1e396"
            ],
            [
                "22e94f8.89ce5b",
                "f307e5a6.666d98",
                "fb7d3028.a2ad3",
                "9bae84d7.febf48",
                "8a021dbb.37e9",
                "86c386b6.eb3208"
            ]
        ]
    },
    {
        "id": "ff2151fb.1e396",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "Negedge Inverter",
        "func": "var value = msg.payload;\nmsg.payload = -value;\nmsg.topic =\"negedge\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1450,
        "y": 540,
        "wires": [
            [
                "9bae84d7.febf48",
                "8a021dbb.37e9",
                "86c386b6.eb3208",
                "41c93ee1.1f2ad"
            ]
        ]
    },
    {
        "id": "de4b7519.b36668",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "a",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 420,
        "wires": [
            [
                "13335046.82f6b"
            ]
        ]
    },
    {
        "id": "e425ccf0.eb309",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "pretty": "false",
        "x": 450,
        "y": 100,
        "wires": [
            [
                "80875304.be3ed",
                "dfba8f7d.fd19a"
            ]
        ]
    },
    {
        "id": "80875304.be3ed",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "location",
        "func": "var name = msg.payload.metadata.gateways[0].gtw_id;\nvar lat = msg.payload.metadata.gateways[0].latitude;\nvar lon = msg.payload.metadata.gateways[0].longitude;\nmsg.payload ={};\nmsg.payload.name = name;\nmsg.payload.lat = lat;\nmsg.payload.lon = lon;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 100,
        "wires": [
            [
                "890775da.e932a8",
                "75624fdd.01822"
            ]
        ]
    },
    {
        "id": "dfba8f7d.fd19a",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 550,
        "y": 140,
        "wires": []
    },
    {
        "id": "75624fdd.01822",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "TESTER",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 840,
        "y": 100,
        "wires": []
    },
    {
        "id": "582c6d8.d09d094",
        "type": "mqtt in",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "fv_nodes/devices/sensor01/up",
        "qos": "2",
        "broker": "a45f4c03.122d4",
        "x": 178.4000015258789,
        "y": 205,
        "wires": [
            [
                "e425ccf0.eb309"
            ]
        ]
    },
    {
        "id": "13335046.82f6b",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "location",
        "func": "var name = \"test\";\nvar lat = 40;\nvar lon = 3;\nmsg.payload ={};\nmsg.payload.name = name;\nmsg.payload.lat = lat;\nmsg.payload.lon = lon;\nmsg.payload.popup = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 260,
        "y": 480,
        "wires": [
            [
                "890775da.e932a8",
                "2cb21eb5.b53f72"
            ]
        ]
    },
    {
        "id": "2cb21eb5.b53f72",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 350,
        "y": 540,
        "wires": []
    },
    {
        "id": "bc953bc2.f20e98",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "location",
        "func": "var name = \"test\";\nvar lat = 40;\nvar lon = 3;\nmsg.payload ={\"name\": \"test\", \"lat\": 30, \"lon\":8, \"popup\":true};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 120,
        "y": 540,
        "wires": [
            [
                "890775da.e932a8",
                "674e98a7.ed0ae8"
            ]
        ]
    },
    {
        "id": "92db5202.bf634",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "",
        "topic": "b",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 110,
        "y": 480,
        "wires": [
            [
                "bc953bc2.f20e98"
            ]
        ]
    },
    {
        "id": "674e98a7.ed0ae8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 330,
        "y": 580,
        "wires": []
    },
    {
        "id": "1b73c256.06610e",
        "type": "mqtt in",
        "z": "bd866fd5.f559a",
        "name": "Synology NAS remote - owntracks/#",
        "topic": "owntracks/#",
        "qos": "1",
        "broker": "2869eae7.30e156",
        "x": 160,
        "y": 140,
        "wires": [
            [
                "8f0f8c56.d2beb",
                "5bc5f63a.ac4438",
                "1427170a.6be9c9",
                "ae5e64bc.86e138"
            ]
        ]
    },
    {
        "id": "8f0f8c56.d2beb",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 470,
        "y": 200,
        "wires": []
    },
    {
        "id": "5bc5f63a.ac4438",
        "type": "json",
        "z": "bd866fd5.f559a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 470,
        "y": 140,
        "wires": [
            [
                "9a3ec5bc.331998",
                "a8e102fa.3694b",
                "b6b64ce2.93d58",
                "3c8f8d00.ab68e4"
            ]
        ]
    },
    {
        "id": "32a8251b.b458da",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 830,
        "y": 260,
        "wires": []
    },
    {
        "id": "9a3ec5bc.331998",
        "type": "function",
        "z": "bd866fd5.f559a",
        "name": "",
        "func": "var lat = msg.payload.lat;\nvar lon = msg.payload.lon;\nvar name = \"Fred\"\nmsg.payload = {};\nmsg.payload.lat = lat;\nmsg.payload.lon = lon;\nmsg.payload.name = name;\nmsg.payload.speed = 10;\nmsg.payload.bearing = 45\n;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 140,
        "wires": [
            [
                "fde533e4.29bee",
                "32a8251b.b458da"
            ]
        ]
    },
    {
        "id": "32674e93.2acd92",
        "type": "comment",
        "z": "bd866fd5.f559a",
        "name": "DOC",
        "info": "see: \n- Owntracks.org  booklet\n- pdf Tracking_a_mobile_device.pdf by dynamicdave (downloaded)",
        "x": 310,
        "y": 360,
        "wires": []
    },
    {
        "id": "a07a1833.2f3be8",
        "type": "mqtt in",
        "z": "3f8254e2.b5957c",
        "name": "",
        "topic": "owntracks/#",
        "qos": "1",
        "broker": "702fba0.87cfc48",
        "x": 70,
        "y": 180,
        "wires": [
            [
                "612187d7.a92a68"
            ]
        ]
    },
    {
        "id": "60ff2fa0.bea19",
        "type": "template",
        "z": "3f8254e2.b5957c",
        "name": "SELECT query",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT owntracks_id, device_id, lat, lon, time, DATE_FORMAT(date, '%Y-%m-%d') as date FROM owntracks WHERE device_id = {{payload}} ORDER BY owntracks_id ASC",
        "output": "str",
        "x": 665,
        "y": 360,
        "wires": [
            [
                "925feadd.561cc8"
            ]
        ]
    },
    {
        "id": "ac4a39.2c0905c8",
        "type": "template",
        "z": "3f8254e2.b5957c",
        "name": "INSERT query",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO owntracks ( device_id, date, time, lat, lon ) VALUES ( '{{device_id}}', '{{date}}', '{{time}}', {{lat}}, {{lon}} );",
        "output": "str",
        "x": 645,
        "y": 180,
        "wires": [
            [
                "b4e896c9.7457c8"
            ]
        ]
    },
    {
        "id": "89bd2c15.9de67",
        "type": "function",
        "z": "3f8254e2.b5957c",
        "name": "Instant update to world map",
        "func": "var search_pattern = msg.device_id;\nvar myArray = global.get('deviceMap');\n\nvar iColor = myArray[search_pattern]['color'];\nvar iIcon  = myArray[search_pattern]['icon'];\n\n\nmsg.payload = { name: \"realtime_\" + msg.time,\n                layer: \"realtime\",\n                lat: msg.lat,\n                lon: msg.lon,\n                time: msg.time,\n                date: msg.date,\n                device: msg.device_id,\n                icon: iIcon,\n                iconColor: iColor\n              };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 685,
        "y": 240,
        "wires": [
            [
                "41286efc.3e17"
            ]
        ]
    },
    {
        "id": "b0323714.2d1e78",
        "type": "function",
        "z": "3f8254e2.b5957c",
        "name": "",
        "func": "var command = {clear :(msg.payload)};\nmsg.payload ={command};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1055,
        "y": 440,
        "wires": [
            [
                "d5c6d131.5765c"
            ]
        ]
    },
    {
        "id": "6d289bb6.e5e984",
        "type": "function",
        "z": "3f8254e2.b5957c",
        "name": "Set-up deviceMap",
        "func": "global.set('deviceMap', {\n    \"01\" : {owner: \"david\", type: \"Samsung\", icon: \"fa-map-pin\", color: \"blue\"},\n    \"02\" : {owner: \"chris\", type: \"Samsung\", icon: \"fa-paw\", color: \"green\"},\n    \"05\" : {owner: \"david\", type: \"Lenovo\",  icon: \"fa-map-pin\", color: \"red\"},\n    \"99\" : {owner: \"unknown\", type: \"Unknown\",  icon: \"fa-question-circle\", color: \"red\"}\n });\n \nglobal.set(\"operational\", \"yes\");\n",
        "outputs": 0,
        "noerr": 0,
        "x": 315,
        "y": 20,
        "wires": []
    },
    {
        "id": "74b0392.c7bfdc8",
        "type": "inject",
        "z": "3f8254e2.b5957c",
        "name": "Set-up global array",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "x": 95,
        "y": 20,
        "wires": [
            [
                "6d289bb6.e5e984",
                "11d98afc.2632b5"
            ]
        ]
    },
    {
        "id": "f00dcd61.297ca",
        "type": "change",
        "z": "3f8254e2.b5957c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "search_pattern",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 435,
        "y": 360,
        "wires": [
            [
                "60ff2fa0.bea19"
            ]
        ]
    },
    {
        "id": "11d98afc.2632b5",
        "type": "template",
        "z": "3f8254e2.b5957c",
        "name": "",
        "field": "template",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<iframe width=\"100%\" height=\"100%\" src=\"http://192.168.1.142:1880/worldmap\"></iframe>",
        "output": "str",
        "x": 285,
        "y": 80,
        "wires": [
            [
                "2d3b15cf.8d46aa"
            ]
        ]
    },
    {
        "id": "612187d7.a92a68",
        "type": "json",
        "z": "3f8254e2.b5957c",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 215,
        "y": 180,
        "wires": [
            [
                "53919894.a43c08"
            ]
        ]
    },
    {
        "id": "1faa113f.462adf",
        "type": "function",
        "z": "3f8254e2.b5957c",
        "name": "Process tracks",
        "func": "var search_pattern = msg.search_pattern;\nvar myArray = global.get('deviceMap');\nvar iColor  = myArray[search_pattern]['color'];\nvar iIcon   = myArray[search_pattern]['icon'];\nvar iLayer  = \"device_\" + search_pattern;\n\nvar tracks = msg.payload.map(function(m, i) {\n    return {\n            payload: {\n                name: \"mytrack_\" + m.device_id +\"_\" + m.owntracks_id,\n                layer: iLayer,\n                lat: parseFloat(m.lat),\n                lon: parseFloat(m.lon),\n                time: (m.time),\n                date: (m.date),\n                device: (m.device_id),\n                icon: iIcon,\n                iconColor: iColor\n            }\n        };\n    });\nreturn [tracks];\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1085,
        "y": 360,
        "wires": [
            [
                "d5c6d131.5765c"
            ]
        ]
    },
    {
        "id": "53919894.a43c08",
        "type": "function",
        "z": "3f8254e2.b5957c",
        "name": "Check and format data",
        "func": "var operational = global.get(\"operational\")||\"no\";\n\nif (operational == \"yes\")\n{\n    if (msg.payload._type == \"lwt\") //Ignore reading if LWT received\n        {\n            node.status({fill:\"green\",shape:\"dot\",text:\"LWT detected\"});  \n            return null;\n        }\n    else\n        {\n            msg.lat         = msg.payload.lat;\n            msg.lon         = msg.payload.lon;\n            \n            var device_id   = msg.payload.tid;\n            var myArray     = global.get('deviceMap');\n            var test        = myArray.hasOwnProperty(device_id);\n            if (test === false)\n            {\n                msg.device_id = \"99\";   // Change msg.device_id to \"unknown device\"\n            }\n            else\n            {\n                msg.device_id = device_id;\n            }\n            \n            var timestamp = msg.payload.tst * 1000;\n            var date = new Date(timestamp); // Or the date you'd like converted.\n            isoDate = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString();\n            msg.date = isoDate.slice(0,10);\n            msg.time = isoDate.slice(11,19);\n   \n            node.status({fill:\"blue\",shape:\"ring\",text:\"Last detection at: \" + msg.time + \" on \" + msg.date});   \n            return msg;\n        }\n}\nelse \n{\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 415,
        "y": 180,
        "wires": [
            [
                "89bd2c15.9de67",
                "ac4a39.2c0905c8"
            ]
        ]
    },
    {
        "id": "cce52f74.4f9a2",
        "type": "mqtt in",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "up/CloudMQTT",
        "qos": "1",
        "broker": "78c5eb34.4ea2b4",
        "x": 180,
        "y": 120,
        "wires": [
            [
                "15ad4e6.1b3d8b2"
            ]
        ]
    },
    {
        "id": "ce53289d.d2dcb8",
        "type": "mqtt out",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "up/CloudMQTT",
        "qos": "1",
        "retain": "",
        "broker": "78c5eb34.4ea2b4",
        "x": 420,
        "y": 60,
        "wires": []
    },
    {
        "id": "756e316a.1c486",
        "type": "inject",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 210,
        "y": 60,
        "wires": [
            [
                "ce53289d.d2dcb8"
            ]
        ]
    },
    {
        "id": "a8e102fa.3694b",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 610,
        "y": 240,
        "wires": []
    },
    {
        "id": "5a925bdd.930494",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 580,
        "y": 420,
        "wires": []
    },
    {
        "id": "c9fdbee2.a588d",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 650,
        "y": 340,
        "wires": []
    },
    {
        "id": "6a4a0391.2eb33c",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 100,
        "wires": [
            [
                "e64aab77.cf4ba8"
            ]
        ]
    },
    {
        "id": "e64aab77.cf4ba8",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "CREATE TABLE `readings`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE `readings` (`rawdata` VARCHAR(100))",
        "output": "str",
        "x": 340,
        "y": 100,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "f7f5df09.467b7",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 140,
        "wires": [
            [
                "f72b87ce.d4bda8"
            ]
        ]
    },
    {
        "id": "f72b87ce.d4bda8",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "DROP TABLE readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE `readings`",
        "output": "str",
        "x": 330,
        "y": 140,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "ad84e156.5e6bc",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 180,
        "wires": [
            [
                "25aae9d5.1ed726"
            ]
        ]
    },
    {
        "id": "25aae9d5.1ed726",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "show databases",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "show databases",
        "output": "str",
        "x": 300,
        "y": 180,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "1369cd30.2a4df3",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 60,
        "wires": [
            [
                "e3755e0d.715f1"
            ]
        ]
    },
    {
        "id": "e3755e0d.715f1",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "show tables",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "show tables",
        "output": "str",
        "x": 290,
        "y": 60,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "ff1d1e1a.4de07",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "NOTE about table names",
        "info": "it does not matter if the table name is inside `back-quotes` or not",
        "x": 330,
        "y": 20,
        "wires": []
    },
    {
        "id": "aee2b3bd.2ee1",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 850,
        "y": 140,
        "wires": []
    },
    {
        "id": "6b7ab06f.fd18c",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 650,
        "y": 240,
        "wires": [
            [
                "5c17283f.fa9788",
                "b53e31bb.29621"
            ]
        ]
    },
    {
        "id": "5c17283f.fa9788",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 810,
        "y": 240,
        "wires": []
    },
    {
        "id": "fe3ade1b.07a91",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "create table `mqtt`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE mqtt (id int(11) NOT NULL AUTO_INCREMENT, timestamp datetime NOT NULL, topic text COLLATE utf8_unicode_ci NOT NULL, data text COLLATE utf8_unicode_ci NOT NULL, UNIQUE KEY id (id)) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "output": "str",
        "x": 310,
        "y": 220,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "32af68d3.8d1f38",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 220,
        "wires": [
            [
                "fe3ade1b.07a91"
            ]
        ]
    },
    {
        "id": "35753c00.85ae04",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "drop table `mqtt`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE `mqtt`;",
        "output": "str",
        "x": 300,
        "y": 260,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "4a61e858.e7bd08",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 260,
        "wires": [
            [
                "35753c00.85ae04"
            ]
        ]
    },
    {
        "id": "b53e31bb.29621",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 750,
        "y": 300,
        "wires": [
            [
                "a7de187f.51e228"
            ]
        ]
    },
    {
        "id": "a7de187f.51e228",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 890,
        "y": 300,
        "wires": []
    },
    {
        "id": "d9e71d95.c1f4f",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "USE <database>",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "USE example;",
        "output": "str",
        "x": 310,
        "y": 300,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "967544c7.185878",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 300,
        "wires": [
            [
                "d9e71d95.c1f4f"
            ]
        ]
    },
    {
        "id": "80e5659c.b7f2b8",
        "type": "mqtt in",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "owntracks/#",
        "qos": "2",
        "broker": "2869eae7.30e156",
        "x": 150,
        "y": 500,
        "wires": [
            [
                "b0ce8e79.7e0ee",
                "58fbd36d.bc6d1c"
            ]
        ]
    },
    {
        "id": "b0ce8e79.7e0ee",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 330,
        "y": 560,
        "wires": []
    },
    {
        "id": "58fbd36d.bc6d1c",
        "type": "function",
        "z": "b038d480.cffce8",
        "name": "INSERT query",
        "func": "var out = \"INSERT INTO mqtt(timestamp,topic,data)\";\nout = out + \" VALUES ('\" + new Date().toISOString() +\"','\";\nout = out + msg.topic+\"','\"+msg.payload+\"');\";\nmsg.topic = out;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 420,
        "y": 500,
        "wires": [
            [
                "afa6380e.923b48",
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "afa6380e.923b48",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 630,
        "y": 500,
        "wires": []
    },
    {
        "id": "b61b0e43.8857",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 360,
        "wires": [
            [
                "c1535368.62da2"
            ]
        ]
    },
    {
        "id": "c1535368.62da2",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "select rows from table mqtt where topic = trial",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select timestamp FROM mqtt WHERE topic = 'trial';",
        "output": "str",
        "x": 390,
        "y": 360,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "5a53e10.7c6c02",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "count rows from table mqtt with 'owntracks' in topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM mqtt WHERE topic LIKE '%owntracks%';",
        "output": "str",
        "x": 410,
        "y": 400,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "a2a06942.579688",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 400,
        "wires": [
            [
                "5a53e10.7c6c02"
            ]
        ]
    },
    {
        "id": "b675ed4c.3e213",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 440,
        "wires": [
            [
                "cf786218.2f4ea"
            ]
        ]
    },
    {
        "id": "cf786218.2f4ea",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "count rows from table mqtt ",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM mqtt;",
        "output": "str",
        "x": 340,
        "y": 440,
        "wires": [
            [
                "8c32eb1d.4c5378"
            ]
        ]
    },
    {
        "id": "a32019d2.d2a148",
        "type": "function",
        "z": "18c6ee7c.27d352",
        "name": "Criteria",
        "func": "var timeE = msg.payload;\n//Restrict the query to pull the last 24hrs\n//of data instead of the whole db\nmsg.payload = (timeE - (1000*60*60*24));\n    node.status({text:msg.payload});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 115,
        "y": 286,
        "wires": [
            [
                "6bfd053f.13ff7c"
            ]
        ]
    },
    {
        "id": "f8c216bd.e210e8",
        "type": "template",
        "z": "18c6ee7c.27d352",
        "name": "Format query 2",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT\n CEILING(time/3600000)*3600000 AS timestamp,\n AVG(data1) AS `data1`,\n AVG(data2) AS `data2`\nFROM dbasename\nWHERE time > {{payload}}\nGROUP BY `timestamp`;",
        "output": "str",
        "x": 304,
        "y": 339,
        "wires": [
            []
        ]
    },
    {
        "id": "b5712549.22c568",
        "type": "debug",
        "z": "18c6ee7c.27d352",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 570,
        "y": 336,
        "wires": []
    },
    {
        "id": "b8a49a01.b92c38",
        "type": "inject",
        "z": "18c6ee7c.27d352",
        "name": "Timestamp",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "x": 115,
        "y": 236,
        "wires": [
            [
                "a32019d2.d2a148"
            ]
        ]
    },
    {
        "id": "4f3bae73.a09d4",
        "type": "comment",
        "z": "18c6ee7c.27d352",
        "name": "Flow to query database and format for chart",
        "info": "",
        "x": 230,
        "y": 180,
        "wires": []
    },
    {
        "id": "35fc4a8d.18edf6",
        "type": "template",
        "z": "18c6ee7c.27d352",
        "name": "Format data",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO `mydata` (`data1`,`data2`,`time`) VALUES ({{data1}},{{data2}},{{time}})",
        "output": "str",
        "x": 310,
        "y": 100,
        "wires": [
            [
                "afc313c1.2183b",
                "7d4f3803.d212a8"
            ]
        ]
    },
    {
        "id": "c4d0896b.c27938",
        "type": "comment",
        "z": "18c6ee7c.27d352",
        "name": "Flow to insert data into the database",
        "info": "How to create the objects {{data1}},{{data2}},{{data3}}} ???",
        "x": 200,
        "y": 20,
        "wires": []
    },
    {
        "id": "6bfd053f.13ff7c",
        "type": "template",
        "z": "18c6ee7c.27d352",
        "name": "Format query 1",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT data1,data2,time FROM example WHERE time > {{payload}}",
        "output": "str",
        "x": 260,
        "y": 240,
        "wires": [
            [
                "1052e9b2.af41a6"
            ]
        ]
    },
    {
        "id": "4a7efcbc.d30d04",
        "type": "change",
        "z": "18c6ee7c.27d352",
        "name": "Format data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "(\t  $series := [\t    { \"field\": \"data1\", \"label\": \"data1 label\" },\t    { \"field\": \"data2\", \"label\": \"data2 label\" }\t  ];\t  $xaxis := \"timestamp\";\t  [\t    {\t      \"series\": $series.label,\t      \"data\": $series.[\t        (\t          $yaxis := $.field;\t          $$.payload.{\t            \"x\": $lookup($, $xaxis),\t            \"y\": $lookup($, $yaxis)\t          }\t        )\t      ]\t    }\t  ]\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 240,
        "wires": [
            [
                "866496da.116e68"
            ]
        ]
    },
    {
        "id": "b31befa2.b29d9",
        "type": "comment",
        "z": "18c6ee7c.27d352",
        "name": "Create CHART object",
        "info": "",
        "x": 520,
        "y": 180,
        "wires": []
    },
    {
        "id": "6c17c20d.ea427c",
        "type": "inject",
        "z": "18c6ee7c.27d352",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 80,
        "y": 100,
        "wires": [
            [
                "99af38cc.4748a8"
            ]
        ]
    },
    {
        "id": "99af38cc.4748a8",
        "type": "function",
        "z": "18c6ee7c.27d352",
        "name": "Create data",
        "func": "msg.data1 = 3.14;\nmsg.data2 = 1.2718;\nmsg.time = 10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 220,
        "y": 60,
        "wires": [
            [
                "35fc4a8d.18edf6",
                "80bca32c.8aefa"
            ]
        ]
    },
    {
        "id": "80bca32c.8aefa",
        "type": "debug",
        "z": "18c6ee7c.27d352",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 390,
        "y": 40,
        "wires": []
    },
    {
        "id": "ffc67bd4.1e4ba8",
        "type": "debug",
        "z": "18c6ee7c.27d352",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 770,
        "y": 100,
        "wires": []
    },
    {
        "id": "7d4f3803.d212a8",
        "type": "debug",
        "z": "18c6ee7c.27d352",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 553,
        "y": 46,
        "wires": []
    },
    {
        "id": "80278a00.50a0f8",
        "type": "inject",
        "z": "18c6ee7c.27d352",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 440,
        "wires": [
            [
                "cfa6445b.fd6a18"
            ]
        ]
    },
    {
        "id": "cfa6445b.fd6a18",
        "type": "template",
        "z": "18c6ee7c.27d352",
        "name": "create table `mydata`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE mydata (id int(11) NOT NULL AUTO_INCREMENT, timestamp datetime NOT NULL, topic text COLLATE utf8_unicode_ci NOT NULL, data text COLLATE utf8_unicode_ci NOT NULL, UNIQUE KEY id (id)) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "output": "str",
        "x": 360,
        "y": 440,
        "wires": [
            [
                "afc313c1.2183b"
            ]
        ]
    },
    {
        "id": "1a020630.6c27da",
        "type": "inject",
        "z": "18c6ee7c.27d352",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 480,
        "wires": [
            [
                "ae35d6c4.4b5bb8"
            ]
        ]
    },
    {
        "id": "ae35d6c4.4b5bb8",
        "type": "template",
        "z": "18c6ee7c.27d352",
        "name": "drop table `mydata`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE `mydata`;",
        "output": "str",
        "x": 350,
        "y": 480,
        "wires": [
            [
                "afc313c1.2183b"
            ]
        ]
    },
    {
        "id": "1427170a.6be9c9",
        "type": "json",
        "z": "bd866fd5.f559a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 300,
        "y": 260,
        "wires": [
            [
                "b92a789e.c1bff8"
            ]
        ]
    },
    {
        "id": "b92a789e.c1bff8",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 343.9090881347656,
        "y": 306,
        "wires": []
    },
    {
        "id": "cf0ebe50.2c39a",
        "type": "inject",
        "z": "bd866fd5.f559a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 500,
        "wires": [
            [
                "87a8ace2.c354c"
            ]
        ]
    },
    {
        "id": "87a8ace2.c354c",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "create table `owntracks`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE owntracks (id int(11) NOT NULL AUTO_INCREMENT, tst integer NOT NULL, _type text COLLATE utf8_unicode_ci NOT NULL, lat float COLLATE utf8_unicode_ci NOT NULL, lon float COLLATE utf8_unicode_ci NOT NULL, UNIQUE KEY id (id)) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;",
        "output": "str",
        "x": 430,
        "y": 500,
        "wires": [
            [
                "f9da807c.02f17"
            ]
        ]
    },
    {
        "id": "3508e64a.d7f2ea",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 870,
        "y": 460,
        "wires": []
    },
    {
        "id": "f751af6f.3c47a",
        "type": "inject",
        "z": "bd866fd5.f559a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 560,
        "wires": [
            [
                "f846bb6f.9a9fb8"
            ]
        ]
    },
    {
        "id": "f846bb6f.9a9fb8",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "DROP TABLE owntracks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE `owntracks`",
        "output": "str",
        "x": 450,
        "y": 560,
        "wires": [
            [
                "f9da807c.02f17"
            ]
        ]
    },
    {
        "id": "2bb9a7a1.ebaea8",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "count rows from table owntracks with 'owntracks' in topic",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM owntracks;",
        "output": "str",
        "x": 550,
        "y": 620,
        "wires": [
            [
                "f9da807c.02f17"
            ]
        ]
    },
    {
        "id": "7de62ab3.451054",
        "type": "inject",
        "z": "bd866fd5.f559a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 620,
        "wires": [
            [
                "2bb9a7a1.ebaea8"
            ]
        ]
    },
    {
        "id": "6f6185b8.5f80ac",
        "type": "json",
        "z": "bd866fd5.f559a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 540,
        "wires": [
            [
                "ca891e86.f9756"
            ]
        ]
    },
    {
        "id": "ca891e86.f9756",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 870,
        "y": 600,
        "wires": []
    },
    {
        "id": "18fef97c.8c94b7",
        "type": "inject",
        "z": "bd866fd5.f559a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 680,
        "wires": [
            [
                "1c1fe8a5.615db7"
            ]
        ]
    },
    {
        "id": "1c1fe8a5.615db7",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "select rows from table owntracks ",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select id,tst,lat,lon FROM owntracks;",
        "output": "str",
        "x": 480,
        "y": 680,
        "wires": [
            [
                "f9da807c.02f17",
                "fde533e4.29bee"
            ]
        ]
    },
    {
        "id": "7e19d51a.ff954c",
        "type": "function",
        "z": "bd866fd5.f559a",
        "name": "INSERT query",
        "func": "var out = \"INSERT INTO owntracks(timestamp,topic,lat,lon)\";\nout = out + \" VALUES ('\" + new Date().toISOString() +\"','\";\nout = out + msg.topic+\"','\"+msg.payload+\"');\";\nmsg.topic = out;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 360,
        "y": 812,
        "wires": [
            [
                "a265298b.b0a918"
            ]
        ]
    },
    {
        "id": "a265298b.b0a918",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 590,
        "y": 812,
        "wires": []
    },
    {
        "id": "f0b15b68.fab898",
        "type": "inject",
        "z": "bd866fd5.f559a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 812,
        "wires": [
            [
                "7e19d51a.ff954c"
            ]
        ]
    },
    {
        "id": "ae5e64bc.86e138",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "insert into table owntracks ",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "insert into owntracks(timestamp, _type, lat, lon) VALUES(1531582427,'test',52.3,5.1);",
        "output": "str",
        "x": 390,
        "y": 752,
        "wires": [
            [
                "e60dc9f.3dbe438"
            ]
        ]
    },
    {
        "id": "e60dc9f.3dbe438",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 590,
        "y": 752,
        "wires": []
    },
    {
        "id": "b5ac8399.2c68f",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "insert into table owntracks ",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "insert into owntracks(tst, _type, lat, lon) VALUES({{payload.tst}}, '{{payload._type}}',{{payload.lat}},{{payload.lon}});",
        "output": "str",
        "x": 430,
        "y": 920,
        "wires": [
            [
                "94b0abdc.2d4be8"
            ]
        ]
    },
    {
        "id": "94b0abdc.2d4be8",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 620,
        "y": 880,
        "wires": []
    },
    {
        "id": "51687751.d24b28",
        "type": "comment",
        "z": "bd866fd5.f559a",
        "name": "need to repair timestamp",
        "info": "",
        "x": 890,
        "y": 880,
        "wires": []
    },
    {
        "id": "3c8f8d00.ab68e4",
        "type": "switch",
        "z": "bd866fd5.f559a",
        "name": "catch off t_ype = 'lwt'",
        "property": "payload._type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "lwt",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "lwt",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 180,
        "y": 880,
        "wires": [
            [
                "b5ac8399.2c68f"
            ],
            [
                "2567d683.6ecbca"
            ]
        ]
    },
    {
        "id": "2567d683.6ecbca",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 660,
        "y": 935.757568359375,
        "wires": []
    },
    {
        "id": "92595ad1.291718",
        "type": "comment",
        "z": "bd866fd5.f559a",
        "name": "catch off lwt (last will testament) _type messages",
        "info": "these are sent when connection with the mqtt server is lost",
        "x": 960,
        "y": 920,
        "wires": []
    },
    {
        "id": "c3facaae.327e28",
        "type": "debug",
        "z": "a268c952.1bc1a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 380,
        "y": 300,
        "wires": []
    },
    {
        "id": "c65ac2af.18986",
        "type": "mqtt in",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "up/Synology/local",
        "qos": "1",
        "broker": "2869eae7.30e156",
        "x": 180,
        "y": 300,
        "wires": [
            [
                "c3facaae.327e28"
            ]
        ]
    },
    {
        "id": "16f3f9ba.1867e6",
        "type": "mqtt out",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "up/Synology/local",
        "qos": "1",
        "retain": "",
        "broker": "2869eae7.30e156",
        "x": 410,
        "y": 240,
        "wires": []
    },
    {
        "id": "cbb83903.b7b618",
        "type": "inject",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 240,
        "wires": [
            [
                "16f3f9ba.1867e6"
            ]
        ]
    },
    {
        "id": "5d99b571.4cbbec",
        "type": "debug",
        "z": "a268c952.1bc1a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 380,
        "y": 460,
        "wires": []
    },
    {
        "id": "5f1dbbe2.e38e84",
        "type": "mqtt in",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "up/Synology/remote",
        "qos": "1",
        "broker": "702fba0.87cfc48",
        "x": 190,
        "y": 460,
        "wires": [
            [
                "5d99b571.4cbbec"
            ]
        ]
    },
    {
        "id": "a1f97f40.d4761",
        "type": "mqtt out",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "up/Synology/remote",
        "qos": "1",
        "retain": "",
        "broker": "702fba0.87cfc48",
        "x": 420,
        "y": 400,
        "wires": []
    },
    {
        "id": "7eead995.f35488",
        "type": "inject",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 400,
        "wires": [
            [
                "a1f97f40.d4761"
            ]
        ]
    },
    {
        "id": "27fe5b6b.a7f104",
        "type": "change",
        "z": "bd866fd5.f559a",
        "name": "Format data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "(\t  $series := [\t    { \"field\": \"lat\", \"label\": \"lat label\" },\t    { \"field\": \"lon\", \"label\": \"lon label\" }\t  ];\t  $xaxis := \"timestamp\";\t  [\t    {\t      \"series\": $series.label,\t      \"data\": $series.[\t        (\t          $yaxis := $.field;\t          $$.payload.{\t            \"x\": $lookup($, $xaxis),\t            \"y\": $lookup($, $yaxis)\t          }\t        )\t      ]\t    }\t  ]\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 1060,
        "wires": [
            [
                "1184b04e.d80d4"
            ]
        ]
    },
    {
        "id": "9ba2f6a2.97f4e8",
        "type": "inject",
        "z": "bd866fd5.f559a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 100,
        "y": 980,
        "wires": [
            [
                "c2a7db8e.1b63a8"
            ]
        ]
    },
    {
        "id": "c2a7db8e.1b63a8",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "select rows from table owntracks ",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select lat,lon FROM owntracks;",
        "output": "str",
        "x": 320,
        "y": 980,
        "wires": [
            [
                "6a25d8c4.eebab8"
            ]
        ]
    },
    {
        "id": "83c6083f.8975f8",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 570,
        "y": 980,
        "wires": []
    },
    {
        "id": "cdb23862.5e87f8",
        "type": "change",
        "z": "bd866fd5.f559a",
        "name": "Format data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "(\t  $series := [\t    { \"field\": \"lat\", \"label\": \"lat label\" },\t    { \"field\": \"lon\", \"label\": \"lon label\" }\t  ];\t  $xaxis := \"timestamp\";\t  [\t    {\t      \"series\": $series.label,\t      \"data\": $series.[\t        (\t          $yaxis := $.field;\t          $$.payload.{\t            \"x\": $lookup($, $xaxis),\t            \"y\": $lookup($, $yaxis)\t          }\t        )\t      ]\t    }\t  ]\t)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 1120,
        "wires": [
            [
                "5d75a942.da7698"
            ]
        ]
    },
    {
        "id": "5e6d1ab1.737c84",
        "type": "inject",
        "z": "bd866fd5.f559a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 80,
        "y": 1180,
        "wires": [
            [
                "88358544.964738"
            ]
        ]
    },
    {
        "id": "88358544.964738",
        "type": "template",
        "z": "bd866fd5.f559a",
        "name": "select rows from table owntracks ",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select lon FROM owntracks;",
        "output": "str",
        "x": 300,
        "y": 1180,
        "wires": [
            [
                "faf6c061.3c585",
                "520d563b.96a0b8"
            ]
        ]
    },
    {
        "id": "520d563b.96a0b8",
        "type": "debug",
        "z": "bd866fd5.f559a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 530,
        "y": 1160,
        "wires": []
    },
    {
        "id": "379132c3.d3871e",
        "type": "mqtt in",
        "z": "a268c952.1bc1a8",
        "name": "",
        "topic": "#",
        "qos": "1",
        "broker": "78c5eb34.4ea2b4",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "d012564d.f40b38"
            ]
        ]
    },
    {
        "id": "d012564d.f40b38",
        "type": "debug",
        "z": "a268c952.1bc1a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 340,
        "y": 180,
        "wires": []
    },
    {
        "id": "15ad4e6.1b3d8b2",
        "type": "debug",
        "z": "a268c952.1bc1a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 400,
        "y": 120,
        "wires": []
    },
    {
        "id": "491487ca.3973a8",
        "type": "mqtt in",
        "z": "7ac68823.c30b88",
        "name": "",
        "topic": "owntracks/#",
        "qos": "1",
        "broker": "72979c38.2d5194",
        "x": 130,
        "y": 200,
        "wires": [
            [
                "46042ba7.6327c4"
            ]
        ]
    },
    {
        "id": "dbb69db0.f3804",
        "type": "template",
        "z": "7ac68823.c30b88",
        "name": "SELECT query",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT owntracks_id, device_id, lat, lon, time, DATE_FORMAT(date, '%Y-%m-%d') as date FROM owntracks WHERE device_id = {{payload}} ORDER BY owntracks_id ASC",
        "output": "str",
        "x": 740,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "5359ff0d.8be5b",
        "type": "template",
        "z": "7ac68823.c30b88",
        "name": "INSERT query",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO owntracks ( device_id, date, time, lat, lon ) VALUES ( '{{device_id}}', '{{date}}', '{{time}}', {{lat}}, {{lon}} );",
        "output": "str",
        "x": 720,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "9bfae74c.235be8",
        "type": "function",
        "z": "7ac68823.c30b88",
        "name": "Instant update to world map",
        "func": "var search_pattern = msg.device_id;\nvar myArray = global.get('deviceMap');\n\nvar iColor = myArray[search_pattern]['color'];\nvar iIcon  = myArray[search_pattern]['icon'];\n\n\nmsg.payload = { name: \"realtime_\" + msg.time,\n                layer: \"realtime\",\n                lat: msg.lat,\n                lon: msg.lon,\n                time: msg.time,\n                date: msg.date,\n                device: msg.device_id,\n                icon: iIcon,\n                iconColor: iColor\n              };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 760,
        "y": 260,
        "wires": [
            [
                "8d838d1b.d1e34"
            ]
        ]
    },
    {
        "id": "e1e2ed5e.3fa0e",
        "type": "function",
        "z": "7ac68823.c30b88",
        "name": "",
        "func": "var command = {clear :(msg.payload)};\nmsg.payload ={command};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1130,
        "y": 460,
        "wires": [
            [
                "e56b.55045a95a8"
            ]
        ]
    },
    {
        "id": "f77a6859.9d5538",
        "type": "function",
        "z": "7ac68823.c30b88",
        "name": "Set-up deviceMap",
        "func": "global.set('deviceMap', {\n    \"01\" : {owner: \"david\", type: \"Samsung\", icon: \"fa-map-pin\", color: \"blue\"},\n    \"02\" : {owner: \"chris\", type: \"Samsung\", icon: \"fa-paw\", color: \"green\"},\n    \"05\" : {owner: \"david\", type: \"Lenovo\",  icon: \"fa-map-pin\", color: \"red\"},\n    \"99\" : {owner: \"unknown\", type: \"Unknown\",  icon: \"fa-question-circle\", color: \"red\"}\n });\n \nglobal.set(\"operational\", \"yes\");\n",
        "outputs": 0,
        "noerr": 0,
        "x": 390,
        "y": 40,
        "wires": []
    },
    {
        "id": "4dff70eb.2106d",
        "type": "inject",
        "z": "7ac68823.c30b88",
        "name": "Set-up global array",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "x": 170,
        "y": 40,
        "wires": [
            [
                "f77a6859.9d5538",
                "c36130a1.fc6c"
            ]
        ]
    },
    {
        "id": "90c6066d.abbc98",
        "type": "change",
        "z": "7ac68823.c30b88",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "search_pattern",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 380,
        "wires": [
            [
                "dbb69db0.f3804"
            ]
        ]
    },
    {
        "id": "c36130a1.fc6c",
        "type": "template",
        "z": "7ac68823.c30b88",
        "name": "",
        "field": "template",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<iframe width=\"100%\" height=\"100%\" src=\"http://192.168.1.142:1880/worldmap\"></iframe>",
        "output": "str",
        "x": 360,
        "y": 100,
        "wires": [
            [
                "e1363163.fa8ad"
            ]
        ]
    },
    {
        "id": "46042ba7.6327c4",
        "type": "json",
        "z": "7ac68823.c30b88",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 290,
        "y": 200,
        "wires": [
            [
                "e7ea11d8.7b0f3"
            ]
        ]
    },
    {
        "id": "a4dce90d.2dc4e8",
        "type": "function",
        "z": "7ac68823.c30b88",
        "name": "Process tracks",
        "func": "var search_pattern = msg.search_pattern;\nvar myArray = global.get('deviceMap');\nvar iColor  = myArray[search_pattern]['color'];\nvar iIcon   = myArray[search_pattern]['icon'];\nvar iLayer  = \"device_\" + search_pattern;\n\nvar tracks = msg.payload.map(function(m, i) {\n    return {\n            payload: {\n                name: \"mytrack_\" + m.device_id +\"_\" + m.owntracks_id,\n                layer: iLayer,\n                lat: parseFloat(m.lat),\n                lon: parseFloat(m.lon),\n                time: (m.time),\n                date: (m.date),\n                device: (m.device_id),\n                icon: iIcon,\n                iconColor: iColor\n            }\n        };\n    });\nreturn [tracks];\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1160,
        "y": 380,
        "wires": [
            [
                "e56b.55045a95a8"
            ]
        ]
    },
    {
        "id": "e7ea11d8.7b0f3",
        "type": "function",
        "z": "7ac68823.c30b88",
        "name": "Check and format data",
        "func": "var operational = global.get(\"operational\")||\"no\";\n\nif (operational == \"yes\")\n{\n    if (msg.payload._type == \"lwt\") //Ignore reading if LWT received\n        {\n            node.status({fill:\"green\",shape:\"dot\",text:\"LWT detected\"});  \n            return null;\n        }\n    else\n        {\n            msg.lat         = msg.payload.lat;\n            msg.lon         = msg.payload.lon;\n            \n            var device_id   = msg.payload.tid;\n            var myArray     = global.get('deviceMap');\n            var test        = myArray.hasOwnProperty(device_id);\n            if (test === false)\n            {\n                msg.device_id = \"99\";   // Change msg.device_id to \"unknown device\"\n            }\n            else\n            {\n                msg.device_id = device_id;\n            }\n            \n            var timestamp = msg.payload.tst * 1000;\n            var date = new Date(timestamp); // Or the date you'd like converted.\n            isoDate = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString();\n            msg.date = isoDate.slice(0,10);\n            msg.time = isoDate.slice(11,19);\n   \n            node.status({fill:\"blue\",shape:\"ring\",text:\"Last detection at: \" + msg.time + \" on \" + msg.date});   \n            return msg;\n        }\n}\nelse \n{\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 200,
        "wires": [
            [
                "9bfae74c.235be8",
                "5359ff0d.8be5b"
            ]
        ]
    },
    {
        "id": "abb21563.f9ff28",
        "type": "mqtt in",
        "z": "934cbb23.3f18e8",
        "name": "",
        "topic": "owntracks/#",
        "qos": "1",
        "broker": "17d26dd5.e3d992",
        "x": 150,
        "y": 220,
        "wires": [
            [
                "44ebc67b.adc6d8"
            ]
        ]
    },
    {
        "id": "bb2666ff.1a2f58",
        "type": "template",
        "z": "934cbb23.3f18e8",
        "name": "SELECT query",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT owntracks_id, device_id, lat, lon, time, DATE_FORMAT(date, '%Y-%m-%d') as date FROM detection_data WHERE device_id = '{{search_pattern}}' ORDER BY owntracks_id ASC",
        "output": "str",
        "x": 760,
        "y": 380,
        "wires": [
            [
                "edd6efb0.905f4"
            ]
        ]
    },
    {
        "id": "a4b01652.87b228",
        "type": "template",
        "z": "934cbb23.3f18e8",
        "name": "INSERT query",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO detection_data ( device_id, date, time, lat, lon ) VALUES ( '{{device_id}}', '{{date}}', '{{time}}', {{lat}}, {{lon}} );",
        "output": "str",
        "x": 740,
        "y": 180,
        "wires": [
            [
                "7db7c30e.6ea06c"
            ]
        ]
    },
    {
        "id": "8033ff34.80719",
        "type": "function",
        "z": "934cbb23.3f18e8",
        "name": "Instant update to world map",
        "func": "var search_pattern = msg.device_id;\nvar myArray = global.get('deviceMap');\n\nvar iColor = myArray[search_pattern]['color'];\nvar iIcon  = myArray[search_pattern]['icon'];\nvar preName = \"now_\";\nmsg.payload = { name: preName + msg.device_id,\n                // name: \"now_\" + m.device_id +\"_\" + m.owntracks_id,\n                layer: \"realtime\",\n                lat: msg.lat,\n                lon: msg.lon,\n                time: msg.time,\n                date: msg.date,\n                device: msg.device_id,\n                icon: iIcon,\n                iconColor: iColor\n              };\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 280,
        "wires": [
            [
                "8c419b5a.0610f8"
            ]
        ]
    },
    {
        "id": "15d9db3.e3a6225",
        "type": "function",
        "z": "934cbb23.3f18e8",
        "name": "",
        "func": "var command = {clear :(msg.payload)};\nmsg.payload ={command};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1110,
        "y": 420,
        "wires": [
            [
                "aedb11a3.42f39"
            ]
        ]
    },
    {
        "id": "b631e899.cc3198",
        "type": "function",
        "z": "934cbb23.3f18e8",
        "name": "Set-up deviceMap",
        "func": "global.set('deviceMap', {\n    \"So\" : {owner: \"fred\", type: \"Sony\", icon: \"fa-map-pin\", color: \"blue\"},\n    \"Wi\" : {owner: \"fred\", type: \"Wiko\", icon: \"fa-paw\", color: \"green\"},\n    \"05\" : {owner: \"david\", type: \"Lenovo\",  icon: \"fa-map-pin\", color: \"red\"},\n    \"99\" : {owner: \"unknown\", type: \"Unknown\",  icon: \"fa-question-circle\", color: \"red\"}\n });\n \nglobal.set(\"operational\", \"yes\");\n",
        "outputs": 0,
        "noerr": 0,
        "x": 410,
        "y": 60,
        "wires": []
    },
    {
        "id": "667ec4e8.ef235c",
        "type": "inject",
        "z": "934cbb23.3f18e8",
        "name": "Set-up global array",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "x": 190,
        "y": 60,
        "wires": [
            [
                "b631e899.cc3198",
                "d89a3a63.fd08d8"
            ]
        ]
    },
    {
        "id": "e19e5d9f.6abd8",
        "type": "change",
        "z": "934cbb23.3f18e8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "search_pattern",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 400,
        "wires": [
            [
                "bb2666ff.1a2f58"
            ]
        ]
    },
    {
        "id": "d89a3a63.fd08d8",
        "type": "template",
        "z": "934cbb23.3f18e8",
        "name": "",
        "field": "template",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<iframe width=\"100%\" height=\"100%\" src=\"http://192.168.2.34:1880/worldmap\"></iframe>",
        "output": "str",
        "x": 380,
        "y": 120,
        "wires": [
            [
                "357bb1af.6fc2ce"
            ]
        ]
    },
    {
        "id": "44ebc67b.adc6d8",
        "type": "json",
        "z": "934cbb23.3f18e8",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 310,
        "y": 220,
        "wires": [
            [
                "5f318125.447fb",
                "ffd138c7.ac00c8"
            ]
        ]
    },
    {
        "id": "bc107cf6.5cb5c",
        "type": "function",
        "z": "934cbb23.3f18e8",
        "name": "Process tracks",
        "func": "var search_pattern = msg.search_pattern;\nvar myArray = global.get('deviceMap');\nvar iColor  = myArray[search_pattern]['color'];\nvar iIcon   = myArray[search_pattern]['icon'];\nvar iLayer  = \"device_\" + search_pattern;\nvar preName = \"track_\";\nvar tracks = msg.payload.map(function(m, i) {\n    return {\n            payload: {\n                name: preName + m.device_id +\"_\" + m.owntracks_id,\n                layer: iLayer,\n                lat: parseFloat(m.lat),\n                lon: parseFloat(m.lon),\n                time: (m.time),\n                date: (m.date),\n                device: (m.device_id),\n                icon: iIcon,\n                iconColor: iColor\n            }\n        };\n    });\nreturn [tracks];\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1140,
        "y": 380,
        "wires": [
            [
                "aedb11a3.42f39"
            ]
        ]
    },
    {
        "id": "5f318125.447fb",
        "type": "function",
        "z": "934cbb23.3f18e8",
        "name": "Check and format data",
        "func": "var operational = global.get(\"operational\")||\"no\";\n\nif (operational == \"yes\")\n{\n    if (msg.payload._type == \"lwt\") //Ignore reading if LWT received\n        {\n            node.status({fill:\"green\",shape:\"dot\",text:\"LWT detected\"});  \n            return null;\n        }\n    else\n        {\n            msg.lat         = msg.payload.lat;\n            msg.lon         = msg.payload.lon;\n            \n            var device_id   = msg.payload.tid;\n            var myArray     = global.get('deviceMap');\n            var test        = myArray.hasOwnProperty(device_id);\n            if (test === false)\n            {\n                msg.device_id = \"99\";   // Change msg.device_id to \"unknown device\"\n                                        // propose to keep the original unknown device_id\n                                        // in the database, but mark them in reporting\n            }\n            else\n            {\n                msg.device_id = device_id;\n            }\n            \n            var timestamp = msg.payload.tst * 1000;\n            var date = new Date(timestamp); // Or the date you'd like converted.\n            isoDate = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString();\n            msg.date = isoDate.slice(0,10);\n            msg.time = isoDate.slice(11,19);\n   \n            node.status({fill:\"blue\",shape:\"ring\",text:\"Last detection at: \" + msg.time + \" on \" + msg.date});   \n            return msg;\n        }\n}\nelse \n{\n    return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 510,
        "y": 220,
        "wires": [
            [
                "8033ff34.80719",
                "a4b01652.87b228",
                "ec19ec46.cb80a"
            ]
        ]
    },
    {
        "id": "caa9ecde.548e5",
        "type": "debug",
        "z": "934cbb23.3f18e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 990,
        "y": 140,
        "wires": []
    },
    {
        "id": "e7ab3e04.ddec3",
        "type": "comment",
        "z": "7ac68823.c30b88",
        "name": "Mysql Node Here",
        "info": "",
        "x": 900,
        "y": 200,
        "wires": []
    },
    {
        "id": "4a92599b.2f5758",
        "type": "comment",
        "z": "7ac68823.c30b88",
        "name": "Mysql Node Here",
        "info": "",
        "x": 940,
        "y": 380,
        "wires": []
    },
    {
        "id": "4756924e.c6685c",
        "type": "debug",
        "z": "934cbb23.3f18e8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1110,
        "y": 340,
        "wires": []
    },
    {
        "id": "9627dcf1.6796f",
        "type": "inject",
        "z": "934cbb23.3f18e8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 680,
        "wires": [
            [
                "15c65690.451aa9"
            ]
        ]
    },
    {
        "id": "15c65690.451aa9",
        "type": "template",
        "z": "934cbb23.3f18e8",
        "name": "select * FROM detection_data;",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select * FROM detection_data;",
        "output": "str",
        "x": 390,
        "y": 680,
        "wires": [
            [
                "cc3ff10a.df6a3"
            ]
        ]
    },
    {
        "id": "482e948c.ba181c",
        "type": "inject",
        "z": "934cbb23.3f18e8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 720,
        "wires": [
            [
                "61601b99.8fd2f4"
            ]
        ]
    },
    {
        "id": "61601b99.8fd2f4",
        "type": "template",
        "z": "934cbb23.3f18e8",
        "name": "select count(*) FROM detection_data;",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM detection_data;",
        "output": "str",
        "x": 410,
        "y": 720,
        "wires": [
            [
                "cc3ff10a.df6a3"
            ]
        ]
    },
    {
        "id": "ec3d3afc.928c08",
        "type": "debug",
        "z": "934cbb23.3f18e8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 680,
        "wires": []
    },
    {
        "id": "ffd138c7.ac00c8",
        "type": "debug",
        "z": "934cbb23.3f18e8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 530,
        "y": 320,
        "wires": []
    },
    {
        "id": "ec19ec46.cb80a",
        "type": "debug",
        "z": "934cbb23.3f18e8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 690,
        "y": 320,
        "wires": []
    },
    {
        "id": "76cfbd37.567dd4",
        "type": "comment",
        "z": "934cbb23.3f18e8",
        "name": "CONNECT TO CLOUDMQTT for external functionality",
        "info": "",
        "x": 280,
        "y": 20,
        "wires": []
    },
    {
        "id": "3acfa46d.79ff0c",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.4",
        "x": 690,
        "y": 540,
        "wires": [
            [
                "e1deb61f.0d5938"
            ]
        ]
    },
    {
        "id": "e1deb61f.0d5938",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "CREATE TABLE `tsensors`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE IF NOT EXISTS tsensors (reading_id INT NOT NULL AUTO_INCREMENT, datetime DATETIME, sensor_id CHAR(15), temperature DEC(4,2), PRIMARY KEY (reading_id));\n",
        "output": "str",
        "x": 880,
        "y": 540,
        "wires": [
            [
                "e9861355.075b4"
            ]
        ]
    },
    {
        "id": "fbf6fee.5cf6b",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1330,
        "y": 540,
        "wires": []
    },
    {
        "id": "5799a3e.5f6d05c",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 680,
        "y": 580,
        "wires": [
            [
                "24927f9f.62b1d"
            ]
        ]
    },
    {
        "id": "24927f9f.62b1d",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "DROP TABLE `tsensors`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE tsensors;\n",
        "output": "str",
        "x": 870,
        "y": 580,
        "wires": [
            [
                "e9861355.075b4"
            ]
        ]
    },
    {
        "id": "2f667c0.7ec8f84",
        "type": "json",
        "z": "8677ca10.1eb128",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1240,
        "y": 620,
        "wires": [
            [
                "9c229490.4193f8",
                "5c67be81.d3e27"
            ]
        ]
    },
    {
        "id": "9c229490.4193f8",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1390,
        "y": 620,
        "wires": []
    },
    {
        "id": "5c67be81.d3e27",
        "type": "json",
        "z": "8677ca10.1eb128",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1230,
        "y": 680,
        "wires": [
            [
                "faa7e47a.0efd68"
            ]
        ]
    },
    {
        "id": "faa7e47a.0efd68",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1390,
        "y": 680,
        "wires": []
    },
    {
        "id": "fddca749.a10de8",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "",
        "topic": "tempcron/10-xxxxxxxxxxxx",
        "payload": "40.2",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 670,
        "y": 620,
        "wires": [
            [
                "3256d45a.a85bbc"
            ]
        ]
    },
    {
        "id": "237227ca.0c3778",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "INSERT INTO tsensors (DUMMY READING)",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO tsensors (sensor_id, datetime, temperature) VALUES ( \"{{topic}}\", NOW(), {{payload}} );",
        "output": "str",
        "x": 950,
        "y": 660,
        "wires": [
            [
                "142895a1.90c0da",
                "e9861355.075b4"
            ]
        ]
    },
    {
        "id": "142895a1.90c0da",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 1100,
        "y": 700,
        "wires": []
    },
    {
        "id": "d0913c43.44409",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 650,
        "y": 780,
        "wires": [
            [
                "f7dc4e8a.90a4f"
            ]
        ]
    },
    {
        "id": "f7dc4e8a.90a4f",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tsensors;",
        "output": "str",
        "x": 840,
        "y": 780,
        "wires": [
            [
                "45c0cc14.fc9cd4"
            ]
        ]
    },
    {
        "id": "eb00948e.373808",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "COUNT readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM tsensors;",
        "output": "str",
        "x": 850,
        "y": 820,
        "wires": [
            [
                "73d41dd9.8ebc04"
            ]
        ]
    },
    {
        "id": "a6f5aed9.e7909",
        "type": "function",
        "z": "8677ca10.1eb128",
        "name": "retrieve sensor_id from mqtt topic",
        "func": "var myid = msg.topic;\nmyid2 = myid.substring(9);\nmsg.topic = myid2;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 760,
        "y": 720,
        "wires": [
            [
                "237227ca.0c3778",
                "87efedc.021371"
            ]
        ]
    },
    {
        "id": "87efedc.021371",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 980,
        "y": 740,
        "wires": []
    },
    {
        "id": "3256d45a.a85bbc",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 940,
        "y": 620,
        "wires": []
    },
    {
        "id": "1b4a0df6.66a7d2",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1290,
        "y": 780,
        "wires": []
    },
    {
        "id": "f12abfa8.f8e18",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "COUNT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 650,
        "y": 820,
        "wires": [
            [
                "eb00948e.373808"
            ]
        ]
    },
    {
        "id": "90efa381.ba6a6",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 630,
        "y": 528,
        "wires": []
    },
    {
        "id": "e703e48.88f3618",
        "type": "comment",
        "z": "8677ca10.1eb128",
        "name": "sensor_id ",
        "info": "10-0008029056ee\n10-000802541aac\n\n",
        "x": 1260,
        "y": 120,
        "wires": []
    },
    {
        "id": "2be40a2.8a72ef6",
        "type": "inject",
        "z": "61eab748.c2a598",
        "name": "GRAPH SELECTED TIME RANGE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1660,
        "wires": [
            [
                "5fb26e24.3d32d"
            ]
        ]
    },
    {
        "id": "5fb26e24.3d32d",
        "type": "template",
        "z": "61eab748.c2a598",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT UNIX_TIMESTAMP(datetime)*1000 AS \"x\", temperature AS \"y\" FROM tsensors WHERE (sensor_id = \"10-000802541aac\") AND (datetime > (DATE_SUB(NOW(), INTERVAL 4 HOUR)) );",
        "output": "str",
        "x": 200,
        "y": 1700,
        "wires": [
            [
                "92997fac.66cc5"
            ]
        ]
    },
    {
        "id": "fddcc972.b80b68",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 590,
        "y": 1700,
        "wires": []
    },
    {
        "id": "ba62df1a.e636d",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"10-000802541aac\"];\nchart[0].labels = [\"10-000802541aac\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 429,
        "y": 1640,
        "wires": [
            [
                "afbbe7e3.74f0b8",
                "1c20b1c3.b983ce"
            ]
        ]
    },
    {
        "id": "afbbe7e3.74f0b8",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 569,
        "y": 1620,
        "wires": []
    },
    {
        "id": "91b6854b.4ce598",
        "type": "inject",
        "z": "61eab748.c2a598",
        "name": "GRAPH MULTIPLE SERIES (more (1 x, 1 y) )",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "x": 240,
        "y": 100,
        "wires": [
            [
                "30b17d61.d5b2c2"
            ]
        ]
    },
    {
        "id": "41c9f156.f10df",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 910,
        "y": 100,
        "wires": []
    },
    {
        "id": "30b17d61.d5b2c2",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "INIT CHART",
        "func": "var mychart = {\"data\":[],\"labels\":[],\"series\":[]};\nmsg.chart = mychart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 530,
        "y": 100,
        "wires": [
            [
                "bc84d103.6217a"
            ]
        ]
    },
    {
        "id": "cdf73133.76d9d",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 890,
        "y": 320,
        "wires": []
    },
    {
        "id": "68604a02.761924",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1290,
        "y": 220,
        "wires": []
    },
    {
        "id": "b7359d32.d86eb",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "FINISH CHART OBJECT",
        "func": "msg.payload = [];\nmsg.payload.push(msg.chart);\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1230,
        "y": 160,
        "wires": [
            [
                "68604a02.761924",
                "e59e58da.72b308"
            ]
        ]
    },
    {
        "id": "5b8de98f.7a0df8",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "++",
        "func": "if ( (msg.i += 1) < msg.items.length ) return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 120,
        "wires": [
            [
                "e0ab9587.f88668"
            ]
        ]
    },
    {
        "id": "e0ab9587.f88668",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "for each item",
        "func": "if( msg.i     === undefined ) msg.i = 0;\nif( msg.items === undefined ) msg.items = msg.payload;\n\nmsg.payload = msg.items[ msg.i ];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 60,
        "wires": [
            [
                "5b8de98f.7a0df8",
                "dc8961e4.bc61b",
                "375fbc90.59db34",
                "6cd6d356.97b1fc"
            ]
        ]
    },
    {
        "id": "4cccee77.0cf1e",
        "type": "inject",
        "z": "54ce3186.bf71f",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 60,
        "wires": [
            [
                "1abe3969.b5a277"
            ]
        ]
    },
    {
        "id": "1abe3969.b5a277",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "SET LOOPCOUNT",
        "func": "msg.payload = [{\"10-0008029056ee\":1},{\"10-000802541aac\":2}];\nreturn msg;\n//10-0008029056ee\n//10-000802541aac",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 60,
        "wires": [
            [
                "e0ab9587.f88668"
            ]
        ]
    },
    {
        "id": "dc8961e4.bc61b",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 690,
        "y": 60,
        "wires": []
    },
    {
        "id": "375fbc90.59db34",
        "type": "json",
        "z": "54ce3186.bf71f",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 700,
        "y": 120,
        "wires": [
            [
                "fb6ab345.bed24"
            ]
        ]
    },
    {
        "id": "fb6ab345.bed24",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 850,
        "y": 120,
        "wires": []
    },
    {
        "id": "6cd6d356.97b1fc",
        "type": "split",
        "z": "54ce3186.bf71f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 650,
        "y": 20,
        "wires": [
            [
                "daea8ad3.e15148"
            ]
        ]
    },
    {
        "id": "daea8ad3.e15148",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 810,
        "y": 20,
        "wires": []
    },
    {
        "id": "4b1ca7ad.94adb8",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "10-0008029056ee 10-000802541aac",
        "func": "msg.payload = [\"10-0008029056ee\", \"10-000802541aac\"];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 240,
        "wires": [
            [
                "17c9d950.d7fce7"
            ]
        ]
    },
    {
        "id": "b88a3a8c.599c98",
        "type": "inject",
        "z": "54ce3186.bf71f",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 240,
        "wires": [
            [
                "4b1ca7ad.94adb8"
            ]
        ]
    },
    {
        "id": "17c9d950.d7fce7",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 770,
        "y": 240,
        "wires": []
    },
    {
        "id": "2e35d29c.01229e",
        "type": "comment",
        "z": "54ce3186.bf71f",
        "name": "Create array of sensor_id's to loop over",
        "info": "from [\"sensor_id1\",\"sensor_id2\"]\nto [{\"sensor_id\":1},{\"sensor_id2\":2}]\n\n\n\nso to [{\"10-0008029056ee\":1},{\"10-000802541aac\":2}]",
        "x": 210,
        "y": 200,
        "wires": []
    },
    {
        "id": "1f366bea.a3cde4",
        "type": "inject",
        "z": "54ce3186.bf71f",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 360,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "5194dbbb.653084",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 820,
        "y": 1840,
        "wires": []
    },
    {
        "id": "da59ab72.a426d8",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 784.4443969726562,
        "y": 1956.6666259765625,
        "wires": []
    },
    {
        "id": "f181a8dd.37fc38",
        "type": "split",
        "z": "54ce3186.bf71f",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": "1",
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 930,
        "y": 1060,
        "wires": [
            [
                "e6e3aac9.a31ea8",
                "9eeddfd9.acf35"
            ]
        ]
    },
    {
        "id": "64a3d6a7.3540e8",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "10-0008029056ee 10-000802541aac",
        "func": "msg.payload = [\"10-0008029056ee\", \"10-000802541aac\"];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 610,
        "y": 953,
        "wires": [
            [
                "9c50b7e4.bc5648"
            ]
        ]
    },
    {
        "id": "ad71c475.99cc18",
        "type": "inject",
        "z": "54ce3186.bf71f",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 380,
        "y": 953,
        "wires": [
            [
                "64a3d6a7.3540e8"
            ]
        ]
    },
    {
        "id": "a78db248.c8c57",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1670,
        "y": 1073,
        "wires": []
    },
    {
        "id": "56b92242.d5955c",
        "type": "comment",
        "z": "54ce3186.bf71f",
        "name": "Reconstruct sensor_id from i",
        "info": "",
        "x": 1000,
        "y": 1240,
        "wires": []
    },
    {
        "id": "2627add.51bd352",
        "type": "comment",
        "z": "54ce3186.bf71f",
        "name": "Add the loop statements",
        "info": "",
        "x": 990,
        "y": 1180,
        "wires": []
    },
    {
        "id": "9714ec25.e0d19",
        "type": "comment",
        "z": "54ce3186.bf71f",
        "name": "Create looping variable",
        "info": "Containing an array of obects {\"sensor_id\", i}\nSave the original array in items_arr",
        "x": 980,
        "y": 953,
        "wires": []
    },
    {
        "id": "c1ad3c57.0fd9c",
        "type": "join",
        "z": "54ce3186.bf71f",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "myitems",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1070,
        "y": 1113,
        "wires": [
            [
                "1d3fb88f.47e6c7"
            ]
        ]
    },
    {
        "id": "e06ec3a.21e4d4",
        "type": "template",
        "z": "54ce3186.bf71f",
        "name": "",
        "field": "myitems",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\"{{payload}}\" : {{parts.index}}}",
        "output": "str",
        "x": 1260,
        "y": 1053,
        "wires": [
            [
                "7f617749.ca8e28"
            ]
        ]
    },
    {
        "id": "e6e3aac9.a31ea8",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "decrease index",
        "func": "msg.parts.index = msg.parts.index - 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1100,
        "y": 1053,
        "wires": [
            [
                "e06ec3a.21e4d4"
            ]
        ]
    },
    {
        "id": "7f617749.ca8e28",
        "type": "json",
        "z": "54ce3186.bf71f",
        "name": "",
        "property": "myitems",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 1120,
        "wires": [
            [
                "c1ad3c57.0fd9c"
            ]
        ]
    },
    {
        "id": "35b8b8bc.66a568",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "for each item",
        "func": "if( msg.i     === undefined ) msg.i = 0;\nif( msg.items_obj === undefined ) msg.items_obj = msg.myitems;\n\nmsg.current_item = msg.items_arr[ msg.i ];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1250,
        "y": 1233,
        "wires": [
            [
                "a062fadd.ed3238"
            ]
        ]
    },
    {
        "id": "ccbad2aa.e55e9",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "++",
        "func": "if ( (msg.i += 1) < msg.items_obj.length ) return [msg];\nelse \n\nreturn [null,msg];\n",
        "outputs": 2,
        "noerr": 0,
        "x": 1230,
        "y": 1313,
        "wires": [
            [
                "35b8b8bc.66a568"
            ],
            [
                "397b8245.2b8f5e"
            ]
        ]
    },
    {
        "id": "9c50b7e4.bc5648",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "save items array",
        "func": "msg.items_arr = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 960,
        "y": 1013,
        "wires": [
            [
                "f181a8dd.37fc38"
            ]
        ]
    },
    {
        "id": "9eeddfd9.acf35",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1230,
        "y": 993,
        "wires": []
    },
    {
        "id": "8fbd5d5c.05805",
        "type": "comment",
        "z": "54ce3186.bf71f",
        "name": "Reverse the order of the loop",
        "info": "",
        "x": 480,
        "y": 1153,
        "wires": []
    },
    {
        "id": "ed10bffd.0d65f",
        "type": "comment",
        "z": "54ce3186.bf71f",
        "name": "LOOPING ESSENTIALS",
        "info": "ONLY THE NODES INSIDE THE LOOP MUST BE REPEATED\nIT IS ESSENTIAL THAT LOOPED NODES CAN BE\nFOLLOWED BY NON-LOOPED NODES.\n\nTHIS IS NOT POSSIBLE WITH A SIMPLE SPLIT FUNCTION\n\n",
        "x": 1470,
        "y": 1513,
        "wires": []
    },
    {
        "id": "fcd51cbd.5e18d",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "init checker (BEFORE LOOP BUT INSIDE SUBLOW)",
        "func": "var mychecker = [\"start\"];\nmsg.checker = mychecker;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1440,
        "y": 1113,
        "wires": [
            [
                "a78db248.c8c57",
                "35b8b8bc.66a568"
            ]
        ]
    },
    {
        "id": "a062fadd.ed3238",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "checker update (INSIDE LOOP)",
        "func": "var mychecker = msg.checker;\nmychecker.push(msg.current_item);\nmsg.checker = mychecker;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1450,
        "y": 1273,
        "wires": [
            [
                "469c0ba.8554ef4",
                "ccbad2aa.e55e9"
            ]
        ]
    },
    {
        "id": "469c0ba.8554ef4",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "checker",
        "x": 1670,
        "y": 1233,
        "wires": []
    },
    {
        "id": "397b8245.2b8f5e",
        "type": "function",
        "z": "54ce3186.bf71f",
        "name": "checker update (AFTER LOOP BUT INSIDE SUBFLOW)",
        "func": "var mychecker = msg.checker;\nvar end_of_loop = \"end\";\nmychecker.push(end_of_loop);\nmsg.checker = mychecker;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1330,
        "y": 1413,
        "wires": [
            [
                "1e4c2fc5.d737d",
                "839d9534.54c848",
                "e2f20ef2.61cb",
                "f09e6056.2ab06"
            ]
        ]
    },
    {
        "id": "1e4c2fc5.d737d",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "checker",
        "x": 1670,
        "y": 1393,
        "wires": []
    },
    {
        "id": "839d9534.54c848",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1670,
        "y": 1433,
        "wires": []
    },
    {
        "id": "e2f20ef2.61cb",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1650,
        "y": 1353,
        "wires": []
    },
    {
        "id": "f09e6056.2ab06",
        "type": "change",
        "z": "54ce3186.bf71f",
        "name": "msg cleanup (AFTER LOOP BUT INSIDE SUBFLOW)",
        "rules": [
            {
                "t": "delete",
                "p": "i",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "items_arr",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "items_obj",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "current_item",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "myitems",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "checker",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1473,
        "wires": [
            [
                "efee3f72.4ce7f"
            ]
        ]
    },
    {
        "id": "1d3fb88f.47e6c7",
        "type": "change",
        "z": "54ce3186.bf71f",
        "name": "msg cleanup (AFTER LOOP BUT INSIDE SUBFLOW)",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ready for looping",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1153,
        "wires": [
            [
                "fcd51cbd.5e18d"
            ]
        ]
    },
    {
        "id": "efee3f72.4ce7f",
        "type": "debug",
        "z": "54ce3186.bf71f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1595,
        "y": 1574.5333251953125,
        "wires": []
    },
    {
        "id": "d3349bf2.9e3e78",
        "type": "split",
        "z": "61eab748.c2a598",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": "1",
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 490,
        "y": 573,
        "wires": [
            [
                "d8d30414.b51818",
                "1cb14214.e1b50e"
            ]
        ]
    },
    {
        "id": "7be80d0d.191c84",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "10-0008029056ee 10-000802541aac",
        "func": "msg.payload = [\"10-000802541aac\", \"10-0008029056ee\"];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 590,
        "y": 460,
        "wires": [
            [
                "e6f5904d.dae9d"
            ]
        ]
    },
    {
        "id": "f8fb1322.97059",
        "type": "inject",
        "z": "61eab748.c2a598",
        "name": "GRAPH MULTIPLE SERIES (more (1 x, 1 y) ) LOOP METHOD",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "3600",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "x": 290,
        "y": 380,
        "wires": [
            [
                "7be80d0d.191c84"
            ]
        ]
    },
    {
        "id": "b7a4af72.54c9a",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1290,
        "y": 546,
        "wires": []
    },
    {
        "id": "f0e06064.22df2",
        "type": "comment",
        "z": "61eab748.c2a598",
        "name": "Reconstruct sensor_id from i",
        "info": "",
        "x": 160,
        "y": 800,
        "wires": []
    },
    {
        "id": "42c839f2.9cb8a8",
        "type": "comment",
        "z": "61eab748.c2a598",
        "name": "Add the loop statements",
        "info": "",
        "x": 550,
        "y": 693,
        "wires": []
    },
    {
        "id": "a10a6d61.83faa",
        "type": "comment",
        "z": "61eab748.c2a598",
        "name": "Create looping variable",
        "info": "Containing an array of obects {\"sensor_id\", i}\nSave the original array in items_arr",
        "x": 540,
        "y": 420,
        "wires": []
    },
    {
        "id": "2a356dec.3d6282",
        "type": "join",
        "z": "61eab748.c2a598",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "myitems",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 630,
        "y": 626,
        "wires": [
            [
                "3a3f2ebc.8a0562"
            ]
        ]
    },
    {
        "id": "19c4031d.83659d",
        "type": "template",
        "z": "61eab748.c2a598",
        "name": "",
        "field": "myitems",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\"{{payload}}\" : {{parts.index}}}",
        "output": "str",
        "x": 820,
        "y": 566,
        "wires": [
            [
                "58f36737.a35dd8"
            ]
        ]
    },
    {
        "id": "d8d30414.b51818",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "decrease index",
        "func": "msg.parts.index = msg.parts.index - 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 660,
        "y": 566,
        "wires": [
            [
                "19c4031d.83659d"
            ]
        ]
    },
    {
        "id": "58f36737.a35dd8",
        "type": "json",
        "z": "61eab748.c2a598",
        "name": "",
        "property": "myitems",
        "action": "",
        "pretty": false,
        "x": 490,
        "y": 633,
        "wires": [
            [
                "2a356dec.3d6282"
            ]
        ]
    },
    {
        "id": "39a7797c.12d796",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "for each item",
        "func": "if( msg.i     === undefined ) msg.i = 0;\nif( msg.items_obj === undefined ) msg.items_obj = msg.myitems;\n\nmsg.current_item = msg.items_arr[ msg.i ];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 410,
        "y": 793,
        "wires": [
            [
                "12b26cf2.2d9bf3"
            ]
        ]
    },
    {
        "id": "57ea50f5.62d98",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "++",
        "func": "if ( (msg.i += 1) < msg.items_obj.length ) return [msg];\nelse \n\nreturn [null,msg];\n",
        "outputs": 2,
        "noerr": 0,
        "x": 390,
        "y": 847,
        "wires": [
            [
                "39a7797c.12d796"
            ],
            [
                "6549a33.6a9765c"
            ]
        ]
    },
    {
        "id": "e6f5904d.dae9d",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "save items array",
        "func": "msg.items_arr = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 520,
        "y": 526,
        "wires": [
            [
                "d3349bf2.9e3e78"
            ]
        ]
    },
    {
        "id": "1cb14214.e1b50e",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 790,
        "y": 506,
        "wires": []
    },
    {
        "id": "7fe8226a.7e17fc",
        "type": "comment",
        "z": "61eab748.c2a598",
        "name": "Reverse the order of the loop",
        "info": "",
        "x": 140,
        "y": 640,
        "wires": []
    },
    {
        "id": "b6b4eb62.d18bc8",
        "type": "comment",
        "z": "61eab748.c2a598",
        "name": "LOOPING ESSENTIALS",
        "info": "ONLY THE NODES INSIDE THE LOOP MUST BE REPEATED\nIT IS ESSENTIAL THAT LOOPED NODES CAN BE\nFOLLOWED BY NON-LOOPED NODES.\n\nTHIS IS NOT POSSIBLE WITH A SIMPLE SPLIT FUNCTION\n\n",
        "x": 630,
        "y": 1007,
        "wires": []
    },
    {
        "id": "4660c90c.67d9f8",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "init checker (BEFORE LOOP BUT INSIDE SUBLOW)",
        "func": "var mychecker = [\"start\"];\nmsg.checker = mychecker;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1300,
        "y": 606,
        "wires": [
            [
                "b7a4af72.54c9a",
                "39a7797c.12d796"
            ]
        ]
    },
    {
        "id": "12b26cf2.2d9bf3",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "checker update (INSIDE LOOP)",
        "func": "var mychecker = msg.checker;\nmychecker.push(msg.current_item);\nmsg.checker = mychecker;\nmsg.topic = \"SELECT UNIX_TIMESTAMP(datetime)*1000 AS 'x', temperature AS 'y' FROM tsensors WHERE (sensor_id =\";\nmsg.topic = msg.topic +\" '\" + msg.current_item + \"')\" + \"AND (datetime > DATE_SUB(NOW(),INTERVAL 96 HOUR))\" + \";\" ; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 630,
        "y": 793,
        "wires": [
            [
                "3a234ab6.be1b56",
                "af609512.267268"
            ]
        ]
    },
    {
        "id": "3a234ab6.be1b56",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 870,
        "y": 740,
        "wires": []
    },
    {
        "id": "6549a33.6a9765c",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "checker update (AFTER LOOP BUT INSIDE SUBFLOW)",
        "func": "var mychecker = msg.checker;\nvar end_of_loop = \"end\";\nmychecker.push(end_of_loop);\nmsg.checker = mychecker;\nmsg.payload = [];\nmsg.payload.push(msg.chart);\nmsg.topic = \"\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 907,
        "wires": [
            [
                "efa611ad.e71a",
                "d8d21bdf.a32218",
                "59cc40a3.282de",
                "cd786eb.0d6f89"
            ]
        ]
    },
    {
        "id": "efa611ad.e71a",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "checker",
        "x": 830,
        "y": 887,
        "wires": []
    },
    {
        "id": "d8d21bdf.a32218",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 927,
        "wires": []
    },
    {
        "id": "59cc40a3.282de",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 810,
        "y": 847,
        "wires": []
    },
    {
        "id": "cd786eb.0d6f89",
        "type": "change",
        "z": "61eab748.c2a598",
        "name": "msg cleanup (AFTER LOOP BUT INSIDE SUBFLOW)",
        "rules": [
            {
                "t": "delete",
                "p": "i",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "items_arr",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "items_obj",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "current_item",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "myitems",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 967,
        "wires": [
            [
                "723d7c94.e1aa24",
                "a1089d8d.491f4"
            ]
        ]
    },
    {
        "id": "3a3f2ebc.8a0562",
        "type": "change",
        "z": "61eab748.c2a598",
        "name": "placeholder in payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ready for looping",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 666,
        "wires": [
            [
                "e94a77.13f3f588"
            ]
        ]
    },
    {
        "id": "723d7c94.e1aa24",
        "type": "debug",
        "z": "61eab748.c2a598",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 810,
        "y": 1021,
        "wires": []
    },
    {
        "id": "97884953.1c7d38",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "",
        "func": "msg.chart.data.push(msg.payload);\nmsg.chart.series.push(msg.current_item);\nmsg.chart.labels.push(msg.current_item);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 789.6666259765625,
        "wires": [
            [
                "57ea50f5.62d98"
            ]
        ]
    },
    {
        "id": "e94a77.13f3f588",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "Init chart variable",
        "func": "var mychart = {\"data\":[],\"labels\":[],\"series\":[]};\nmsg.chart = mychart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 606,
        "wires": [
            [
                "4660c90c.67d9f8"
            ]
        ]
    },
    {
        "id": "41c93ee1.1f2ad",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1670,
        "y": 620,
        "wires": []
    },
    {
        "id": "9823e717.16d1b8",
        "type": "inject",
        "z": "599e8aab.a9ec84",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 110,
        "y": 40,
        "wires": [
            [
                "aa5bae90.91157"
            ]
        ]
    },
    {
        "id": "aa5bae90.91157",
        "type": "change",
        "z": "599e8aab.a9ec84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "previous",
                "pt": "global",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "e5dbe334.d7cf7",
        "type": "function",
        "z": "599e8aab.a9ec84",
        "name": "CALC EDGES",
        "func": "var diff = msg.payload-global.previous;\nvar positif = (diff >=0);\nvar myposedge  = 0;\nvar mynegedge = 0;\nif (diff>=0) {myposedge = diff;}\nif (diff<0)  {mynegedge = - diff;}            \n//this could be done more efficient, but if else and switch case did not work\n\nvar msg1 = {\"payload\" : msg.payload, \"previous\" : global.previous,\"posedge\" : myposedge, \"negedge\" : mynegedge  };\nglobal.previous = msg.payload;\nreturn msg1;",
        "outputs": 1,
        "noerr": 0,
        "x": 180,
        "y": 568,
        "wires": [
            [
                "44a26c6a.2c45a4",
                "8c6516f2.0cc9e8"
            ]
        ]
    },
    {
        "id": "44a26c6a.2c45a4",
        "type": "debug",
        "z": "599e8aab.a9ec84",
        "name": "DELTA3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 340,
        "y": 528,
        "wires": []
    },
    {
        "id": "ff6277bf.a84eb8",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "CREATE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 2060,
        "wires": [
            [
                "8b1c565b.917d48"
            ]
        ]
    },
    {
        "id": "8b1c565b.917d48",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "CREATE TABLE `metaup`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE metaup (metaup_id INT NOT NULL AUTO_INCREMENT, counter INT(6), gtw_id CHAR(15), PRIMARY KEY (metaup_id));\n",
        "output": "str",
        "x": 390,
        "y": 2060,
        "wires": [
            [
                "f755b124.460ac"
            ]
        ]
    },
    {
        "id": "473065bb.3ca41c",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "DROP",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 2100,
        "wires": [
            [
                "ee5e2cb9.09bcf"
            ]
        ]
    },
    {
        "id": "ee5e2cb9.09bcf",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "DROP TABLE `metaup`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE metaup;\n",
        "output": "str",
        "x": 390,
        "y": 2100,
        "wires": [
            [
                "f755b124.460ac"
            ]
        ]
    },
    {
        "id": "73f8da6a.9a9ee4",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 2320,
        "wires": [
            [
                "4264ea85.ef82b4"
            ]
        ]
    },
    {
        "id": "4264ea85.ef82b4",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "LIST metaup",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM metaup;",
        "output": "str",
        "x": 350,
        "y": 2320,
        "wires": [
            [
                "b59289b3.0efd28"
            ]
        ]
    },
    {
        "id": "391bc337.9bb12c",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "COUNT metaup",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM metaup;",
        "output": "str",
        "x": 360,
        "y": 2360,
        "wires": [
            [
                "4281d8b5.682bd8"
            ]
        ]
    },
    {
        "id": "2e0220dd.b3b85",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "LIST",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 810,
        "y": 2340,
        "wires": []
    },
    {
        "id": "f300aee5.e242f",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "COUNT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 2360,
        "wires": [
            [
                "391bc337.9bb12c"
            ]
        ]
    },
    {
        "id": "b89c67d4.aba798",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "CREATE TABLE garbage",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE garbage (garbage_id INT NOT NULL AUTO_INCREMENT, topic CHAR(128), payload VARCHAR(2048), PRIMARY KEY (garbage_id));\n",
        "output": "str",
        "x": 390,
        "y": 2160,
        "wires": [
            [
                "f755b124.460ac"
            ]
        ]
    },
    {
        "id": "c62127fd.e20da8",
        "type": "link out",
        "z": "a2794803.694d38",
        "name": "MESSAGE OBJECT",
        "links": [
            "4df2b78a.044688"
        ],
        "x": 1160,
        "y": 660,
        "wires": []
    },
    {
        "id": "67d49f6.90cbf6",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "INSERT INTO metaup",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO metaup (counter,gtw_id) VALUES ({{counter}}, \"{{gtw_id}}\" );",
        "output": "str",
        "x": 780,
        "y": 2580,
        "wires": [
            [
                "1eb723bc.e68c2c",
                "1545c1fb.853dde"
            ]
        ]
    },
    {
        "id": "1eb723bc.e68c2c",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "METAUP",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1000,
        "y": 2640,
        "wires": []
    },
    {
        "id": "92e37ab6.159b48",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "RESPONSE metaup 1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1240,
        "y": 2640,
        "wires": []
    },
    {
        "id": "4a698aa1.f39fe4",
        "type": "change",
        "z": "a2794803.694d38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "counter",
                "pt": "msg",
                "to": "payload.counter",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 2580,
        "wires": [
            [
                "5b87f5d4.3e108c",
                "1580f433.2fda6c"
            ]
        ]
    },
    {
        "id": "5b87f5d4.3e108c",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "METAUP PREPARE2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 540,
        "y": 2640,
        "wires": []
    },
    {
        "id": "90009da6.eaf37",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "fv_nodes/devices/sensor01/up ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 270,
        "y": 2640,
        "wires": []
    },
    {
        "id": "4df2b78a.044688",
        "type": "link in",
        "z": "a2794803.694d38",
        "name": "",
        "links": [
            "c62127fd.e20da8"
        ],
        "x": 95,
        "y": 2580,
        "wires": [
            [
                "4a698aa1.f39fe4",
                "90009da6.eaf37"
            ]
        ]
    },
    {
        "id": "1580f433.2fda6c",
        "type": "function",
        "z": "a2794803.694d38",
        "name": "",
        "func": "var mygtw_id = msg.payload.metadata.gateways[0].gtw_id;\nmsg.gtw_id = mygtw_id;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 570,
        "y": 2580,
        "wires": [
            [
                "afb087aa.384f78",
                "67d49f6.90cbf6"
            ]
        ]
    },
    {
        "id": "afb087aa.384f78",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "METAUP3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 770,
        "y": 2640,
        "wires": []
    },
    {
        "id": "49f8a2d.31ecf5c",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "MAIN",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 390,
        "y": 20,
        "wires": []
    },
    {
        "id": "f909d0be.b531f",
        "type": "comment",
        "z": "a2794803.694d38",
        "name": "Catch all messages other than with topic = \"fv_nodes/devices/sensor01/events/#  \"",
        "info": "",
        "x": 780,
        "y": 20,
        "wires": []
    },
    {
        "id": "75b9c2fd.e7453c",
        "type": "switch",
        "z": "a2794803.694d38",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "fv_nodes/devices/sensor01/up",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 230,
        "y": 60,
        "wires": [
            [
                "49f8a2d.31ecf5c"
            ],
            [
                "db0af22.d30b21",
                "3b19ceae.fbabe2"
            ]
        ]
    },
    {
        "id": "db0af22.d30b21",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "OTHER (\"GARBAGE\")",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 440,
        "y": 60,
        "wires": []
    },
    {
        "id": "71e036ae.1d14d8",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "DROP TABLE garbage",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE garbage;\n",
        "output": "str",
        "x": 380,
        "y": 2220,
        "wires": [
            [
                "f755b124.460ac"
            ]
        ]
    },
    {
        "id": "c732d1c0.2c1d4",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "DROP",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 2220,
        "wires": [
            [
                "71e036ae.1d14d8"
            ]
        ]
    },
    {
        "id": "74276cc8.096f84",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "CREATE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 2160,
        "wires": [
            [
                "b89c67d4.aba798"
            ]
        ]
    },
    {
        "id": "3e40d323.fe125c",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 2420,
        "wires": [
            [
                "34ecc233.cfef1e"
            ]
        ]
    },
    {
        "id": "34ecc233.cfef1e",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "LIST garbage",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM garbage;",
        "output": "str",
        "x": 360,
        "y": 2420,
        "wires": [
            [
                "b59289b3.0efd28"
            ]
        ]
    },
    {
        "id": "d8275fb1.50065",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "COUNT garbage",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM garbage;",
        "output": "str",
        "x": 370,
        "y": 2460,
        "wires": [
            [
                "4281d8b5.682bd8"
            ]
        ]
    },
    {
        "id": "b05b4a10.4487e8",
        "type": "inject",
        "z": "a2794803.694d38",
        "name": "COUNT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 2460,
        "wires": [
            [
                "d8275fb1.50065"
            ]
        ]
    },
    {
        "id": "75574c35.77a2d4",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "COUNT",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].COUNT(*)",
        "x": 820,
        "y": 2420,
        "wires": []
    },
    {
        "id": "7ccc396b.ab4cf8",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "INSERT INTO garbage",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO garbage (topic, payload) VALUES ( \"{{topic}}\", \"{{payload}}\" );",
        "output": "str",
        "x": 380,
        "y": 2780,
        "wires": [
            [
                "2be945ed.f4efea",
                "31c14e.5edb6eb2"
            ]
        ]
    },
    {
        "id": "d87d90f7.c7732",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "RESPONSE garbage 1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 910,
        "y": 2840,
        "wires": []
    },
    {
        "id": "31c14e.5edb6eb2",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "COMMAND garbage",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 620,
        "y": 2840,
        "wires": []
    },
    {
        "id": "269c29f6.4e32b6",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "raw MESSAGE data",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 360,
        "y": 2840,
        "wires": []
    },
    {
        "id": "b59753a.c5bbbb",
        "type": "link in",
        "z": "a2794803.694d38",
        "name": "",
        "links": [
            "3b19ceae.fbabe2"
        ],
        "x": 95,
        "y": 2780,
        "wires": [
            [
                "269c29f6.4e32b6",
                "7ccc396b.ab4cf8"
            ]
        ]
    },
    {
        "id": "3b19ceae.fbabe2",
        "type": "link out",
        "z": "a2794803.694d38",
        "name": "RAW MESSAGE",
        "links": [
            "b59753a.c5bbbb"
        ],
        "x": 335,
        "y": 100,
        "wires": []
    },
    {
        "id": "a9b7d6f1.ac43d8",
        "type": "template",
        "z": "a2794803.694d38",
        "name": "CREATE TABLE garbage",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE garbage (garbage_id INT NOT NULL AUTO_INCREMENT, timestamp INT(13), topic CHAR(32), payload CHAR(64), PRIMARY KEY (garbage_id));\n",
        "output": "str",
        "x": 670,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "8b144e34.6391c",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 2060,
        "wires": [
            [
                "9187ffb8.c6086"
            ]
        ]
    },
    {
        "id": "b0ede49f.588008",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 850,
        "y": 2780,
        "wires": [
            [
                "d87d90f7.c7732",
                "34a4b99b.d41e66"
            ]
        ]
    },
    {
        "id": "5f486784.54dba8",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1210,
        "y": 2580,
        "wires": [
            [
                "92e37ab6.159b48",
                "bf9a6949.897b98"
            ]
        ]
    },
    {
        "id": "9187ffb8.c6086",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 2060,
        "wires": [
            [
                "b80732f0.d7dc9"
            ]
        ]
    },
    {
        "id": "b80732f0.d7dc9",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "TABLE MANAGEMENT 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 910,
        "y": 2120,
        "wires": []
    },
    {
        "id": "34a4b99b.d41e66",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1010,
        "y": 2780,
        "wires": [
            [
                "54d43331.482d8c"
            ]
        ]
    },
    {
        "id": "54d43331.482d8c",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "RESPONSE garbage 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1170,
        "y": 2840,
        "wires": []
    },
    {
        "id": "bf9a6949.897b98",
        "type": "json",
        "z": "a2794803.694d38",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1470,
        "y": 2580,
        "wires": [
            [
                "b317c878.7cd1c8"
            ]
        ]
    },
    {
        "id": "b317c878.7cd1c8",
        "type": "debug",
        "z": "a2794803.694d38",
        "name": "RESPONSE metaup 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1500,
        "y": 2640,
        "wires": []
    },
    {
        "id": "7a460cf0.729fd4",
        "type": "comment",
        "z": "2b73b789.bed1b8",
        "name": "Peak Shaving flow ",
        "info": "Recognize peaks in power consumption.\n\nCreate temporary clone of database table.\nRetrieve an array of power readings including the posedge and negedge values\n-- select a certain range\n-- plot the data\nSplit the array in individual elements\nIf the posedge or negedge values fulfil certain criteria a peak is definded\nIf a peak is fully defined (start, end, height),then it is inserted into a table with peak data.\nThe power data in the temp table is adapted. Peak is subtracted from the trace.\nRepeat this for all data in the range\nStart over with less easy (sm\naller contrast ) peaks.\n\nRemove temporary clone of database table\n",
        "x": 190,
        "y": 40,
        "wires": []
    },
    {
        "id": "fc81b355.dee2",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "CLONE epower",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 200,
        "wires": [
            [
                "ffdf46fe.b8fae8"
            ]
        ]
    },
    {
        "id": "ffdf46fe.b8fae8",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CLONE TABLE epower into tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE tmp_epower AS\n   SELECT *\n   FROM epower;",
        "output": "str",
        "x": 400,
        "y": 200,
        "wires": [
            [
                "75af60c9.884b9"
            ]
        ]
    },
    {
        "id": "a50474c7.08e678",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "DROP",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 110,
        "y": 260,
        "wires": [
            [
                "fc187ea6.3413"
            ]
        ]
    },
    {
        "id": "fc187ea6.3413",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "DROP TABLE tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE tmp_epower;\n",
        "output": "str",
        "x": 320,
        "y": 260,
        "wires": [
            [
                "75af60c9.884b9"
            ]
        ]
    },
    {
        "id": "5700f407.3eb3dc",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 420,
        "wires": [
            [
                "bf236503.3a7f68"
            ]
        ]
    },
    {
        "id": "932dbc92.d0504",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "COUNT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 589,
        "wires": [
            [
                "1cebf82a.9aa658"
            ]
        ]
    },
    {
        "id": "bf236503.3a7f68",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tmp_epower;",
        "output": "str",
        "x": 370,
        "y": 420,
        "wires": [
            [
                "6bde54d8.ff61ac"
            ]
        ]
    },
    {
        "id": "1cebf82a.9aa658",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "COUNT tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM tmp_epower;",
        "output": "str",
        "x": 400,
        "y": 400,
        "wires": [
            [
                "b7c470db.7a21"
            ]
        ]
    },
    {
        "id": "ce9502b6.bbeba",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].COUNT(*)",
        "x": 870,
        "y": 589,
        "wires": []
    },
    {
        "id": "77e58827.cb3938",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 850,
        "y": 260,
        "wires": []
    },
    {
        "id": "83ed8a9f.e9f018",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 421,
        "wires": []
    },
    {
        "id": "1be7f014.3db6b",
        "type": "json",
        "z": "2b73b789.bed1b8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 800,
        "y": 160,
        "wires": [
            [
                "83b09421.e563f8"
            ]
        ]
    },
    {
        "id": "83b09421.e563f8",
        "type": "json",
        "z": "2b73b789.bed1b8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 830,
        "y": 120,
        "wires": [
            [
                "77e58827.cb3938"
            ]
        ]
    },
    {
        "id": "11b05c8d.73b0b3",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 680,
        "y": 380,
        "wires": [
            [
                "c6565147.e56f9"
            ]
        ]
    },
    {
        "id": "c6565147.e56f9",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 850,
        "y": 380,
        "wires": []
    },
    {
        "id": "34dec62.11f6a3a",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 740,
        "wires": [
            [
                "9a83433a.2c6ed",
                "de982029.5efb7",
                "7e484cc7.17c704",
                "91b3978a.44e338"
            ]
        ]
    },
    {
        "id": "9a83433a.2c6ed",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "UNIX_TIMESTAMP()*1000",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT UNIX_TIMESTAMP()*1000;",
        "output": "str",
        "x": 420,
        "y": 740,
        "wires": [
            [
                "37a9f211.e03ade"
            ]
        ]
    },
    {
        "id": "dedcf6e4.2a17a8",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].UNIX_TIMESTAMP()*1000",
        "x": 990,
        "y": 700,
        "wires": []
    },
    {
        "id": "de982029.5efb7",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 370,
        "y": 700,
        "wires": []
    },
    {
        "id": "3855ef78.2da98",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 890,
        "y": 740,
        "wires": []
    },
    {
        "id": "7e484cc7.17c704",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "FROM_UNIXTIME(UNIX_TIMESTAMP())",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT FROM_UNIXTIME(UNIX_TIMESTAMP());",
        "output": "str",
        "x": 300,
        "y": 820,
        "wires": [
            [
                "a420bf71.31ec1"
            ]
        ]
    },
    {
        "id": "2ccf0840.8cc328",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 790,
        "y": 820,
        "wires": []
    },
    {
        "id": "93ec94ee.ce2658",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 810,
        "y": 900,
        "wires": []
    },
    {
        "id": "91b3978a.44e338",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "DATETIME()",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT DATETIME();",
        "output": "str",
        "x": 370,
        "y": 980,
        "wires": [
            [
                "fd3b0202.04c76",
                "a5b8d996.e2dba8"
            ]
        ]
    },
    {
        "id": "fd3b0202.04c76",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 710,
        "y": 980,
        "wires": []
    },
    {
        "id": "a5b8d996.e2dba8",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 670,
        "y": 1060,
        "wires": []
    },
    {
        "id": "33e07d8d.6e4e72",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST SELECTION",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 460,
        "wires": [
            [
                "ab17584d.4d8188"
            ]
        ]
    },
    {
        "id": "ab17584d.4d8188",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tmp_epower WHERE (timestamp > 1532509373105\n) ;",
        "output": "str",
        "x": 370,
        "y": 460,
        "wires": [
            [
                "c81287a0.05eac8"
            ]
        ]
    },
    {
        "id": "a53de518.723d78",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 461,
        "wires": []
    },
    {
        "id": "8df0fb5e.d9e0c8",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST SELECTION",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 500,
        "wires": [
            [
                "e6d55e7.61b6aa"
            ]
        ]
    },
    {
        "id": "e6d55e7.61b6aa",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tmp_epower WHERE NOW()-timestamp> 0;",
        "output": "str",
        "x": 350,
        "y": 660,
        "wires": [
            [
                "aa1ee5ef.591448"
            ]
        ]
    },
    {
        "id": "aa99002b.33d51",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 501,
        "wires": []
    },
    {
        "id": "f125829.8b7338",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST SELECTION ***",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 540,
        "wires": [
            [
                "52214c6b.4e8be4"
            ]
        ]
    },
    {
        "id": "52214c6b.4e8be4",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tmp_epower WHERE timestamp < DATE_SUB(NOW(), INTERVAL 100 MINUTE) AND timestamp < DATE_SUB(NOW(), INTERVAL 120 MINUTE);\n",
        "output": "str",
        "x": 370,
        "y": 540,
        "wires": [
            [
                "d433a518.ea21a8"
            ]
        ]
    },
    {
        "id": "a0e0bbba.5cfb48",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 830,
        "y": 541,
        "wires": []
    },
    {
        "id": "9fd4f661.d842b8",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1180,
        "wires": [
            [
                "2e8a7021.19732"
            ]
        ]
    },
    {
        "id": "2e8a7021.19732",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "FROM_UNIXTIME(UNIX_TIMESTAMP())",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT DATE_SUB(NOW(), INTERVAL 2 HOURS);",
        "output": "str",
        "x": 440,
        "y": 1160,
        "wires": [
            [
                "ae836233.89627"
            ]
        ]
    },
    {
        "id": "ae836233.89627",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 710,
        "y": 1140,
        "wires": []
    },
    {
        "id": "8c6516f2.0cc9e8",
        "type": "template",
        "z": "599e8aab.a9ec84",
        "name": "INSERT INTO epower2",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO epower2 (timestamp, power, posedge, negedge) VALUES (NOW(), {{payload}}, {{posedge}}, {{negedge}} );",
        "output": "str",
        "x": 410,
        "y": 568,
        "wires": [
            [
                "606b5cb8.705014"
            ]
        ]
    },
    {
        "id": "8dd7b8fe.491548",
        "type": "comment",
        "z": "2b73b789.bed1b8",
        "name": "also try TABLE epower2 with different timestamp",
        "info": "",
        "x": 260,
        "y": 360,
        "wires": []
    },
    {
        "id": "1eed5eec.63e381",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "CLONE epower2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 140,
        "wires": [
            [
                "655f31f.96dd4d"
            ]
        ]
    },
    {
        "id": "655f31f.96dd4d",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CLONE TABLE epower2 into tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE tmp_epower AS\n   SELECT *\n   FROM epower2;",
        "output": "str",
        "x": 400,
        "y": 140,
        "wires": [
            [
                "75af60c9.884b9"
            ]
        ]
    },
    {
        "id": "29c05181.db20ae",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "COUNT selection ***",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 640,
        "wires": [
            [
                "c77c2144.60821"
            ]
        ]
    },
    {
        "id": "c77c2144.60821",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "COUNT tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM tmp_epower  WHERE timestamp < DATE_SUB(NOW(), INTERVAL 25 MINUTE);",
        "output": "str",
        "x": 380,
        "y": 600,
        "wires": [
            [
                "835bca4f.bb9218",
                "3e866cad.e0cb64"
            ]
        ]
    },
    {
        "id": "645f98dc.a39e68",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].COUNT(*)",
        "x": 870,
        "y": 640,
        "wires": []
    },
    {
        "id": "26942b9d.e5e324",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST SELECTION ***",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 1320,
        "wires": [
            [
                "ffa54c89.054f6"
            ]
        ]
    },
    {
        "id": "ffa54c89.054f6",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tmp_epower WHERE timestamp > DATE_SUB(NOW(), INTERVAL 2 DAY);",
        "output": "str",
        "x": 370,
        "y": 1320,
        "wires": [
            [
                "fb1ba7c1.878618"
            ]
        ]
    },
    {
        "id": "70da7b2d.ba7574",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 810,
        "y": 1321,
        "wires": []
    },
    {
        "id": "3e866cad.e0cb64",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 600,
        "y": 700,
        "wires": []
    },
    {
        "id": "acf3084f.147528",
        "type": "comment",
        "z": "2b73b789.bed1b8",
        "name": "NOTE: tmp_epower is a snapshot (because cloned).",
        "info": "This implies that a selection window based on NOW() moves over the selection\nThis is not desirable while testing",
        "x": 1070,
        "y": 540,
        "wires": []
    },
    {
        "id": "5f988276.5a75fc",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "INIT CHART",
        "func": "var mychart = {\"data\":[],\"labels\":[],\"series\":[]};\nmsg.chart = mychart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 1460,
        "wires": [
            [
                "d6461041.02313"
            ]
        ]
    },
    {
        "id": "d6461041.02313",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "INJECT CHART DATA INTO CHART OBJECT",
        "func": "msg.chart.data.push(msg.payload);\nmsg.chart.series.push(\"powerseries\");\nmsg.chart.labels.push(\"powerlabels\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 720,
        "y": 1460,
        "wires": [
            [
                "45b274da.72cf8c"
            ]
        ]
    },
    {
        "id": "f038727b.26c22",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST SELECTION ***",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 1380,
        "wires": [
            [
                "5c0c1539.f00ecc"
            ]
        ]
    },
    {
        "id": "5c0c1539.f00ecc",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT timestamp AS 'x', posedge AS 'y' FROM tmp_epower2;",
        "output": "str",
        "x": 350,
        "y": 1380,
        "wires": [
            [
                "d4b098d1.2e5c28"
            ]
        ]
    },
    {
        "id": "5b3725c0.dfcdfc",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1270,
        "y": 1460,
        "wires": []
    },
    {
        "id": "3c48b36.4efa54c",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 845,
        "y": 1385.5555419921875,
        "wires": []
    },
    {
        "id": "45b274da.72cf8c",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "FINISH CHART OBJECT",
        "func": "msg.payload = [];\nmsg.payload.push(msg.chart);\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 1460,
        "wires": [
            [
                "5b3725c0.dfcdfc",
                "ffe5f991.0079d8"
            ]
        ]
    },
    {
        "id": "84d0e083.485cf",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "INIT CHART",
        "func": "var mychart = {\"data\":[],\"labels\":[],\"series\":[]};\nmsg.chart = mychart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 510,
        "y": 1860,
        "wires": [
            [
                "b84b9712.186198"
            ]
        ]
    },
    {
        "id": "b84b9712.186198",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "INJECT CHART DATA INTO CHART OBJECT",
        "func": "msg.chart.data.push(msg.payload);\nmsg.chart.series.push(\"powerseries\");\nmsg.chart.labels.push(\"powerlabels\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 800,
        "y": 1860,
        "wires": [
            [
                "59a9f04e.a11ee"
            ]
        ]
    },
    {
        "id": "daf67a79.d05a98",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST DERIVED RESULT ***",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1780,
        "wires": [
            [
                "c643d64f.506648"
            ]
        ]
    },
    {
        "id": "a9076a29.7fe688",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1350,
        "y": 1860,
        "wires": []
    },
    {
        "id": "ef819175.0d0fa",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 925,
        "y": 1785.5555419921875,
        "wires": []
    },
    {
        "id": "59a9f04e.a11ee",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "FINISH CHART OBJECT",
        "func": "msg.payload = [];\nmsg.payload.push(msg.chart);\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1130,
        "y": 1860,
        "wires": [
            [
                "a9076a29.7fe688",
                "1fb1b49f.06ee3b"
            ]
        ]
    },
    {
        "id": "ad73767d.297628",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT timestamp AS 'x', posedge AS 'y' FROM tmp_epower WHERE timestamp > DATE_SUB(NOW(), INTERVAL 2 DAY) AND posedge < 8000;",
        "output": "str",
        "x": 350,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "c643d64f.506648",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT timestamp AS 'x', posedge / (power-posedge) AS 'y' FROM tmp_epower WHERE timestamp > DATE_SUB(NOW(), INTERVAL 2 DAY) AND posedge < 8000;",
        "output": "str",
        "x": 430,
        "y": 1740,
        "wires": [
            [
                "6e2a58e4.737e48"
            ]
        ]
    },
    {
        "id": "3aa215.87c88dec",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "LIST tmp_epower",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT timestamp AS 'timestamp', posedge / (power-posedge) AS 'contrast' FROM tmp_epower;",
        "output": "str",
        "x": 430,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "e10e4552.d5bc78",
        "type": "mqtt in",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/#",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 260,
        "y": 140,
        "wires": [
            [
                "fca0794d.a41148"
            ]
        ]
    },
    {
        "id": "78cc8c8e.fad9e4",
        "type": "debug",
        "z": 0,
        "name": "rfin",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 470,
        "y": 200,
        "wires": []
    },
    {
        "id": "fca0794d.a41148",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 480,
        "y": 140,
        "wires": []
    },
    {
        "id": "9e47c7d1.0b74c8",
        "type": "json",
        "z": 0,
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 510,
        "y": 260,
        "wires": [
            [
                "73d3f7e1.6e9af8"
            ]
        ]
    },
    {
        "id": "73d3f7e1.6e9af8",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 670,
        "y": 260,
        "wires": []
    },
    {
        "id": "7feaa0d3.fc113",
        "type": "mqtt in",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/relay/#",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 320,
        "y": 500,
        "wires": [
            [
                "bccda09e.69c5c"
            ]
        ]
    },
    {
        "id": "bccda09e.69c5c",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 610,
        "y": 500,
        "wires": []
    },
    {
        "id": "8e54a865.44e8a8",
        "type": "mqtt in",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/button/#",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 320,
        "y": 580,
        "wires": [
            [
                "694c2d12.41dc24"
            ]
        ]
    },
    {
        "id": "694c2d12.41dc24",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 610,
        "y": 580,
        "wires": []
    },
    {
        "id": "27cbeede.adea62",
        "type": "mqtt in",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/status/#",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 280,
        "y": 340,
        "wires": [
            [
                "330091b6.07e16e"
            ]
        ]
    },
    {
        "id": "60f3874f.709298",
        "type": "mqtt in",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/data/#",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 270,
        "y": 400,
        "wires": [
            [
                "13a1068c.e97889"
            ]
        ]
    },
    {
        "id": "330091b6.07e16e",
        "type": "json",
        "z": 0,
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 340,
        "wires": [
            [
                "eef8a244.b3d12"
            ]
        ]
    },
    {
        "id": "eef8a244.b3d12",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 710,
        "y": 340,
        "wires": []
    },
    {
        "id": "13a1068c.e97889",
        "type": "json",
        "z": 0,
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 400,
        "wires": [
            [
                "f1be149a.89ea18",
                "5c28f044.ccdcf",
                "e7eedeb7.10e75"
            ]
        ]
    },
    {
        "id": "f1be149a.89ea18",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 690,
        "y": 400,
        "wires": []
    },
    {
        "id": "de546803.296e58",
        "type": "mqtt out",
        "z": 0,
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "2869eae7.30e156",
        "x": 410,
        "y": 720,
        "wires": []
    },
    {
        "id": "63da76a3.bf6d08",
        "type": "inject",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/relay/1/set",
        "payload": "2",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 720,
        "wires": [
            [
                "de546803.296e58"
            ]
        ]
    },
    {
        "id": "5c2a15d8.35dd8c",
        "type": "inject",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/rfout/set",
        "payload": "1284009601CCFFC554",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 780,
        "y": 60,
        "wires": [
            [
                "f667e65a.e40c38",
                "309580c7.33afb"
            ]
        ]
    },
    {
        "id": "6749552e.4ac8fc",
        "type": "inject",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/rfout/set",
        "payload": "1266008C01D6FFC551",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 780,
        "y": 120,
        "wires": [
            [
                "c96f711f.f0a83",
                "4279698f.e96eb8"
            ]
        ]
    },
    {
        "id": "f667e65a.e40c38",
        "type": "mqtt out",
        "z": 0,
        "name": "",
        "topic": "",
        "qos": "0",
        "retain": "false",
        "broker": "2869eae7.30e156",
        "x": 1050,
        "y": 80,
        "wires": []
    },
    {
        "id": "309580c7.33afb",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 20,
        "wires": []
    },
    {
        "id": "c96f711f.f0a83",
        "type": "mqtt out",
        "z": 0,
        "name": "",
        "topic": "",
        "qos": "0",
        "retain": "false",
        "broker": "2869eae7.30e156",
        "x": 1050,
        "y": 140,
        "wires": []
    },
    {
        "id": "4279698f.e96eb8",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 200,
        "wires": []
    },
    {
        "id": "5c28f044.ccdcf",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.rfin",
        "x": 760,
        "y": 460,
        "wires": []
    },
    {
        "id": "a0397915.40d828",
        "type": "mqtt in",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/rfin",
        "qos": "0",
        "broker": "2869eae7.30e156",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "78cc8c8e.fad9e4"
            ]
        ]
    },
    {
        "id": "a2f4f4c9.2b90f8",
        "type": "inject",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/relay/0/set",
        "payload": "query",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 950,
        "y": 280,
        "wires": [
            [
                "94bf796d.4aa378"
            ]
        ]
    },
    {
        "id": "94bf796d.4aa378",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1250,
        "y": 280,
        "wires": []
    },
    {
        "id": "f5dd6215.52d13",
        "type": "inject",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/rflearn/0/set",
        "payload": "1",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 900,
        "y": 540,
        "wires": [
            [
                "abcfa123.689b3"
            ]
        ]
    },
    {
        "id": "abcfa123.689b3",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 600,
        "wires": []
    },
    {
        "id": "ae3c1dd3.dacc4",
        "type": "inject",
        "z": 0,
        "name": "",
        "topic": "ESPURNA-CACE65/rflearn/0/set",
        "payload": "0",
        "payloadType": "num",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 760,
        "y": 640,
        "wires": [
            [
                "bea6e77b.0bbd38"
            ]
        ]
    },
    {
        "id": "bea6e77b.0bbd38",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 890,
        "y": 700,
        "wires": []
    },
    {
        "id": "3254b0c0.da79a",
        "type": "split",
        "z": 0,
        "name": "",
        "splt": "2",
        "spltType": "len",
        "arraySplt": "2",
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 1040,
        "y": 460,
        "wires": [
            [
                "bec1a073.401fc",
                "43bc90be.129ab",
                "2bdd9a60.e0fee6",
                "2d8cbeac.690942",
                "9bed98a3.901f78"
            ]
        ]
    },
    {
        "id": "bec1a073.401fc",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1130,
        "y": 500,
        "wires": []
    },
    {
        "id": "e7eedeb7.10e75",
        "type": "change",
        "z": 0,
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.rfin",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 440,
        "wires": [
            [
                "6a04697b.a8dfa8",
                "3254b0c0.da79a"
            ]
        ]
    },
    {
        "id": "6a04697b.a8dfa8",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1050,
        "y": 420,
        "wires": []
    },
    {
        "id": "43bc90be.129ab",
        "type": "template",
        "z": 0,
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "0x{{payload}}",
        "output": "str",
        "x": 1240,
        "y": 440,
        "wires": [
            [
                "5dc6f324.a1eb5c"
            ]
        ]
    },
    {
        "id": "5dc6f324.a1eb5c",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1250,
        "y": 380,
        "wires": []
    },
    {
        "id": "2bdd9a60.e0fee6",
        "type": "template",
        "z": 0,
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\"data\" : \"0x{{payload}}\" }",
        "output": "json",
        "x": 1300,
        "y": 480,
        "wires": [
            [
                "c67c678.4b35898",
                "4812f4ac.989c0c"
            ]
        ]
    },
    {
        "id": "c67c678.4b35898",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1450,
        "y": 480,
        "wires": []
    },
    {
        "id": "4812f4ac.989c0c",
        "type": "change",
        "z": 0,
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.data",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 620,
        "wires": [
            [
                "dd2b92bc.61f41",
                "504dc46e.60af3c"
            ]
        ]
    },
    {
        "id": "dd2b92bc.61f41",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1490,
        "y": 560,
        "wires": []
    },
    {
        "id": "2d8cbeac.690942",
        "type": "function",
        "z": 0,
        "name": "",
        "func": "var hex = msg.payload; \nvar lab = msg.parts.index;\nvar i = parseInt(hex,16);\nmsg.payload = i;\nmsg.topic = lab;\nmsg.label = lab;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1390,
        "y": 140,
        "wires": [
            [
                "f040423a.3cad5",
                "504dc46e.60af3c",
                "ee0587fb.4227c8",
                "c50d499b.f7ada8"
            ]
        ]
    },
    {
        "id": "f040423a.3cad5",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 1540,
        "y": 120,
        "wires": []
    },
    {
        "id": "d75b9a1c.4b0d18",
        "type": "function",
        "z": 0,
        "name": "",
        "func": "msg.payload = []; \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1530,
        "y": 300,
        "wires": [
            [
                "504dc46e.60af3c",
                "9ce5c5c7.da17b8",
                "570e9b33.ea2a44",
                "4057085d.b082f8",
                "5e0e89f5.9f3a98",
                "d84af4fa.bf8c78",
                "6a5c482.f3952b8",
                "162d5bbc.ccd514",
                "4e0d01c7.410e3",
                "ed7b11b1.1a912"
            ]
        ]
    },
    {
        "id": "9bed98a3.901f78",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "parts.index",
        "x": 1220,
        "y": 540,
        "wires": []
    },
    {
        "id": "ee0587fb.4227c8",
        "type": "switch",
        "z": 0,
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 1730,
        "y": 100,
        "wires": [
            [
                "9ce5c5c7.da17b8"
            ],
            [
                "570e9b33.ea2a44"
            ],
            [
                "4057085d.b082f8"
            ],
            [
                "5e0e89f5.9f3a98"
            ],
            [
                "d84af4fa.bf8c78"
            ],
            [
                "6a5c482.f3952b8"
            ],
            [
                "dd802204.81f75"
            ]
        ]
    },
    {
        "id": "dd802204.81f75",
        "type": "switch",
        "z": 0,
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "6",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1730,
        "y": 360,
        "wires": [
            [
                "162d5bbc.ccd514"
            ],
            [
                "4e0d01c7.410e3"
            ],
            [
                "ed7b11b1.1a912"
            ],
            [
                "60b08da7.a085e4"
            ]
        ]
    },
    {
        "id": "90877736.0a3dd8",
        "type": "debug",
        "z": 0,
        "name": "ERROR",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1840,
        "y": 800,
        "wires": []
    },
    {
        "id": "c50d499b.f7ada8",
        "type": "debug",
        "z": 0,
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1553.70361328125,
        "y": 196.66665649414062,
        "wires": []
    },
    {
        "id": "60b08da7.a085e4",
        "type": "debug",
        "z": 0,
        "name": "ERROR",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1820,
        "y": 560,
        "wires": []
    },
    {
        "id": "b5ce4af3.08d098",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "count rows from table mqtt ",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM mqtt;",
        "output": "str",
        "x": 900,
        "y": 580,
        "wires": [
            [
                "bf7b478c.a95348"
            ]
        ]
    },
    {
        "id": "e4a6209d.ecffa",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 860,
        "y": 540,
        "wires": [
            [
                "b5ce4af3.08d098"
            ]
        ]
    },
    {
        "id": "3a7d0153.3a54fe",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1070,
        "y": 380,
        "wires": []
    },
    {
        "id": "1b3cbc00.e34944",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].count(*)",
        "x": 1310,
        "y": 460,
        "wires": []
    },
    {
        "id": "3dd369d8.c29f56",
        "type": "change",
        "z": "b038d480.cffce8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0].count(*)",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 400,
        "wires": [
            [
                "5294d074.63d07"
            ]
        ]
    },
    {
        "id": "cbdc9e5b.40b82",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "set text to No Data",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "No Data",
        "output": "str",
        "x": 1210,
        "y": 540,
        "wires": [
            [
                "5294d074.63d07"
            ]
        ]
    },
    {
        "id": "71c7fe11.31856",
        "type": "split",
        "z": "b038d480.cffce8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 730,
        "y": 80,
        "wires": [
            [
                "e7bfbc28.c28a6"
            ]
        ]
    },
    {
        "id": "4cdab9c4.03e728",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 710,
        "y": 20,
        "wires": []
    },
    {
        "id": "e7bfbc28.c28a6",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 870,
        "y": 80,
        "wires": [
            [
                "2f5e80ab.7aa68"
            ]
        ]
    },
    {
        "id": "2f5e80ab.7aa68",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1030,
        "y": 100,
        "wires": [
            [
                "4cdab9c4.03e728",
                "9895df1c.4ac7c"
            ]
        ]
    },
    {
        "id": "9895df1c.4ac7c",
        "type": "change",
        "z": "b038d480.cffce8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.Tables_in_example",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 180,
        "wires": [
            [
                "fc56faf7.eaf068"
            ]
        ]
    },
    {
        "id": "11c7cd56.7a7fd3",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1330,
        "y": 200,
        "wires": []
    },
    {
        "id": "fc56faf7.eaf068",
        "type": "join",
        "z": "b038d480.cffce8",
        "name": "",
        "mode": "auto",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 1170,
        "y": 240,
        "wires": [
            [
                "11c7cd56.7a7fd3",
                "377e1f75.2885f"
            ]
        ]
    },
    {
        "id": "377e1f75.2885f",
        "type": "change",
        "z": "b038d480.cffce8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1320,
        "y": 260,
        "wires": [
            [
                "11c7cd56.7a7fd3",
                "38a0845b.6f819c"
            ]
        ]
    },
    {
        "id": "60fdbb53.a62314",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM {{payload}};",
        "output": "str",
        "x": 1600,
        "y": 280,
        "wires": [
            [
                "d6c45d23.7ea53",
                "725853b1.83e87c"
            ]
        ]
    },
    {
        "id": "d6c45d23.7ea53",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 1640,
        "y": 380,
        "wires": []
    },
    {
        "id": "ebe48af0.ca2fc8",
        "type": "change",
        "z": "b038d480.cffce8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0].COUNT(*)",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1940,
        "y": 240,
        "wires": [
            [
                "f2ff86c8.af7538",
                "22368e59.8f9342"
            ]
        ]
    },
    {
        "id": "22368e59.8f9342",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 2030,
        "y": 180,
        "wires": []
    },
    {
        "id": "4bfef24d.4c7cac",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "MySQL cleanup flow",
        "info": "Create a flow that cleans up a database table\nThe purpose is to obtain a table that contains data over\na limited (tunable) period.\n\nBefore deleting the oldest data, you may generate a\ndatabase table containg aggregates.\n\nE.g. life data, dayly, weekly, monthly, yearly aggregates\nThe aggregator flow:\n\n- takes a database table as input\n- generate a database table with aggregates\n- yes/no deletes the data over the aggregated period\n- is suitable to be used in a chain, e.g. with\n- live, hourly, daily, weekly, monthly tables\n- aggregation periods to be defined\n- storage periods to be defined\n- aggregation types to be defined:\n-  e.g. min, max, sum, average etc\n\nGenerate a form-driven dashboard interface\n\nPractice on Plugwise data. Compare the results with those \nfrom the Plugwise app\n\nEnter Input table name  e.g. epower2\nChoose period     e.g. weekly, hourly\nOutput table name e.g. epower2_hourly\nChoose deletetion period\nSelect option yes / no delete\nDelete (only after aggregate update)",
        "x": 170,
        "y": 700,
        "wires": []
    },
    {
        "id": "44069dce.b76434",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 370,
        "y": 780,
        "wires": []
    },
    {
        "id": "72e3b6ce.15e198",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "Text Widget",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 390,
        "y": 660,
        "wires": [
            [
                "c8b6db4f.4295f8"
            ]
        ]
    },
    {
        "id": "dfa3410f.98b6f",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "INSERT INTO tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO tasks (task_name, input_table, input_field, agg_period, delete_, count_, max_, min_, sum_, average_, active_, last_input_id, next_run) VALUES ( '{{payload.task_name}}', '{{payload.input_table}}', '{{payload.input_field}}', '{{payload.agg_period}}', {{payload.delete_}}, {{payload.count_}}, {{payload.max_}}, {{payload.min_}}, {{payload.sum_}}, {{payload.average_}}, {{payload.active_}}, 0, null);",
        "output": "str",
        "x": 600,
        "y": 740,
        "wires": [
            [
                "bd74b13a.67ba9",
                "3ccccc2d.afec74"
            ]
        ]
    },
    {
        "id": "bd74b13a.67ba9",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 800,
        "y": 720,
        "wires": []
    },
    {
        "id": "a6ecaeac.e15b9",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1050,
        "y": 740,
        "wires": []
    },
    {
        "id": "9fc11170.2aa27",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "CREATE TABLE tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE IF NOT EXISTS tasks (task_id INT NOT NULL AUTO_INCREMENT, timestamp TIMESTAMP, task_name CHAR(30), input_table CHAR(10), input_field CHAR(10), agg_period CHAR(10), delete_ BOOLEAN, count_ BOOLEAN, max_ BOOLEAN, min_ BOOLEAN, sum_ BOOLEAN, average_ BOOLEAN, active_ BOOLEAN, last_input_id INT, next_run DATETIME, PRIMARY KEY (task_id));",
        "output": "str",
        "x": 520,
        "y": 840,
        "wires": [
            [
                "47b2a5e7.e681bc"
            ]
        ]
    },
    {
        "id": "63d4f2b6.6632fc",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 840,
        "wires": []
    },
    {
        "id": "bc50879a.19e2c8",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 330,
        "y": 840,
        "wires": [
            [
                "9fc11170.2aa27"
            ]
        ]
    },
    {
        "id": "fe3d4b27.0e35c8",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 320,
        "y": 900,
        "wires": [
            [
                "f6faa785.f835d8"
            ]
        ]
    },
    {
        "id": "f6faa785.f835d8",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "SHOW tables",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SHOW tables",
        "output": "str",
        "x": 500,
        "y": 900,
        "wires": [
            [
                "548c9d3c.cc1c24"
            ]
        ]
    },
    {
        "id": "7709d82f.e6e5b8",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1050,
        "y": 900,
        "wires": []
    },
    {
        "id": "4dedfb9b.ffd364",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 320,
        "y": 960,
        "wires": [
            [
                "d331ddf3.161a2"
            ]
        ]
    },
    {
        "id": "d331ddf3.161a2",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "DROP TABLE tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE `tasks`",
        "output": "str",
        "x": 520,
        "y": 960,
        "wires": [
            [
                "2e69bf45.6b7f3"
            ]
        ]
    },
    {
        "id": "2c711443.dd5b2c",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 320,
        "y": 1020,
        "wires": [
            [
                "20b10764.c69d48"
            ]
        ]
    },
    {
        "id": "20b10764.c69d48",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "COUNT rows from table tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM tasks;",
        "output": "str",
        "x": 550,
        "y": 1020,
        "wires": [
            [
                "74ba146.23f75ec"
            ]
        ]
    },
    {
        "id": "93414a2d.467c68",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1150,
        "y": 960,
        "wires": []
    },
    {
        "id": "1cfe3857.6bedf8",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].count(*)",
        "x": 1090,
        "y": 1020,
        "wires": []
    },
    {
        "id": "b368295b.aecec8",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 310,
        "y": 1080,
        "wires": [
            [
                "2449f2f8.703e9e"
            ]
        ]
    },
    {
        "id": "2449f2f8.703e9e",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "LIST tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tasks;",
        "output": "str",
        "x": 490,
        "y": 1080,
        "wires": [
            [
                "61b33e1c.bc151"
            ]
        ]
    },
    {
        "id": "1cdd8dbd.a2b552",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1050,
        "y": 1080,
        "wires": []
    },
    {
        "id": "9e3a6bc1.d0b2f8",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 960,
        "wires": [
            [
                "e66d5928.c0ba18"
            ]
        ]
    },
    {
        "id": "e66d5928.c0ba18",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1030,
        "y": 960,
        "wires": [
            [
                "93414a2d.467c68"
            ]
        ]
    },
    {
        "id": "770f7217.4068cc",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].COUNT(*)",
        "x": 1340,
        "y": 820,
        "wires": []
    },
    {
        "id": "6f4f5526.2b847c",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "TASK 1",
        "info": "{\"task_id\":1,\"timestamp\":\"2018-08-25T20:41:01.000Z\",\"input_table\":\"practice\",\"input_field\":\"power\",\"agg_period\":\"weekly\",\"delete_\":0,\"max_\":1,\"min_\":0,\"sum_\":1,\"average_\":0,\"last_input_id\":0,\"next_run\":null,\"active\":0}\n\nThis is record 1 in table tasks",
        "x": 470,
        "y": 1160,
        "wires": []
    },
    {
        "id": "81839f1d.608e",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "EXECUTE TASKS",
        "info": "first only task 1, later execute all tasks\nand not repeated\nterugwerkende kracht: start at last_input_id\nupdate last_input_id in the task to prevent redoing\nthe backlog in subsequent calls\n\nsub tasks: create table with correct name and fields\ndefined in the task (max and sum aggregates included)\n\n\nfor time based aggregation, see e.g.:\n\nhttps://www.plumisandmedia.net\n\nSQL reporting by calendar intervals",
        "x": 190,
        "y": 1260,
        "wires": []
    },
    {
        "id": "a9cdf8a6.b60d68",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 300,
        "y": 1320,
        "wires": [
            [
                "cafd142f.f58418"
            ]
        ]
    },
    {
        "id": "cafd142f.f58418",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "retrieve task 1",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM tasks WHERE task_id = 1;",
        "output": "str",
        "x": 480,
        "y": 1320,
        "wires": [
            [
                "d2424ed0.8d9ac",
                "9e534ea9.40d0f"
            ]
        ]
    },
    {
        "id": "d2424ed0.8d9ac",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 660,
        "y": 1260,
        "wires": []
    },
    {
        "id": "4a8452fd.1d2a9c",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 870,
        "y": 1260,
        "wires": []
    },
    {
        "id": "67d32b83.1c0bc4",
        "type": "change",
        "z": "b038d480.cffce8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "task",
                "pt": "msg",
                "to": "payload[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 1320,
        "wires": [
            [
                "d9ecce73.404dc",
                "325b6a7e.590f86"
            ]
        ]
    },
    {
        "id": "d9ecce73.404dc",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1050,
        "y": 1260,
        "wires": []
    },
    {
        "id": "325b6a7e.590f86",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "CREATE aggregate table (1)",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE IF NOT EXISTS {{task.input_table}}_{{task.input_field}}_{{task.agg_period}} (agg_id INT NOT NULL AUTO_INCREMENT, ",
        "output": "str",
        "x": 180,
        "y": 1380,
        "wires": [
            [
                "c21ba232.909df"
            ]
        ]
    },
    {
        "id": "507d5c77.b78e04",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1130,
        "y": 1480,
        "wires": []
    },
    {
        "id": "7608a7a3.1784e8",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 1937,
        "wires": [
            [
                "5fdbad77.deaec4"
            ]
        ]
    },
    {
        "id": "5fdbad77.deaec4",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "DROP TABLE practice_weekly",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE practice_power_weekly",
        "output": "str",
        "x": 470,
        "y": 1937,
        "wires": [
            [
                "67a29df2.0c2a54"
            ]
        ]
    },
    {
        "id": "49cbb4ca.5ccf7c",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 1997,
        "wires": [
            [
                "92498257.315c7"
            ]
        ]
    },
    {
        "id": "92498257.315c7",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "COUNT rows from table practice_power_weekly",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM practice_power_weekly;",
        "output": "str",
        "x": 520,
        "y": 1997,
        "wires": [
            [
                "f1879b5.ad41568"
            ]
        ]
    },
    {
        "id": "7ad8c5b8.62698c",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1070,
        "y": 1937,
        "wires": []
    },
    {
        "id": "b97fae8d.872e",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].count(*)",
        "x": 1010,
        "y": 1997,
        "wires": []
    },
    {
        "id": "275eac16.449be4",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 850,
        "y": 1937,
        "wires": [
            [
                "e0bc5363.2903f"
            ]
        ]
    },
    {
        "id": "e0bc5363.2903f",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 950,
        "y": 1937,
        "wires": [
            [
                "7ad8c5b8.62698c"
            ]
        ]
    },
    {
        "id": "75df0896.2a73a8",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 880,
        "y": 1440,
        "wires": []
    },
    {
        "id": "3d24027a.f255de",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "CREATE aggregate table (end)",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{topic}}PRIMARY KEY(agg_id));",
        "output": "str",
        "x": 170,
        "y": 1460,
        "wires": [
            [
                "75df0896.2a73a8",
                "a7986ce9.7575d"
            ]
        ]
    },
    {
        "id": "c21ba232.909df",
        "type": "function",
        "z": "b038d480.cffce8",
        "name": "add selected fields",
        "func": "//add fields to aggregate table, depending on the task\n//definition\n// hour, day, week, month, year depending on agg_period\nvar newtopic = msg.topic;\nvar period_field = \"\";\nnewtopic = newtopic+period_field;\nswitch (msg.task.agg_period) {\n  \n     case \"daily\":\n        newtopic = newtopic + \"date_ DATETIME, \";\n        break;\n        \n    case \"weekly\":\n        newtopic = newtopic + \"date_ DATETIME, \"; //first day of the week\n        break;\n\n\n}\n\n\n//max_, min_, sum_, average_ depending on boolean\nvar agg_field = \"\"\nif (msg.task.count_) {agg_field = agg_field + \"count_ FLOAT, \"}\nif (msg.task.max_) {agg_field = agg_field + \"max_ FLOAT, \"}\nif (msg.task.min_) {agg_field = agg_field + \"min_ FLOAT, \"}\nif (msg.task.sum_) {agg_field = agg_field + \"sum_ FLOAT, \"}\nif (msg.task.average_) {agg_field = agg_field + \"average_ FLOAT, \"}\n\nnewtopic = newtopic+ agg_field\n\nmsg.topic = newtopic;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 170,
        "y": 1420,
        "wires": [
            [
                "3d24027a.f255de"
            ]
        ]
    },
    {
        "id": "d8708665.c49f48",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "UNDER CONSTRUCTION (SEE INSIDE)",
        "info": "table is created.\nNow you have to calculate (SELECT from input_table) the aggregates and \nload them into (INSERT INTO output_table) the table",
        "x": 960,
        "y": 1580,
        "wires": []
    },
    {
        "id": "52ff9c72.2f2584",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 100,
        "y": 2080,
        "wires": [
            [
                "3bd45f7b.5c42f"
            ]
        ]
    },
    {
        "id": "3bd45f7b.5c42f",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "DROP TABLE practice_power_daily",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE practice_power_daily",
        "output": "str",
        "x": 360,
        "y": 2080,
        "wires": [
            [
                "1e86b94d.295e77"
            ]
        ]
    },
    {
        "id": "c3b0196f.8ec0d8",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 220,
        "y": 2137,
        "wires": [
            [
                "db914457.7a6558"
            ]
        ]
    },
    {
        "id": "db914457.7a6558",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "COUNT rows from table practice_power_daily",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select count(*) FROM practice_power_daily;",
        "output": "str",
        "x": 500,
        "y": 2137,
        "wires": [
            [
                "a0512087.5b5e4"
            ]
        ]
    },
    {
        "id": "190b84cb.a0178b",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1050,
        "y": 2077,
        "wires": []
    },
    {
        "id": "ca6db21b.b1cff",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].count(*)",
        "x": 990,
        "y": 2137,
        "wires": []
    },
    {
        "id": "df65641.4919998",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 830,
        "y": 2077,
        "wires": [
            [
                "c6971cfc.d8139"
            ]
        ]
    },
    {
        "id": "c6971cfc.d8139",
        "type": "json",
        "z": "b038d480.cffce8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 2077,
        "wires": [
            [
                "190b84cb.a0178b"
            ]
        ]
    },
    {
        "id": "1ecfc8d3.3eb9e7",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "create tasks / edit tasks",
        "info": "Create a flow that cleans up a database table\nThe purpose is to obtain a table that contains data over\na limited (tunable) period.\n\nBefore deleting the oldest data, you may generate a\ndatabase table containg aggregates.\n\nE.g. life data, dayly, weekly, monthly, yearly aggregates\nThe aggregator flow:\n\n- takes a database table as input\n- generate a database table with aggregates\n- yes/no deletes the data over the aggregated period\n- is suitable to be used in a chain, e.g. with\n- live, hourly, daily, weekly, monthly tables\n- aggregation periods to be defined\n- storage periods to be defined\n- aggregation types to be defined:\n-  e.g. min, max, sum, average etc\n\nGenerate a form-driven dashboard interface\n\nPractice on Plugwise data. Compare the results with those \nfrom the Plugwise app\n\nEnter Input table name  e.g. epower2\nChoose period     e.g. weekly, hourly\nOutput table name e.g. epower2_hourly\nChoose deletetion period\nSelect option yes / no delete\nDelete (only after aggregate update)",
        "x": 180,
        "y": 740,
        "wires": []
    },
    {
        "id": "61600274.995bec",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "retrieve original data and inject aggregates into output table (1)",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO practice_power_daily (date_, count_, max_, average_) SELECT DATE(timestamp) AS date_",
        "output": "str",
        "x": 310,
        "y": 1660,
        "wires": [
            [
                "210f6fbc.d8162",
                "55bab90f.779e48"
            ]
        ]
    },
    {
        "id": "210f6fbc.d8162",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 600,
        "y": 1580,
        "wires": []
    },
    {
        "id": "8b23ea59.609328",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "CREATE aggregate table (1)",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM {{task.input_table}}_{{task.input_field}}_{{task.agg_period}}; ",
        "output": "str",
        "x": 280,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "77cfcba5.5ae2e4",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1090,
        "y": 1660,
        "wires": []
    },
    {
        "id": "a50bc9df.a991b8",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "retrieve original data and inject aggregates into output table (end)",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{topic}} FROM {{task.input_table}} ",
        "output": "str",
        "x": 320,
        "y": 1760,
        "wires": [
            [
                "2de576bf.42c3ba"
            ]
        ]
    },
    {
        "id": "73a55b94.1014c4",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 680,
        "y": 1840,
        "wires": []
    },
    {
        "id": "2de576bf.42c3ba",
        "type": "function",
        "z": "b038d480.cffce8",
        "name": "add selected fields",
        "func": "var newtopic = msg.topic;\n\nswitch (msg.task.agg_period) {\n  \n     case \"daily\":\n        newtopic = newtopic + \" GROUP BY DATE(timestamp) ORDER BY DATE(timestamp)\";\n        break;\n        \n    case \"weekly\":\n        newtopic = newtopic + \" GROUP BY <to be defined>\";\n        break;\n\n\n}\n\n\nmsg.topic = newtopic;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 690,
        "y": 1760,
        "wires": [
            [
                "ec00f9f6.e1b418",
                "73a55b94.1014c4"
            ]
        ]
    },
    {
        "id": "55bab90f.779e48",
        "type": "function",
        "z": "b038d480.cffce8",
        "name": "add selected fields",
        "func": "\n//max_, min_, sum_, average_ depending on boolean\n// replace power by the variable name containing the value \"power\"\nvar agg_field = \"\"\nif (msg.task.count_) {agg_field = agg_field + \", COUNT(*)\"}\nif (msg.task.max_) {agg_field = agg_field + \" , MAX(power)\"}\nif (msg.task.min_) {agg_field = agg_field + \" , MIN(power)\"}\nif (msg.task.sum_) {agg_field = agg_field + \" , SUM(power)\"}\nif (msg.task.average_) {agg_field = agg_field + \" , AVG(power)\"}\n\nvar newtopic = msg.topic + agg_field;\n\nmsg.topic = newtopic;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 190,
        "y": 1700,
        "wires": [
            [
                "a50bc9df.a991b8"
            ]
        ]
    },
    {
        "id": "37129223.f93b6e",
        "type": "inject",
        "z": "b038d480.cffce8",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 2240,
        "wires": [
            [
                "fee71d3e.3f12d"
            ]
        ]
    },
    {
        "id": "fee71d3e.3f12d",
        "type": "template",
        "z": "b038d480.cffce8",
        "name": "LIST rows from table practice_power_daily",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "select * FROM practice_power_daily;",
        "output": "str",
        "x": 430,
        "y": 2240,
        "wires": [
            [
                "aad8982.9c10c68"
            ]
        ]
    },
    {
        "id": "953eab19.06c4c8",
        "type": "debug",
        "z": "b038d480.cffce8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 890,
        "y": 2240,
        "wires": []
    },
    {
        "id": "3b09a362.e164ac",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "TODO",
        "info": "- replace name of target file by varable names defined in the task\n- - keep track of the records that have been aggregated. Store this into the task (next or so)\n- - when you execute the task for the second time, it should NOT handle the older records\n- - achive this by e.g. using WHERE ..._id > next",
        "x": 370,
        "y": 1620,
        "wires": []
    },
    {
        "id": "95b993db.135cf",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "TODO",
        "info": "replace name of target field (power) by varable name defined in the task (input_field)",
        "x": 350,
        "y": 1700,
        "wires": []
    },
    {
        "id": "43b49dca.9803c4",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "TODO",
        "info": "Add into the query:\n\nexpressions for grouping by hourly, weekly , monthly etc",
        "x": 850,
        "y": 1760,
        "wires": []
    },
    {
        "id": "b0d9ee07.4604b",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "first attempt",
        "info": "",
        "x": 470,
        "y": 1520,
        "wires": []
    },
    {
        "id": "f796132b.9f7a5",
        "type": "comment",
        "z": "b038d480.cffce8",
        "name": "TODO",
        "info": "- replace name of target file by varable names defined in the task\n- dropdown box for period (weekly, daily, hourly)\n- allow to add, edit, remove actions via the form\n- both previous tasks probably require designing your own form",
        "x": 130,
        "y": 820,
        "wires": []
    },
    {
        "id": "675c6b38.10dc64",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "New",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 200,
        "wires": [
            [
                "a4067da1.ecabd"
            ]
        ]
    },
    {
        "id": "629e2027.53f2",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "Open",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 260,
        "wires": [
            [
                "73d7bf05.4278f"
            ]
        ]
    },
    {
        "id": "d28407d0.cd8678",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "Save",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 320,
        "wires": [
            [
                "8ed30e9d.283a5"
            ]
        ]
    },
    {
        "id": "e7ce8308.b2f08",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "Cancel",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 110,
        "y": 380,
        "wires": [
            [
                "e5232b9e.998968"
            ]
        ]
    },
    {
        "id": "ac47e289.c74ae",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "NEW",
        "info": "\n\nNew: create new record in task table and set choices to default values\n\nget last_insert to have id of this new record_under_edit",
        "x": 150,
        "y": 860,
        "wires": []
    },
    {
        "id": "15b6d4ef.58e11b",
        "type": "function",
        "z": "6a0af44a.005f6c",
        "name": "Load defaults",
        "func": "msg.payload = {};\nmsg.payload.input_table = \"\";\nmsg.payload.input_field = \"\";\nmsg.payload.agg_period = \"weekly\";\nmsg.payload.delete_ = true;\nmsg.payload.count_ = true;\nmsg.payload.max_ = true;\nmsg.payload.min_ = true;\nmsg.payload.sum_ = true;\nmsg.payload.average_ = true;\nmsg.payload.active_ = true;\nmsg.payload.last_input_id = 0;\nmsg.payload.task_name = \"new_task\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 180,
        "y": 897,
        "wires": [
            [
                "c577e8bd.706a38",
                "dbd2280b.741e98",
                "efe9b961.b1a278",
                "ea44485d.a52028"
            ]
        ]
    },
    {
        "id": "c577e8bd.706a38",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 330,
        "y": 820,
        "wires": []
    },
    {
        "id": "b8641e12.4c51d",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "input_table",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 807,
        "y": 121,
        "wires": [
            [
                "e75e287d.b2dec8"
            ],
            [
                "810415ed.d1cd18"
            ]
        ]
    },
    {
        "id": "32b8a975.c7df26",
        "type": "split",
        "z": "6a0af44a.005f6c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 670,
        "y": 120,
        "wires": [
            [
                "b8641e12.4c51d"
            ]
        ]
    },
    {
        "id": "810415ed.d1cd18",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "input_field",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 807,
        "y": 161,
        "wires": [
            [
                "1fd95381.c2a92c"
            ],
            [
                "adf27b40.584508"
            ]
        ]
    },
    {
        "id": "adf27b40.584508",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "agg_period",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 807,
        "y": 201,
        "wires": [
            [
                "b3e52c6b.bceb8"
            ],
            [
                "c1d0ed17.5ff1e"
            ]
        ]
    },
    {
        "id": "c1d0ed17.5ff1e",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "active_",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 807,
        "y": 241,
        "wires": [
            [
                "6f0edf8e.3586c"
            ],
            [
                "26de62cf.88d9ee"
            ]
        ]
    },
    {
        "id": "26de62cf.88d9ee",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "average_",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 807,
        "y": 281,
        "wires": [
            [
                "5d629dee.69cf54"
            ],
            [
                "7257d465.bbe03c"
            ]
        ]
    },
    {
        "id": "7257d465.bbe03c",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "sum_",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 807,
        "y": 321,
        "wires": [
            [
                "643b6d75.0e8f84"
            ],
            [
                "bb48dd65.e3db"
            ]
        ]
    },
    {
        "id": "bb48dd65.e3db",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "count_",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 807,
        "y": 361,
        "wires": [
            [
                "7e7586d.492ac78"
            ],
            [
                "ddc61c51.f1eaf"
            ]
        ]
    },
    {
        "id": "93efb7f.8c82648",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "INIT",
        "info": "Select a record_id (pref from a drop down table)\nShow the record contents on the dashboard elements, \npreferably when hovering over it. It helps to identify the right record.\nKeep the record number for later save operation\nCopy the contents into a freshly created record\nGet the last_insert_id for the later save operation\nEdit with the dashboard\nWhen save is clicked:\ncopy contents of the record with last_insert_id into the record with record_id\ndelete the record with last_insert_id\n\n\nNew: create new record in task table and set choices to default values\n\nget last_insert to have id of this new record_under_edit",
        "x": 150,
        "y": 1097,
        "wires": []
    },
    {
        "id": "620419a9.7f8a38",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "SAVE",
        "info": "\nEdit with the dashboard\nWhen save is clicked:\ncopy contents of the record with last_insert_id into the record with record_id\ndelete the record with last_insert_id\n\n",
        "x": 170,
        "y": 1540,
        "wires": []
    },
    {
        "id": "3cb111ac.cd0f9e",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "CANCEL",
        "info": "Delete the record with last_insert_id\n\n",
        "x": 160,
        "y": 1783,
        "wires": []
    },
    {
        "id": "a217fb68.378288",
        "type": "delay",
        "z": "6a0af44a.005f6c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 160,
        "y": 1160,
        "wires": [
            [
                "a99bbf14.e8928",
                "8f306d9b.c89c6"
            ]
        ]
    },
    {
        "id": "dbe65cf9.59179",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "LIST tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT *  FROM tasks;",
        "output": "str",
        "x": 530,
        "y": 1220,
        "wires": [
            [
                "26bf7462.cd95fc"
            ]
        ]
    },
    {
        "id": "67a7bc4c.d01084",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "UNDER CONSTRUCTION",
        "info": "Must generate Label value pairs from input payload\nAnd put it into options",
        "x": 690,
        "y": 1120,
        "wires": []
    },
    {
        "id": "ccff9b62.6c59a8",
        "type": "split",
        "z": "6a0af44a.005f6c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 623,
        "y": 1305,
        "wires": [
            [
                "3c5c1b9c.fb7864"
            ]
        ]
    },
    {
        "id": "1cbfdf47.93b091",
        "type": "join",
        "z": "6a0af44a.005f6c",
        "name": "",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 683,
        "y": 1385,
        "wires": [
            [
                "54985ff1.4af43"
            ]
        ]
    },
    {
        "id": "54985ff1.4af43",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "null",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 733,
        "y": 1425,
        "wires": [
            [
                "291f3a.19a560c6"
            ]
        ]
    },
    {
        "id": "3c5c1b9c.fb7864",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{ \"{{payload.task_id}}: {{payload.task_name}} {{payload.input_table}} {{payload.input_field}}\" : {{payload.task_id}} }",
        "output": "json",
        "x": 673,
        "y": 1345,
        "wires": [
            [
                "1cbfdf47.93b091"
            ]
        ]
    },
    {
        "id": "3b2c8061.4b2ed",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "UNDER CONSTRUCTION Population of dropdown options is not easy",
        "info": "also see the example in flow MySQL admin",
        "x": 1050,
        "y": 1240,
        "wires": []
    },
    {
        "id": "b30645a6.73d408",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "New out",
        "links": [
            "729631e.37a2ed"
        ],
        "x": 375,
        "y": 200,
        "wires": []
    },
    {
        "id": "729631e.37a2ed",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "New in",
        "links": [
            "b30645a6.73d408"
        ],
        "x": 55,
        "y": 897,
        "wires": [
            [
                "15b6d4ef.58e11b"
            ]
        ]
    },
    {
        "id": "d79ff0fd.da54b",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Init in",
        "links": [
            "6fd3648e.fef3ac"
        ],
        "x": 55,
        "y": 1160,
        "wires": [
            [
                "a217fb68.378288"
            ]
        ]
    },
    {
        "id": "29f716aa.3a6eea",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Open out",
        "links": [
            "dc74082b.f14fe8"
        ],
        "x": 375,
        "y": 260,
        "wires": []
    },
    {
        "id": "3c001ed2.f63422",
        "type": "function",
        "z": "6a0af44a.005f6c",
        "name": "Retrieve parameter values",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1360,
        "y": 1620,
        "wires": [
            [
                "b13449e7.256e68",
                "db37d86e.f1c928"
            ]
        ]
    },
    {
        "id": "2b1c3e3.6f456c2",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "retrieve selected task",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT *  FROM tasks WHERE task_id = {{payload}};",
        "output": "str",
        "x": 1380,
        "y": 1540,
        "wires": [
            [
                "d9603fdc.1a409"
            ]
        ]
    },
    {
        "id": "ab863057.76fce",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "SEND payload to dashboard elements",
        "info": "",
        "x": 290,
        "y": 977,
        "wires": []
    },
    {
        "id": "dbd2280b.741e98",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Send task values to dashboard out",
        "links": [
            "8486e760.317998"
        ],
        "x": 455,
        "y": 900,
        "wires": []
    },
    {
        "id": "8486e760.317998",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Send task values to dashboard in",
        "links": [
            "dbd2280b.741e98",
            "b13449e7.256e68"
        ],
        "x": 575,
        "y": 120,
        "wires": [
            [
                "32b8a975.c7df26"
            ]
        ]
    },
    {
        "id": "b13449e7.256e68",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Send task values to dashboard out",
        "links": [
            "8486e760.317998"
        ],
        "x": 1575,
        "y": 1620,
        "wires": []
    },
    {
        "id": "ddc61c51.f1eaf",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "task_name",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 400,
        "wires": [
            [
                "aface83f.c88318"
            ],
            [
                "32ef25fa.b1460a"
            ]
        ]
    },
    {
        "id": "32ef25fa.b1460a",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "task_id",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 440,
        "wires": [
            [
                "56028f2.7bd717"
            ],
            []
        ]
    },
    {
        "id": "be3b6912.11f798",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "Send values to dashboard elements",
        "info": "",
        "x": 1388,
        "y": 1658,
        "wires": []
    },
    {
        "id": "9b04ff8f.44a04",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "Delete",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 440,
        "wires": [
            [
                "6040e2b6.72ad1c"
            ]
        ]
    },
    {
        "id": "72ce396e.b6a2a8",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "DELETE",
        "info": "Delete a selected \n\n",
        "x": 140,
        "y": 1680,
        "wires": []
    },
    {
        "id": "9d74ae81.b3be5",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "Init",
        "topic": "Init",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "x": 110,
        "y": 100,
        "wires": [
            [
                "f10a0a40.637458"
            ]
        ]
    },
    {
        "id": "6fd3648e.fef3ac",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Init out",
        "links": [
            "d79ff0fd.da54b"
        ],
        "x": 375,
        "y": 20,
        "wires": []
    },
    {
        "id": "dc74082b.f14fe8",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Open in",
        "links": [
            "29f716aa.3a6eea"
        ],
        "x": 55,
        "y": 1460,
        "wires": [
            [
                "291f3a.19a560c6",
                "f73ae36b.c50eb",
                "e0a66c41.ee39"
            ]
        ]
    },
    {
        "id": "effdb0fa.05519",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "OPEN",
        "info": "Select a record_id (pref from a drop down table)\nShow the record contents on the dashboard elements, \npreferably when hovering over it. It helps to identify the right record.\nKeep the record number for later save operation\nCopy the contents into a freshly created record\nGet the last_insert_id for the later save operation\nEdit with the dashboard\nWhen save is clicked:\ncopy contents of the record with last_insert_id into the record with record_id\ndelete the record with last_insert_id\n\n\nNew: create new record in task table and set choices to default values\n\nget last_insert to have id of this new record_under_edit",
        "x": 130,
        "y": 1420,
        "wires": []
    },
    {
        "id": "a99bbf14.e8928",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "USE DB example",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "USE example;\n",
        "output": "str",
        "x": 250,
        "y": 1220,
        "wires": [
            [
                "c3f5f248.64a62"
            ]
        ]
    },
    {
        "id": "1fbc8f3f.f14761",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "DISABLE",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1420,
        "y": 1260,
        "wires": []
    },
    {
        "id": "221f5423.a42c0c",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Cancel in",
        "links": [
            "f004a01f.69aa4"
        ],
        "x": 75,
        "y": 1840,
        "wires": [
            [
                "4ec87ca4.249c34"
            ]
        ]
    },
    {
        "id": "f004a01f.69aa4",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Cancel out",
        "links": [
            "221f5423.a42c0c"
        ],
        "x": 375,
        "y": 380,
        "wires": []
    },
    {
        "id": "4d64bb1.7049144",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\"group\":{\"{{payload}}\":[\"MyForm_task_list_dropdown\"], \"focus\":true}}",
        "output": "json",
        "x": 700,
        "y": 2020,
        "wires": [
            [
                "69b7db6f.3704d4",
                "56fd35ec.aedcbc"
            ]
        ]
    },
    {
        "id": "b66609ec.165dc8",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 420,
        "y": 2020,
        "wires": [
            [
                "213507e6.af8bf8"
            ]
        ]
    },
    {
        "id": "69b7db6f.3704d4",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "HIDE 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 840,
        "y": 2080,
        "wires": []
    },
    {
        "id": "e3e3b756.6cddb8",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\"group\":{\"{{payload}}\":[\"MyForm_task_list_dropdown\"], \"focus\":true}}",
        "output": "json",
        "x": 700,
        "y": 1980,
        "wires": [
            [
                "f86a425.ebd2cc"
            ]
        ]
    },
    {
        "id": "1541c8be.8479a7",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 420,
        "y": 1980,
        "wires": [
            [
                "fab053e6.2f2c1"
            ]
        ]
    },
    {
        "id": "5da6c722.0f7708",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "CREATE TABLE tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE IF NOT EXISTS tasks (task_id INT NOT NULL AUTO_INCREMENT, timestamp TIMESTAMP, task_name CHAR(30), input_table CHAR(10), input_field CHAR(10), agg_period CHAR(10), delete_ BOOLEAN, count_ BOOLEAN, max_ BOOLEAN, min_ BOOLEAN, sum_ BOOLEAN, average_ BOOLEAN, active_ BOOLEAN, last_input_id INT, next_run DATETIME, PRIMARY KEY (task_id));",
        "output": "str",
        "x": 360,
        "y": 1300,
        "wires": [
            [
                "3916c6fd.2c54da"
            ]
        ]
    },
    {
        "id": "fd3aeec5.9848b",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Save out",
        "links": [
            "6d0dd06e.4afd1"
        ],
        "x": 375,
        "y": 320,
        "wires": []
    },
    {
        "id": "efe9b961.b1a278",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "INSERT INTO tasks",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO tasks (input_table, input_field, task_name, agg_period, delete_, count_, max_, min_, sum_, average_, active_, last_input_id) VALUES ( '{{payload.input_table}}', '{{payload.input_field}}', '{{payload.task_name}}' ,'{{payload.agg_period}}', {{payload.delete_}}, {{payload.count_}}, {{payload.max_}}, {{payload.min_}}, {{payload.sum_}}, {{payload.average_}}, {{payload.active_}}, {{payload.last_input_id}});",
        "output": "str",
        "x": 600,
        "y": 960,
        "wires": [
            [
                "96b9de91.621f8",
                "efa02402.778168",
                "cdfda1dc.146ab"
            ]
        ]
    },
    {
        "id": "96b9de91.621f8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "topic",
        "x": 660,
        "y": 840,
        "wires": []
    },
    {
        "id": "43c42939.9d7928",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 930,
        "y": 897,
        "wires": []
    },
    {
        "id": "e84c2cad.1174d",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "GET last_insert_id",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT LAST_INSERT_ID();",
        "output": "str",
        "x": 910,
        "y": 937,
        "wires": [
            [
                "d33f749d.fcbcc8"
            ]
        ]
    },
    {
        "id": "b0f8696a.8a3ab8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "LAST INSERT ID",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1430,
        "y": 960,
        "wires": []
    },
    {
        "id": "cdfda1dc.146ab",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "NEW response",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 580,
        "y": 1020,
        "wires": []
    },
    {
        "id": "f04c9ca4.2931c",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "UI control",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1020,
        "y": 2080,
        "wires": []
    },
    {
        "id": "6f766f23.bf65f",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "ACTION BUTTONS",
        "info": "",
        "x": 250,
        "y": 40,
        "wires": []
    },
    {
        "id": "f1542b15.f0a778",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "DATA INPUT/OUTPUT",
        "info": "",
        "x": 880,
        "y": 40,
        "wires": []
    },
    {
        "id": "407aeaaf.099fb4",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "Delete",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 500,
        "wires": [
            [
                "f2ee39af.399d88"
            ]
        ]
    },
    {
        "id": "6007d0e9.de4a9",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Delete out",
        "links": [
            "259debb8.708eb4"
        ],
        "x": 375,
        "y": 440,
        "wires": []
    },
    {
        "id": "26467b8c.a42d54",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Execute out",
        "links": [
            "52db9fe4.a60b8"
        ],
        "x": 375,
        "y": 500,
        "wires": []
    },
    {
        "id": "259debb8.708eb4",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Delete in",
        "links": [
            "6007d0e9.de4a9"
        ],
        "x": 75,
        "y": 1740,
        "wires": [
            [
                "4efd1442.4b4e7c"
            ]
        ]
    },
    {
        "id": "27e63852.766238",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "EXECUTE",
        "info": "Delete the record with last_insert_id\n\n",
        "x": 160,
        "y": 1900,
        "wires": []
    },
    {
        "id": "52db9fe4.a60b8",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Execute in",
        "links": [
            "26467b8c.a42d54"
        ],
        "x": 75,
        "y": 1980,
        "wires": [
            [
                "570316ac.841098"
            ]
        ]
    },
    {
        "id": "1b4a26da.7a34e9",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "plain",
        "template": "{\"group\":{\"hide\":[\"MyForm_DEBUG\"], \"focus\":true}}",
        "output": "json",
        "x": 460,
        "y": 120,
        "wires": [
            [
                "4874e4fd.0b63bc"
            ]
        ]
    },
    {
        "id": "e1957b66.093868",
        "type": "template",
        "z": "6a0af44a.005f6c",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "plain",
        "template": "{\"group\":{\"show\":[\"MyForm_DEBUG\"], \"focus\":true}}",
        "output": "json",
        "x": 460,
        "y": 160,
        "wires": [
            [
                "4874e4fd.0b63bc"
            ]
        ]
    },
    {
        "id": "7285ead4.f20b84",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 160,
        "wires": [
            [
                "1b4a26da.7a34e9"
            ],
            [
                "e1957b66.093868"
            ]
        ]
    },
    {
        "id": "f6df70a9.f12a8",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 470,
        "y": 40,
        "wires": [
            [
                "44fa5eb.4a8caa"
            ]
        ]
    },
    {
        "id": "c7c2e589.647688",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 600,
        "y": 320,
        "wires": []
    },
    {
        "id": "2aaf433d.f36b6c",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "DROPDOWN OUTPUT",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 970,
        "y": 1400,
        "wires": []
    },
    {
        "id": "665fdc15.3e6954",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 470,
        "y": 80,
        "wires": [
            [
                "44fa5eb.4a8caa"
            ]
        ]
    },
    {
        "id": "8f306d9b.c89c6",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "SET CONTEXT VARIABLES",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "IDLE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "selected_id",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "buffer_id",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 1160,
        "wires": [
            [
                "a8acce01.57453",
                "50d93772.c15f58",
                "e2019f2b.68389"
            ]
        ]
    },
    {
        "id": "40f3d3d0.fb9fac",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "SHOW/HIDE dropdown list from dashboard",
        "info": "\n\n",
        "x": 640,
        "y": 1920,
        "wires": []
    },
    {
        "id": "969dd839.785678",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "Edit Buffer procedure",
        "info": "store id in selected_id\nshow selected_id on screen\n\ncopy selected_item to buffer\nset buffer_id to new item number\n<edit> buffer content displaying changes on dashboard\n\n\n",
        "x": 240,
        "y": 2180,
        "wires": []
    },
    {
        "id": "ea7652e1.803ad",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Edit Buffer in",
        "links": [
            "f1a9b83b.591568"
        ],
        "x": 75,
        "y": 2240,
        "wires": [
            []
        ]
    },
    {
        "id": "f1a9b83b.591568",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Edit Buffer out",
        "links": [
            "ea7652e1.803ad"
        ],
        "x": 1295,
        "y": 900,
        "wires": []
    },
    {
        "id": "65180abe.0972a4",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "SET selected_id CONTEXT VARIABLE",
        "rules": [
            {
                "t": "set",
                "p": "selected_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 1460,
        "wires": [
            [
                "2b1c3e3.6f456c2",
                "a8acce01.57453"
            ]
        ]
    },
    {
        "id": "a8acce01.57453",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "retrieve selected_id CONTEXT VARIABLE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "selected_id",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 1460,
        "wires": [
            [
                "f282c33.2fc2d4"
            ]
        ]
    },
    {
        "id": "50d93772.c15f58",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "retrieve buffer_id CONTEXT VARIABLE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "buffer_id",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 1360,
        "wires": [
            [
                "f405daba.4cc998"
            ]
        ]
    },
    {
        "id": "8baeedf8.e88c1",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0].LAST_INSERT_ID()",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 960,
        "wires": [
            [
                "f1a9b83b.591568",
                "b0f8696a.8a3ab8",
                "65180abe.0972a4"
            ]
        ]
    },
    {
        "id": "1483c0f3.9192ff",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Control Cancel Button out",
        "links": [
            "78b1c15.15d004"
        ],
        "x": 595,
        "y": 520,
        "wires": [
            [
                "e5232b9e.998968"
            ]
        ]
    },
    {
        "id": "208bbf4d.e1b1a",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "Enable",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 970,
        "y": 520,
        "wires": [
            [
                "f3473949.fea6e8"
            ]
        ]
    },
    {
        "id": "78b1c15.15d004",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Control Cancel Button in",
        "links": [
            "1483c0f3.9192ff"
        ],
        "x": 1355,
        "y": 520,
        "wires": []
    },
    {
        "id": "64220af6.828914",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "Disable",
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 970,
        "y": 560,
        "wires": [
            [
                "f3473949.fea6e8"
            ]
        ]
    },
    {
        "id": "f3473949.fea6e8",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 520,
        "wires": [
            [
                "78b1c15.15d004"
            ]
        ]
    },
    {
        "id": "f73ae36b.c50eb",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "show",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "show",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 1780,
        "wires": [
            [
                "e3e3b756.6cddb8"
            ]
        ]
    },
    {
        "id": "db37d86e.f1c928",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "hide",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "hide",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 1800,
        "wires": [
            [
                "4d64bb1.7049144"
            ]
        ]
    },
    {
        "id": "5de79507.ba820c",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "SHOW/HIDE GROUPS DEFINITION",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"groups\":{\"Mode1\":{\"group\":{\"show\":[\"Element1\",\"Element4\"],\"hide\":[\"Element2\",\"Element3\"]}},\"IDLE\":{\"group\":{\"show\":[\"New\",\"Open\",\"Execute\"],\"hide\":[\"Save\",\"Cancel\",\"Delete\"]}},\"Other\":{\"group\":{\"show\":[],\"hide\":[]}}}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 2300,
        "wires": [
            [
                "2ece4b39.05acd4",
                "52750290.2a8ccc"
            ]
        ]
    },
    {
        "id": "1a622b4c.91e025",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "SET MODE to Mode1",
        "topic": "",
        "payload": "Mode1",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 2300,
        "wires": [
            [
                "827b3787.fae648"
            ]
        ]
    },
    {
        "id": "2ece4b39.05acd4",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "SHOW/HIDE GROUPS DEFINITION",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1030,
        "y": 2300,
        "wires": []
    },
    {
        "id": "52750290.2a8ccc",
        "type": "function",
        "z": "6a0af44a.005f6c",
        "name": "GROUP SELECTOR",
        "func": "var myMode = flow.get(\"mode\");\nswitch (myMode) {\n            case \"IDLE\":  msg.payload = msg.payload.groups.IDLE;\n                     break;\n            case \"Mode1\":  msg.payload = msg.payload.groups.Mode1;\n                     break;\n            default : msg.payload = msg.payload.groups.Other;\n                     break;\n}           \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 680,
        "y": 2360,
        "wires": [
            [
                "e704c483.a49ca8",
                "93734b24.820e18"
            ]
        ]
    },
    {
        "id": "e704c483.a49ca8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "GROUP SELECTOR 5",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 900,
        "y": 2420,
        "wires": []
    },
    {
        "id": "d22dbf74.4696d",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "HIDE/SHOW GROUPS DATA STRUCTURE",
        "info": "",
        "x": 710,
        "y": 2220,
        "wires": []
    },
    {
        "id": "827b3787.fae648",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "21c74b23.b62164",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "SET MODE to IDLE",
        "topic": "",
        "payload": "IDLE",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 2340,
        "wires": [
            [
                "827b3787.fae648"
            ]
        ]
    },
    {
        "id": "8685b5af.c316b8",
        "type": "inject",
        "z": "6a0af44a.005f6c",
        "name": "SET MODE to Other",
        "topic": "",
        "payload": "Other",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 2400,
        "wires": [
            [
                "827b3787.fae648"
            ]
        ]
    },
    {
        "id": "f4fc1897.a75be8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2440,
        "wires": []
    },
    {
        "id": "e24ac51d.bc1ba8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2480,
        "wires": []
    },
    {
        "id": "ab153276.888c",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2520,
        "wires": []
    },
    {
        "id": "2d4eb827.ceb758",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2720,
        "wires": []
    },
    {
        "id": "a6c4f669.20e4a8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2560,
        "wires": []
    },
    {
        "id": "d74a32bf.0ac6c",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2600,
        "wires": []
    },
    {
        "id": "fbd7404e.b3a84",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2640,
        "wires": []
    },
    {
        "id": "9d2c2ef3.4de42",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ELEMENT7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1590,
        "y": 2680,
        "wires": []
    },
    {
        "id": "713efbe6.910e54",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "ENABLE/DISABLE GROUPS DEFINITION",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"groups\":{\"New\":{\"group\":{\"enable\":[\"Element1\",\"Element4\"],\"disable\":[\"Element2\",\"Element3\"]}},\"IDLE\":{\"group\":{\"enable\":[\"New\",\"Open\",\"Execute\"],\"disable\":[\"Save\",\"Cancel\",\"Delete\"]}},\"NEW\":{\"group\":{\"enable\":[\"Save\",\"Cancel\",\"Delete\"],\"disable\":[\"New\",\"Open\",\"Execute\"]}},\"OPEN\":{\"group\":{\"enable\":[\"Save\",\"Cancel\",\"Delete\"],\"disable\":[\"New\",\"Open\",\"Execute\"]}},\"Other\":{\"group\":{\"enable\":[],\"disable\":[]}}}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 2500,
        "wires": [
            [
                "12da3f77.da20a1",
                "dffb2464.b654d8"
            ]
        ]
    },
    {
        "id": "12da3f77.da20a1",
        "type": "function",
        "z": "6a0af44a.005f6c",
        "name": "GROUP SELECTOR",
        "func": "var myMode = flow.get(\"mode\");\nswitch (myMode) {\n            case \"IDLE\":  msg.payload = msg.payload.groups.IDLE;\n                     break;\n            case \"NEW\":  msg.payload = msg.payload.groups.NEW;\n                     break;\n            case \"OPEN\":  msg.payload = msg.payload.groups.OPEN;\n                     break;\n\n                     \n            case \"Mode1\":  msg.payload = msg.payload.groups.Mode1;\n                     break;\n            default : msg.payload = msg.payload.groups.Other;\n                     break;\n}           \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 580,
        "y": 2540,
        "wires": [
            [
                "15874cd9.94d273",
                "2bd71d5e.c2e922"
            ]
        ]
    },
    {
        "id": "15874cd9.94d273",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "GROUP SELECTOR 6",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 740,
        "y": 2640,
        "wires": []
    },
    {
        "id": "2bd71d5e.c2e922",
        "type": "split",
        "z": "6a0af44a.005f6c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 790,
        "y": 2540,
        "wires": [
            [
                "3be250b4.7e372",
                "3dffebc9.8aacf4"
            ]
        ]
    },
    {
        "id": "3dffebc9.8aacf4",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ACTIONS 1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 970,
        "y": 2540,
        "wires": []
    },
    {
        "id": "3be250b4.7e372",
        "type": "split",
        "z": "6a0af44a.005f6c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 830,
        "y": 2580,
        "wires": [
            [
                "5a1f0454.e1304c",
                "9e6d22fd.c9e74"
            ]
        ]
    },
    {
        "id": "5a1f0454.e1304c",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ACTIONS 2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 970,
        "y": 2580,
        "wires": []
    },
    {
        "id": "9e6d22fd.c9e74",
        "type": "split",
        "z": "6a0af44a.005f6c",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 930,
        "y": 2620,
        "wires": [
            [
                "94858dd6.f6a1e",
                "bbd0087a.d311b8"
            ]
        ]
    },
    {
        "id": "94858dd6.f6a1e",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ACTIONS 3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1010,
        "y": 2660,
        "wires": []
    },
    {
        "id": "bbd0087a.d311b8",
        "type": "function",
        "z": "6a0af44a.005f6c",
        "name": "Convert for dashboard buttons",
        "func": "msg.enabled = msg.topic == \"enable\";\nmsg.topic = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1080,
        "y": 2720,
        "wires": [
            [
                "d82e4365.d86d8",
                "4c224b5c.4ae4f4",
                "8a2f1317.32c2c",
                "1df023bd.40d7bc",
                "ec6034a9.4f81f8",
                "458bbae4.113e04",
                "65258df3.5f17a4",
                "d87f4b87.9e4f88",
                "4b80359.c4073cc",
                "594b6412.3a550c",
                "431f1fee.fd8ac",
                "25052683.794fda",
                "a22bcdc2.a48d8",
                "52e05e1a.fc4a8",
                "500cee3b.9f3d9"
            ]
        ]
    },
    {
        "id": "d82e4365.d86d8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ACTIONS 4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1090,
        "y": 2880,
        "wires": []
    },
    {
        "id": "4c224b5c.4ae4f4",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2440,
        "wires": [
            [
                "f4fc1897.a75be8"
            ]
        ]
    },
    {
        "id": "8a2f1317.32c2c",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element2",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2480,
        "wires": [
            [
                "e24ac51d.bc1ba8"
            ]
        ]
    },
    {
        "id": "1df023bd.40d7bc",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element3",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2520,
        "wires": [
            [
                "ab153276.888c"
            ]
        ]
    },
    {
        "id": "ec6034a9.4f81f8",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element4",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2560,
        "wires": [
            [
                "a6c4f669.20e4a8"
            ]
        ]
    },
    {
        "id": "458bbae4.113e04",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element5",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2600,
        "wires": [
            [
                "d74a32bf.0ac6c"
            ]
        ]
    },
    {
        "id": "65258df3.5f17a4",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element6",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2640,
        "wires": [
            [
                "fbd7404e.b3a84"
            ]
        ]
    },
    {
        "id": "d87f4b87.9e4f88",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element7",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2680,
        "wires": [
            [
                "9d2c2ef3.4de42"
            ]
        ]
    },
    {
        "id": "4b80359.c4073cc",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Element8",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1430,
        "y": 2720,
        "wires": [
            [
                "2d4eb827.ceb758"
            ]
        ]
    },
    {
        "id": "e006bb5a.82df58",
        "type": "comment",
        "z": "6a0af44a.005f6c",
        "name": "Try to KEEP the info on Mode in the messages ",
        "info": "",
        "x": 800,
        "y": 2760,
        "wires": []
    },
    {
        "id": "ea44485d.a52028",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "SET CONTEXT VARIABLES",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "NEW",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "selected_id",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "buffer_id",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 940,
        "wires": [
            [
                "1e6e602a.de4f5"
            ]
        ]
    },
    {
        "id": "1e6e602a.de4f5",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Mode change to NEW out",
        "links": [
            "65fdf9d4.3f4fe8"
        ],
        "x": 395,
        "y": 1040,
        "wires": []
    },
    {
        "id": "e2019f2b.68389",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Mode change to IDLE out",
        "links": [
            "65fdf9d4.3f4fe8"
        ],
        "x": 515,
        "y": 1080,
        "wires": []
    },
    {
        "id": "e0a66c41.ee39",
        "type": "change",
        "z": "6a0af44a.005f6c",
        "name": "SET CONTEXT VARIABLES",
        "rules": [
            {
                "t": "set",
                "p": "mode",
                "pt": "flow",
                "to": "OPEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 416,
        "y": 1510.111083984375,
        "wires": [
            [
                "4cd5465f.9d7ab8"
            ]
        ]
    },
    {
        "id": "4cd5465f.9d7ab8",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Mode change to OPEN out",
        "links": [
            "65fdf9d4.3f4fe8"
        ],
        "x": 491,
        "y": 1430.111083984375,
        "wires": []
    },
    {
        "id": "65fdf9d4.3f4fe8",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Mode change in",
        "links": [
            "e2019f2b.68389",
            "1e6e602a.de4f5",
            "4cd5465f.9d7ab8"
        ],
        "x": 235,
        "y": 2500,
        "wires": [
            [
                "713efbe6.910e54"
            ]
        ]
    },
    {
        "id": "5ca4c359.d110cc",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Control Save button in",
        "links": [
            "1b53db7.3d3ed25"
        ],
        "x": 115,
        "y": 640,
        "wires": [
            [
                "8ed30e9d.283a5"
            ]
        ]
    },
    {
        "id": "dda1f3b7.1eda6",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Control Cancel button in",
        "links": [
            "b6c92807.d35858"
        ],
        "x": 115,
        "y": 700,
        "wires": [
            [
                "e5232b9e.998968"
            ]
        ]
    },
    {
        "id": "42fd9a7e.d45fa4",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Control Delete button in",
        "links": [
            "1cf0ac4c.abb164"
        ],
        "x": 115,
        "y": 760,
        "wires": [
            [
                "6040e2b6.72ad1c"
            ]
        ]
    },
    {
        "id": "1b53db7.3d3ed25",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Control Save button out",
        "links": [
            "5ca4c359.d110cc"
        ],
        "x": 1455,
        "y": 2940,
        "wires": []
    },
    {
        "id": "b6c92807.d35858",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Control Cancel button out",
        "links": [
            "dda1f3b7.1eda6"
        ],
        "x": 1455,
        "y": 2980,
        "wires": []
    },
    {
        "id": "1cf0ac4c.abb164",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Control Delete button out",
        "links": [
            "42fd9a7e.d45fa4"
        ],
        "x": 1455,
        "y": 3040,
        "wires": []
    },
    {
        "id": "594b6412.3a550c",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Save",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1330,
        "y": 2940,
        "wires": [
            [
                "1b53db7.3d3ed25",
                "d994af4a.2067"
            ]
        ]
    },
    {
        "id": "431f1fee.fd8ac",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Cancel",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1330,
        "y": 2980,
        "wires": [
            [
                "b6c92807.d35858",
                "8a17570e.39a808"
            ]
        ]
    },
    {
        "id": "25052683.794fda",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Delete",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1330,
        "y": 3040,
        "wires": [
            [
                "1cf0ac4c.abb164",
                "3c8fdd17.ea3732"
            ]
        ]
    },
    {
        "id": "996295ba.a729e8",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Control New button out",
        "links": [
            "329f978e.4972b8"
        ],
        "x": 1455,
        "y": 2780,
        "wires": []
    },
    {
        "id": "97cad457.acff48",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Control Open button out",
        "links": [
            "16b44a95.d30a35"
        ],
        "x": 1455,
        "y": 2820,
        "wires": []
    },
    {
        "id": "5aad12ca.14db3c",
        "type": "link out",
        "z": "6a0af44a.005f6c",
        "name": "Control Execute button out",
        "links": [
            "ce942fce.8c9e3"
        ],
        "x": 1455,
        "y": 2880,
        "wires": []
    },
    {
        "id": "a22bcdc2.a48d8",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "New",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1330,
        "y": 2780,
        "wires": [
            [
                "996295ba.a729e8",
                "d0ffb07d.893f6"
            ]
        ]
    },
    {
        "id": "52e05e1a.fc4a8",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Open",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1330,
        "y": 2820,
        "wires": [
            [
                "97cad457.acff48",
                "694ed2cf.c1704c"
            ]
        ]
    },
    {
        "id": "500cee3b.9f3d9",
        "type": "switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Execute",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1330,
        "y": 2880,
        "wires": [
            [
                "5aad12ca.14db3c",
                "d8a77578.9c7818"
            ]
        ]
    },
    {
        "id": "329f978e.4972b8",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Control New button in",
        "links": [
            "996295ba.a729e8"
        ],
        "x": 295,
        "y": 580,
        "wires": [
            [
                "a4067da1.ecabd"
            ]
        ]
    },
    {
        "id": "16b44a95.d30a35",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Control Open button in",
        "links": [
            "97cad457.acff48"
        ],
        "x": 295,
        "y": 640,
        "wires": [
            [
                "73d7bf05.4278f"
            ]
        ]
    },
    {
        "id": "ce942fce.8c9e3",
        "type": "link in",
        "z": "6a0af44a.005f6c",
        "name": "Control Execute button in",
        "links": [
            "5aad12ca.14db3c"
        ],
        "x": 295,
        "y": 700,
        "wires": [
            [
                "f2ee39af.399d88"
            ]
        ]
    },
    {
        "id": "dffb2464.b654d8",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "ENABLE/DISABLE GROUPS DEFINITION",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 970,
        "y": 2480,
        "wires": []
    },
    {
        "id": "d0ffb07d.893f6",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "NEW",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "enabled",
        "x": 1550,
        "y": 2760,
        "wires": []
    },
    {
        "id": "694ed2cf.c1704c",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "OPEN",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "enabled",
        "x": 1550,
        "y": 2800,
        "wires": []
    },
    {
        "id": "d8a77578.9c7818",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "EXECUTE",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "enabled",
        "x": 1570,
        "y": 2860,
        "wires": []
    },
    {
        "id": "d994af4a.2067",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "SAVE",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "enabled",
        "x": 1550,
        "y": 2920,
        "wires": []
    },
    {
        "id": "8a17570e.39a808",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "CANCEL",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "enabled",
        "x": 1560,
        "y": 2960,
        "wires": []
    },
    {
        "id": "3c8fdd17.ea3732",
        "type": "debug",
        "z": "6a0af44a.005f6c",
        "name": "DELETE",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "enabled",
        "x": 1560,
        "y": 3020,
        "wires": []
    },
    {
        "id": "925feadd.561cc8",
        "type": "mysql",
        "z": "3f8254e2.b5957c",
        "mydb": "e8a68bb.09cb578",
        "name": "DB: detection_data",
        "x": 875,
        "y": 360,
        "wires": [
            [
                "1faa113f.462adf"
            ]
        ]
    },
    {
        "id": "b4e896c9.7457c8",
        "type": "mysql",
        "z": "3f8254e2.b5957c",
        "mydb": "e8a68bb.09cb578",
        "name": "DB: detection_data",
        "x": 890,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8c32eb1d.4c5378",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example (3)",
        "x": 630,
        "y": 140,
        "wires": [
            [
                "aee2b3bd.2ee1",
                "6b7ab06f.fd18c",
                "71c7fe11.31856"
            ]
        ]
    },
    {
        "id": "1052e9b2.af41a6",
        "type": "mysql",
        "z": "18c6ee7c.27d352",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example (1)",
        "x": 330,
        "y": 296,
        "wires": [
            [
                "b5712549.22c568",
                "4a7efcbc.d30d04"
            ]
        ]
    },
    {
        "id": "afc313c1.2183b",
        "type": "mysql",
        "z": "18c6ee7c.27d352",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example (2)",
        "x": 550,
        "y": 100,
        "wires": [
            [
                "ffc67bd4.1e4ba8"
            ]
        ]
    },
    {
        "id": "f9da807c.02f17",
        "type": "mysql",
        "z": "bd866fd5.f559a",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example (2)",
        "x": 730,
        "y": 500,
        "wires": [
            [
                "3508e64a.d7f2ea",
                "6f6185b8.5f80ac"
            ]
        ]
    },
    {
        "id": "6a25d8c4.eebab8",
        "type": "mysql",
        "z": "bd866fd5.f559a",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example (2)",
        "x": 250,
        "y": 1100,
        "wires": [
            [
                "27fe5b6b.a7f104",
                "83c6083f.8975f8",
                "cdb23862.5e87f8"
            ]
        ]
    },
    {
        "id": "faf6c061.3c585",
        "type": "mysql",
        "z": "bd866fd5.f559a",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example (2)",
        "x": 410,
        "y": 1240,
        "wires": [
            [
                "76d7fab3.362484"
            ]
        ]
    },
    {
        "id": "edd6efb0.905f4",
        "type": "mysql",
        "z": "934cbb23.3f18e8",
        "mydb": "fb73d0d4.03edb",
        "name": "DB: example",
        "x": 930,
        "y": 380,
        "wires": [
            [
                "bc107cf6.5cb5c",
                "4756924e.c6685c"
            ]
        ]
    },
    {
        "id": "7db7c30e.6ea06c",
        "type": "mysql",
        "z": "934cbb23.3f18e8",
        "mydb": "fb73d0d4.03edb",
        "name": "DB: example",
        "x": 1010,
        "y": 220,
        "wires": [
            [
                "caa9ecde.548e5"
            ]
        ]
    },
    {
        "id": "cc3ff10a.df6a3",
        "type": "mysql",
        "z": "934cbb23.3f18e8",
        "mydb": "fb73d0d4.03edb",
        "name": "DB: example",
        "x": 670,
        "y": 680,
        "wires": [
            [
                "ec3d3afc.928c08"
            ]
        ]
    },
    {
        "id": "e9861355.075b4",
        "type": "mysql",
        "z": "8677ca10.1eb128",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 1140,
        "y": 560,
        "wires": [
            [
                "fbf6fee.5cf6b",
                "2f667c0.7ec8f84"
            ]
        ]
    },
    {
        "id": "45c0cc14.fc9cd4",
        "type": "mysql",
        "z": "8677ca10.1eb128",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 1060,
        "y": 780,
        "wires": [
            [
                "1b4a0df6.66a7d2"
            ]
        ]
    },
    {
        "id": "606b5cb8.705014",
        "type": "mysql",
        "z": "599e8aab.a9ec84",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 568,
        "wires": [
            [
                "90efa381.ba6a6"
            ]
        ]
    },
    {
        "id": "92997fac.66cc5",
        "type": "mysql",
        "z": "61eab748.c2a598",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 400,
        "y": 1700,
        "wires": [
            [
                "fddcc972.b80b68",
                "ba62df1a.e636d"
            ]
        ]
    },
    {
        "id": "7f3435a8.0e281c",
        "type": "mysql",
        "z": "61eab748.c2a598",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 700,
        "y": 160,
        "wires": [
            [
                "41c9f156.f10df",
                "f048cd4f.44ce6"
            ]
        ]
    },
    {
        "id": "8c7fda32.1cd7a8",
        "type": "mysql",
        "z": "61eab748.c2a598",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 700,
        "y": 280,
        "wires": [
            [
                "cdf73133.76d9d",
                "8034d571.cd9aa8"
            ]
        ]
    },
    {
        "id": "af609512.267268",
        "type": "mysql",
        "z": "61eab748.c2a598",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 900,
        "y": 789.6666259765625,
        "wires": [
            [
                "97884953.1c7d38"
            ]
        ]
    },
    {
        "id": "f755b124.460ac",
        "type": "mysql",
        "z": "a2794803.694d38",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 2060,
        "wires": [
            [
                "8b144e34.6391c"
            ]
        ]
    },
    {
        "id": "b59289b3.0efd28",
        "type": "mysql",
        "z": "a2794803.694d38",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 620,
        "y": 2340,
        "wires": [
            [
                "2e0220dd.b3b85"
            ]
        ]
    },
    {
        "id": "1545c1fb.853dde",
        "type": "mysql",
        "z": "a2794803.694d38",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 1020,
        "y": 2580,
        "wires": [
            [
                "5f486784.54dba8"
            ]
        ]
    },
    {
        "id": "4281d8b5.682bd8",
        "type": "mysql",
        "z": "a2794803.694d38",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 620,
        "y": 2420,
        "wires": [
            [
                "75574c35.77a2d4"
            ]
        ]
    },
    {
        "id": "2be945ed.f4efea",
        "type": "mysql",
        "z": "a2794803.694d38",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 2780,
        "wires": [
            [
                "b0ede49f.588008"
            ]
        ]
    },
    {
        "id": "b7c470db.7a21",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 589,
        "wires": [
            [
                "ce9502b6.bbeba"
            ]
        ]
    },
    {
        "id": "75af60c9.884b9",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 280,
        "wires": [
            [
                "1be7f014.3db6b"
            ]
        ]
    },
    {
        "id": "6bde54d8.ff61ac",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 421,
        "wires": [
            [
                "83ed8a9f.e9f018"
            ]
        ]
    },
    {
        "id": "37a9f211.e03ade",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 680,
        "y": 740,
        "wires": [
            [
                "dedcf6e4.2a17a8",
                "3855ef78.2da98"
            ]
        ]
    },
    {
        "id": "a420bf71.31ec1",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 600,
        "y": 820,
        "wires": [
            [
                "2ccf0840.8cc328",
                "93ec94ee.ce2658"
            ]
        ]
    },
    {
        "id": "c81287a0.05eac8",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 461,
        "wires": [
            [
                "a53de518.723d78"
            ]
        ]
    },
    {
        "id": "aa1ee5ef.591448",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 501,
        "wires": [
            [
                "aa99002b.33d51"
            ]
        ]
    },
    {
        "id": "d433a518.ea21a8",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 541,
        "wires": [
            [
                "a0e0bbba.5cfb48"
            ]
        ]
    },
    {
        "id": "835bca4f.bb9218",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 640,
        "wires": [
            [
                "645f98dc.a39e68"
            ]
        ]
    },
    {
        "id": "fb1ba7c1.878618",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 620,
        "y": 1321,
        "wires": [
            [
                "70da7b2d.ba7574"
            ]
        ]
    },
    {
        "id": "d4b098d1.2e5c28",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 580,
        "y": 1380,
        "wires": [
            [
                "5f988276.5a75fc",
                "3c48b36.4efa54c"
            ]
        ]
    },
    {
        "id": "6e2a58e4.737e48",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 1780,
        "wires": [
            [
                "84d0e083.485cf",
                "ef819175.0d0fa"
            ]
        ]
    },
    {
        "id": "bf7b478c.a95348",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example (3)",
        "x": 1010,
        "y": 460,
        "wires": [
            [
                "3a7d0153.3a54fe",
                "1b3cbc00.e34944",
                "3dd369d8.c29f56"
            ]
        ]
    },
    {
        "id": "725853b1.83e87c",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example (3)",
        "x": 1830,
        "y": 280,
        "wires": [
            [
                "ebe48af0.ca2fc8"
            ]
        ]
    },
    {
        "id": "3ccccc2d.afec74",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example",
        "x": 840,
        "y": 740,
        "wires": [
            [
                "a6ecaeac.e15b9"
            ]
        ]
    },
    {
        "id": "47b2a5e7.e681bc",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example",
        "x": 760,
        "y": 840,
        "wires": [
            [
                "63d4f2b6.6632fc"
            ]
        ]
    },
    {
        "id": "548c9d3c.cc1c24",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 820,
        "y": 900,
        "wires": [
            [
                "7709d82f.e6e5b8"
            ]
        ]
    },
    {
        "id": "74ba146.23f75ec",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 820,
        "y": 1020,
        "wires": [
            [
                "1cfe3857.6bedf8"
            ]
        ]
    },
    {
        "id": "2e69bf45.6b7f3",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 760,
        "y": 960,
        "wires": [
            [
                "9e3a6bc1.d0b2f8"
            ]
        ]
    },
    {
        "id": "61b33e1c.bc151",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 820,
        "y": 1080,
        "wires": [
            [
                "1cdd8dbd.a2b552"
            ]
        ]
    },
    {
        "id": "73d41dd9.8ebc04",
        "type": "mysql",
        "z": "8677ca10.1eb128",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 1060,
        "y": 820,
        "wires": [
            [
                "770f7217.4068cc"
            ]
        ]
    },
    {
        "id": "9e534ea9.40d0f",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 753.3333129882812,
        "y": 1321.111083984375,
        "wires": [
            [
                "4a8452fd.1d2a9c",
                "67d32b83.1c0bc4"
            ]
        ]
    },
    {
        "id": "a7986ce9.7575d",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 900,
        "y": 1480,
        "wires": [
            [
                "507d5c77.b78e04",
                "61600274.995bec"
            ]
        ]
    },
    {
        "id": "f1879b5.ad41568",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 740,
        "y": 1997,
        "wires": [
            [
                "b97fae8d.872e"
            ]
        ]
    },
    {
        "id": "67a29df2.0c2a54",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 680,
        "y": 1937,
        "wires": [
            [
                "275eac16.449be4"
            ]
        ]
    },
    {
        "id": "a0512087.5b5e4",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 720,
        "y": 2137,
        "wires": [
            [
                "ca6db21b.b1cff"
            ]
        ]
    },
    {
        "id": "1e86b94d.295e77",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 2077,
        "wires": [
            [
                "df65641.4919998"
            ]
        ]
    },
    {
        "id": "ec00f9f6.e1b418",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 860,
        "y": 1660,
        "wires": [
            [
                "77cfcba5.5ae2e4"
            ]
        ]
    },
    {
        "id": "aad8982.9c10c68",
        "type": "mysql",
        "z": "b038d480.cffce8",
        "mydb": "fb73d0d4.03edb",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 2240,
        "wires": [
            [
                "953eab19.06c4c8"
            ]
        ]
    },
    {
        "id": "26bf7462.cd95fc",
        "type": "mysql",
        "z": "6a0af44a.005f6c",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 620,
        "y": 1260,
        "wires": [
            [
                "ccff9b62.6c59a8"
            ]
        ]
    },
    {
        "id": "d9603fdc.1a409",
        "type": "mysql",
        "z": "6a0af44a.005f6c",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 1620,
        "y": 1540,
        "wires": [
            [
                "3c001ed2.f63422"
            ]
        ]
    },
    {
        "id": "3916c6fd.2c54da",
        "type": "mysql",
        "z": "6a0af44a.005f6c",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example",
        "x": 400,
        "y": 1340,
        "wires": [
            [
                "dbe65cf9.59179"
            ]
        ]
    },
    {
        "id": "c3f5f248.64a62",
        "type": "mysql",
        "z": "6a0af44a.005f6c",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example",
        "x": 320,
        "y": 1260,
        "wires": [
            [
                "5da6c722.0f7708"
            ]
        ]
    },
    {
        "id": "efa02402.778168",
        "type": "mysql",
        "z": "6a0af44a.005f6c",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example",
        "x": 690,
        "y": 900,
        "wires": [
            [
                "43c42939.9d7928",
                "e84c2cad.1174d"
            ]
        ]
    },
    {
        "id": "d33f749d.fcbcc8",
        "type": "mysql",
        "z": "6a0af44a.005f6c",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example",
        "x": 920,
        "y": 1000,
        "wires": [
            [
                "a8acce01.57453",
                "8baeedf8.e88c1"
            ]
        ]
    },
    {
        "id": "734f2553.f0be4c",
        "type": "ui_button",
        "z": "3b20d570.416d2a",
        "name": "",
        "group": "d546f58d.e499e8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Alarm ON/OFF",
        "color": "black",
        "bgcolor": "red",
        "icon": "",
        "payload": "Pressed",
        "payloadType": "str",
        "topic": "",
        "x": 180,
        "y": 300,
        "wires": [
            [
                "9ea3b671.38e198"
            ]
        ]
    },
    {
        "id": "ea3e8d4c.f3bad",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Time Line 1",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "e6ba0ac2.569c68"
            ]
        ]
    },
    {
        "id": "89742dcf.2cbf9",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "array",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 90,
        "y": 360,
        "wires": [
            [
                "db21b33b.5949f"
            ]
        ]
    },
    {
        "id": "cf244bfb.d46de8",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "array2",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 90,
        "y": 400,
        "wires": [
            [
                "15ef209.a987ddf"
            ]
        ]
    },
    {
        "id": "44a719bc.187e08",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Time Line 2",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "f067e03c.d9fa7"
            ]
        ]
    },
    {
        "id": "544495e5.84a7dc",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "array for pie",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "Pie 4 T",
        "x": 110,
        "y": 600,
        "wires": [
            [
                "f5a73fae.bb288"
            ]
        ]
    },
    {
        "id": "a4416cb9.d7599",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Time Line 3",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 280,
        "wires": [
            [
                "982d85a8.ff5638"
            ]
        ]
    },
    {
        "id": "a0c4436.b78e8c",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Time Line 4",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 110,
        "y": 320,
        "wires": [
            [
                "ee0b1f5.c2924e"
            ]
        ]
    },
    {
        "id": "991ac2a6.e2f5b",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "array3c",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 100,
        "y": 520,
        "wires": [
            [
                "e9529613.c48788"
            ]
        ]
    },
    {
        "id": "a79bb1eb.859bf",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "array 2 for pie",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "Pie Hole",
        "x": 120,
        "y": 640,
        "wires": [
            [
                "f8293fc.1843bc"
            ]
        ]
    },
    {
        "id": "bd62036.29aa2",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "array3a",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 100,
        "y": 440,
        "wires": [
            [
                "cbe81aa6.1df658"
            ]
        ]
    },
    {
        "id": "64fbacca.1e6624",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "array3b",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "90759da3.feef"
            ]
        ]
    },
    {
        "id": "675af5d4.35104c",
        "type": "ui_button",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "2bf3a75a.0d71a8",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Clear All",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "[]",
        "payloadType": "json",
        "topic": "",
        "x": 240,
        "y": 40,
        "wires": [
            [
                "fc94e674.5ddc28",
                "3cf9d484.04becc",
                "407b0f09.36733",
                "5fcf9559.d8faac",
                "9eb640cb.22094",
                "5ff31781.6633d8"
            ]
        ]
    },
    {
        "id": "e6389a96.518a58",
        "type": "ui_button",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "group": "a5f8cc26.6f9a6",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset",
        "color": "black",
        "bgcolor": "red",
        "icon": "",
        "payload": "RESET",
        "payloadType": "str",
        "topic": "",
        "x": 370,
        "y": 520,
        "wires": [
            [
                "e0da3ea7.278d5"
            ]
        ]
    },
    {
        "id": "4862342e.f6607c",
        "type": "ui_button",
        "z": "599e8aab.a9ec84",
        "name": "",
        "group": "95145073.824d",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset",
        "color": "black",
        "bgcolor": "red",
        "icon": "",
        "payload": "RESET",
        "payloadType": "str",
        "topic": "",
        "x": 1450,
        "y": 80,
        "wires": [
            [
                "ecab3b6e.79f728"
            ]
        ]
    },
    {
        "id": "f6ee5141.c8ddd",
        "type": "ui_button",
        "z": "a2794803.694d38",
        "name": "",
        "group": "22fe9c1e.e6c4e4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset",
        "color": "black",
        "bgcolor": "red",
        "icon": "",
        "payload": "RESET",
        "payloadType": "str",
        "topic": "",
        "x": 150,
        "y": 1900,
        "wires": [
            [
                "418dd38c.f8bc8c"
            ]
        ]
    },
    {
        "id": "70e46fcc.0c074",
        "type": "ui_button",
        "z": "3f8254e2.b5957c",
        "name": "",
        "group": "7ddab0fb.6cbf6",
        "order": 7,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Lenovo tablet",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "05",
        "payloadType": "str",
        "topic": "",
        "x": 85,
        "y": 400,
        "wires": [
            [
                "f00dcd61.297ca"
            ]
        ]
    },
    {
        "id": "a9508a30.54e378",
        "type": "ui_button",
        "z": "3f8254e2.b5957c",
        "name": "",
        "group": "7ddab0fb.6cbf6",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Dave's Samsung phone",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "01",
        "payloadType": "str",
        "topic": "",
        "x": 115,
        "y": 320,
        "wires": [
            [
                "f00dcd61.297ca"
            ]
        ]
    },
    {
        "id": "1c4ecbf5.a050a4",
        "type": "ui_button",
        "z": "3f8254e2.b5957c",
        "name": "",
        "group": "7ddab0fb.6cbf6",
        "order": 8,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Lenovo tablet",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_05",
        "payloadType": "str",
        "topic": "",
        "x": 75,
        "y": 580,
        "wires": [
            [
                "b0323714.2d1e78"
            ]
        ]
    },
    {
        "id": "2a13b47a.e8105c",
        "type": "ui_button",
        "z": "3f8254e2.b5957c",
        "name": "",
        "group": "7ddab0fb.6cbf6",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Dave's Samsung",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_01",
        "payloadType": "str",
        "topic": "",
        "x": 85,
        "y": 500,
        "wires": [
            [
                "b0323714.2d1e78"
            ]
        ]
    },
    {
        "id": "3e84fba0.eae914",
        "type": "ui_button",
        "z": "3f8254e2.b5957c",
        "name": "",
        "group": "7ddab0fb.6cbf6",
        "order": 10,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear REAL-TIME",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "realtime",
        "payloadType": "str",
        "topic": "",
        "x": 75,
        "y": 620,
        "wires": [
            [
                "b0323714.2d1e78"
            ]
        ]
    },
    {
        "id": "cc2f7107.62f28",
        "type": "ui_button",
        "z": "3f8254e2.b5957c",
        "name": "",
        "group": "7ddab0fb.6cbf6",
        "order": 5,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Chris's Samsung",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_02",
        "payloadType": "str",
        "topic": "",
        "x": 85,
        "y": 540,
        "wires": [
            [
                "b0323714.2d1e78"
            ]
        ]
    },
    {
        "id": "9dc0801c.ba8fd",
        "type": "ui_button",
        "z": "3f8254e2.b5957c",
        "name": "",
        "group": "7ddab0fb.6cbf6",
        "order": 4,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Chris's Samsung phone",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "02",
        "payloadType": "str",
        "topic": "",
        "x": 115,
        "y": 360,
        "wires": [
            [
                "f00dcd61.297ca"
            ]
        ]
    },
    {
        "id": "ec8137ae.30fec8",
        "type": "ui_button",
        "z": "7ac68823.c30b88",
        "name": "",
        "group": "9012995d.615918",
        "order": 7,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Lenovo tablet",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "05",
        "payloadType": "str",
        "topic": "",
        "x": 160,
        "y": 420,
        "wires": [
            [
                "90c6066d.abbc98"
            ]
        ]
    },
    {
        "id": "7cccd3db.08af3c",
        "type": "ui_button",
        "z": "7ac68823.c30b88",
        "name": "",
        "group": "9012995d.615918",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Dave's Samsung phone",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "01",
        "payloadType": "str",
        "topic": "",
        "x": 190,
        "y": 340,
        "wires": [
            [
                "90c6066d.abbc98"
            ]
        ]
    },
    {
        "id": "71bb0261.1e2f5c",
        "type": "ui_button",
        "z": "7ac68823.c30b88",
        "name": "",
        "group": "9012995d.615918",
        "order": 8,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Lenovo tablet",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_05",
        "payloadType": "str",
        "topic": "",
        "x": 150,
        "y": 600,
        "wires": [
            [
                "e1e2ed5e.3fa0e"
            ]
        ]
    },
    {
        "id": "32c568bf.c45838",
        "type": "ui_button",
        "z": "7ac68823.c30b88",
        "name": "",
        "group": "9012995d.615918",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Dave's Samsung",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_01",
        "payloadType": "str",
        "topic": "",
        "x": 160,
        "y": 520,
        "wires": [
            [
                "e1e2ed5e.3fa0e"
            ]
        ]
    },
    {
        "id": "5e268f8d.578f3",
        "type": "ui_button",
        "z": "7ac68823.c30b88",
        "name": "",
        "group": "9012995d.615918",
        "order": 10,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear REAL-TIME",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "realtime",
        "payloadType": "str",
        "topic": "",
        "x": 150,
        "y": 640,
        "wires": [
            [
                "e1e2ed5e.3fa0e"
            ]
        ]
    },
    {
        "id": "614c02da.4b258c",
        "type": "ui_button",
        "z": "7ac68823.c30b88",
        "name": "",
        "group": "9012995d.615918",
        "order": 5,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Chris's Samsung",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_02",
        "payloadType": "str",
        "topic": "",
        "x": 160,
        "y": 560,
        "wires": [
            [
                "e1e2ed5e.3fa0e"
            ]
        ]
    },
    {
        "id": "132b71d9.b57d1e",
        "type": "ui_button",
        "z": "7ac68823.c30b88",
        "name": "",
        "group": "9012995d.615918",
        "order": 4,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Chris's Samsung phone",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "02",
        "payloadType": "str",
        "topic": "",
        "x": 190,
        "y": 380,
        "wires": [
            [
                "90c6066d.abbc98"
            ]
        ]
    },
    {
        "id": "ab63c467.4732a8",
        "type": "ui_button",
        "z": "934cbb23.3f18e8",
        "name": "",
        "group": "9012995d.615918",
        "order": 7,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track unknown devices",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "99",
        "payloadType": "str",
        "topic": "",
        "x": 190,
        "y": 440,
        "wires": [
            [
                "e19e5d9f.6abd8"
            ]
        ]
    },
    {
        "id": "8776c0b0.7928d",
        "type": "ui_button",
        "z": "934cbb23.3f18e8",
        "name": "",
        "group": "9012995d.615918",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Fred's Sony phone",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "So",
        "payloadType": "str",
        "topic": "",
        "x": 190,
        "y": 360,
        "wires": [
            [
                "e19e5d9f.6abd8"
            ]
        ]
    },
    {
        "id": "7b51c605.d64fa8",
        "type": "ui_button",
        "z": "934cbb23.3f18e8",
        "name": "",
        "group": "9012995d.615918",
        "order": 8,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear unknown devices",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_99",
        "payloadType": "str",
        "topic": "",
        "x": 490,
        "y": 580,
        "wires": [
            [
                "15d9db3.e3a6225"
            ]
        ]
    },
    {
        "id": "7d99ba07.81f0b4",
        "type": "ui_button",
        "z": "934cbb23.3f18e8",
        "name": "",
        "group": "9012995d.615918",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Fred's Sony",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_So",
        "payloadType": "str",
        "topic": "",
        "x": 470,
        "y": 500,
        "wires": [
            [
                "15d9db3.e3a6225"
            ]
        ]
    },
    {
        "id": "85a39d64.1fbf6",
        "type": "ui_button",
        "z": "934cbb23.3f18e8",
        "name": "",
        "group": "9012995d.615918",
        "order": 10,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear REAL-TIME",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "realtime",
        "payloadType": "str",
        "topic": "",
        "x": 470,
        "y": 620,
        "wires": [
            [
                "15d9db3.e3a6225"
            ]
        ]
    },
    {
        "id": "6cc7ab97.b08cb4",
        "type": "ui_button",
        "z": "934cbb23.3f18e8",
        "name": "",
        "group": "9012995d.615918",
        "order": 5,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Clear Fred's Wiko",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "device_Wi",
        "payloadType": "str",
        "topic": "",
        "x": 470,
        "y": 540,
        "wires": [
            [
                "15d9db3.e3a6225"
            ]
        ]
    },
    {
        "id": "8c75acbb.fa9f5",
        "type": "ui_button",
        "z": "934cbb23.3f18e8",
        "name": "",
        "group": "9012995d.615918",
        "order": 4,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Track Fred's Wiko phone",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "Wi",
        "payloadType": "str",
        "topic": "",
        "x": 190,
        "y": 400,
        "wires": [
            [
                "e19e5d9f.6abd8"
            ]
        ]
    },
    {
        "id": "414d3b44.95e8a4",
        "type": "ui_button",
        "z": 0,
        "name": "",
        "group": "7bbfc675.0c5ba8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "RESET",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "reset",
        "payloadType": "str",
        "topic": "",
        "x": 1750,
        "y": 700,
        "wires": [
            [
                "d75b9a1c.4b0d18"
            ]
        ]
    },
    {
        "id": "c84f95bc.4c6c08",
        "type": "ui_button",
        "z": "b038d480.cffce8",
        "name": "",
        "group": "7f53edce.b372c4",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "COUNT mqtt",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 660,
        "y": 580,
        "wires": [
            [
                "b5ce4af3.08d098"
            ]
        ]
    },
    {
        "id": "f0f7f968.d44ce8",
        "type": "ui_button",
        "z": "b038d480.cffce8",
        "name": "",
        "group": "7f53edce.b372c4",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "CLEAR COUNT",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 1160,
        "y": 620,
        "wires": [
            [
                "cbdc9e5b.40b82"
            ]
        ]
    },
    {
        "id": "a4067da1.ecabd",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "a0cc6988.5f6dc8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "New",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "New",
        "payloadType": "str",
        "topic": "New",
        "x": 270,
        "y": 200,
        "wires": [
            [
                "b30645a6.73d408"
            ]
        ]
    },
    {
        "id": "73d7bf05.4278f",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "a0cc6988.5f6dc8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Open",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "Open",
        "payloadType": "str",
        "topic": "Open",
        "x": 270,
        "y": 260,
        "wires": [
            [
                "29f716aa.3a6eea"
            ]
        ]
    },
    {
        "id": "8ed30e9d.283a5",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "a0cc6988.5f6dc8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Save",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "Save",
        "payloadType": "str",
        "topic": "Save",
        "x": 270,
        "y": 320,
        "wires": [
            [
                "fd3aeec5.9848b"
            ]
        ]
    },
    {
        "id": "e5232b9e.998968",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "a0cc6988.5f6dc8",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Cancel",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "Cancel",
        "payloadType": "str",
        "topic": "",
        "x": 280,
        "y": 380,
        "wires": [
            [
                "f004a01f.69aa4"
            ]
        ]
    },
    {
        "id": "6040e2b6.72ad1c",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "a0cc6988.5f6dc8",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Delete",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "Delete",
        "payloadType": "str",
        "topic": "Delete",
        "x": 270,
        "y": 440,
        "wires": [
            [
                "6007d0e9.de4a9"
            ]
        ]
    },
    {
        "id": "f10a0a40.637458",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "c1949c80.44df2",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Init / Reset",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "Init",
        "payloadType": "str",
        "topic": "Init",
        "x": 270,
        "y": 100,
        "wires": [
            [
                "6fd3648e.fef3ac"
            ]
        ]
    },
    {
        "id": "fab053e6.2f2c1",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "c1949c80.44df2",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Show",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "show",
        "payloadType": "str",
        "topic": "New",
        "x": 550,
        "y": 1980,
        "wires": [
            [
                "e3e3b756.6cddb8"
            ]
        ]
    },
    {
        "id": "213507e6.af8bf8",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "c1949c80.44df2",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Hide",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "hide",
        "payloadType": "str",
        "topic": "Open",
        "x": 550,
        "y": 2020,
        "wires": [
            [
                "4d64bb1.7049144"
            ]
        ]
    },
    {
        "id": "f2ee39af.399d88",
        "type": "ui_button",
        "z": "6a0af44a.005f6c",
        "name": "",
        "group": "a0cc6988.5f6dc8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Execute",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "Execute",
        "payloadType": "str",
        "topic": "Delete",
        "x": 280,
        "y": 500,
        "wires": [
            [
                "26467b8c.a42d54"
            ]
        ]
    },
    {
        "id": "38a0845b.6f819c",
        "type": "ui_dropdown",
        "z": "b038d480.cffce8",
        "name": "",
        "label": "Selected table: ",
        "place": "None",
        "group": "eceff5dd.1ad4c8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "None",
                "value": "None",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 1540,
        "y": 160,
        "wires": [
            [
                "60fdbb53.a62314"
            ]
        ]
    },
    {
        "id": "b3e52c6b.bceb8",
        "type": "ui_dropdown",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Period",
        "place": "Select option",
        "group": "7278d52.2e21e2c",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "options": [
            {
                "label": "weekly",
                "value": "weekly",
                "type": "str"
            },
            {
                "label": "daily",
                "value": "daily",
                "type": "str"
            },
            {
                "label": "hourly",
                "value": "hourly",
                "type": "str"
            },
            {
                "label": "monthly",
                "value": "monthly",
                "type": "str"
            },
            {
                "label": "yearly",
                "value": "yearly",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "period",
        "x": 950,
        "y": 200,
        "wires": [
            [
                "4ba01607.485658",
                "1a20647e.43013c"
            ]
        ]
    },
    {
        "id": "291f3a.19a560c6",
        "type": "ui_dropdown",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Tasks Dropdown",
        "place": "Select task",
        "group": "3681895b.2d3dd6",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "options": [
            {
                "label": "<empty>",
                "value": 0,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 760,
        "y": 1480,
        "wires": [
            [
                "2b1c3e3.6f456c2",
                "2aaf433d.f36b6c",
                "65180abe.0972a4"
            ]
        ]
    },
    {
        "id": "7d1a49cc.7976a8",
        "type": "ui_switch",
        "z": "75a23301.b2c0dc",
        "name": "",
        "label": "Alarm Status Switch",
        "group": "5203d9c1.4d65a8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "ON",
        "onvalueType": "str",
        "onicon": "",
        "oncolor": "",
        "offvalue": "OFF",
        "offvalueType": "str",
        "officon": "",
        "offcolor": "",
        "x": 400,
        "y": 460,
        "wires": [
            [
                "9c8bdebc.548e7",
                "41d1aebc.2f00c"
            ]
        ]
    },
    {
        "id": "4a576173.f9b7",
        "type": "ui_switch",
        "z": "3b20d570.416d2a",
        "name": "",
        "label": "switch",
        "group": "d546f58d.e499e8",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "ON",
        "onvalueType": "str",
        "onicon": "",
        "oncolor": "blue",
        "offvalue": "OFF",
        "offvalueType": "str",
        "officon": "",
        "offcolor": "blue",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "98e3f214.1948c",
                "7b6728c3.83dd18"
            ]
        ]
    },
    {
        "id": "5d629dee.69cf54",
        "type": "ui_switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Average",
        "group": "7278d52.2e21e2c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "avg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 960,
        "y": 280,
        "wires": [
            [
                "4ba01607.485658",
                "1a20647e.43013c"
            ]
        ]
    },
    {
        "id": "643b6d75.0e8f84",
        "type": "ui_switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Sum",
        "group": "7278d52.2e21e2c",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "sum",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 950,
        "y": 320,
        "wires": [
            [
                "4ba01607.485658",
                "1a20647e.43013c"
            ]
        ]
    },
    {
        "id": "7e7586d.492ac78",
        "type": "ui_switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Count",
        "group": "7278d52.2e21e2c",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "count",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 950,
        "y": 360,
        "wires": [
            [
                "4ba01607.485658",
                "1a20647e.43013c"
            ]
        ]
    },
    {
        "id": "6f0edf8e.3586c",
        "type": "ui_switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Active on submit (y/N)",
        "group": "7278d52.2e21e2c",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "active",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 1000,
        "y": 240,
        "wires": [
            [
                "4ba01607.485658",
                "1a20647e.43013c"
            ]
        ]
    },
    {
        "id": "44fa5eb.4a8caa",
        "type": "ui_switch",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "DEBUG",
        "group": "a6a303b2.fef5b",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 180,
        "y": 160,
        "wires": [
            [
                "7285ead4.f20b84",
                "c7c2e589.647688"
            ]
        ]
    },
    {
        "id": "a15feab2.72a7e8",
        "type": "ui_chart",
        "z": "3f7b5fe2.56b48",
        "name": "",
        "group": "bfa4b957.154538",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 420,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d447bf43.2be56",
        "type": "ui_chart",
        "z": "75a23301.b2c0dc",
        "name": "",
        "group": "5203d9c1.4d65a8",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (1hr)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 822,
        "y": 177,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "98fd53fa.c35d4",
        "type": "ui_chart",
        "z": "75a23301.b2c0dc",
        "name": "",
        "group": "5203d9c1.4d65a8",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (4 hrs)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "4",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 832,
        "y": 237,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4ce119b7.6255f8",
        "type": "ui_chart",
        "z": "75a23301.b2c0dc",
        "name": "",
        "group": "5203d9c1.4d65a8",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (24 hrs)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 832,
        "y": 297,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c3824d1b.7e8d5",
        "type": "ui_chart",
        "z": "75a23301.b2c0dc",
        "name": "",
        "group": "5203d9c1.4d65a8",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (1 wk)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "604800",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 820,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "78dc66a5.3e9018",
        "type": "ui_chart",
        "z": "3b20d570.416d2a",
        "name": "",
        "group": "efc48aa8.c17688",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (1hr)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 940,
        "y": 440,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b514292e.cebcf8",
        "type": "ui_chart",
        "z": "3b20d570.416d2a",
        "name": "",
        "group": "efc48aa8.c17688",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (4 hrs)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "4",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 960,
        "y": 520,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "90b31ac7.135308",
        "type": "ui_chart",
        "z": "3b20d570.416d2a",
        "name": "",
        "group": "903da0a4.5ed11",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (24 hrs)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 970,
        "y": 580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c1823f97.d6aaa",
        "type": "ui_chart",
        "z": "3b20d570.416d2a",
        "name": "",
        "group": "903da0a4.5ed11",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Presence (1 wk)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "604800",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 960,
        "y": 640,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "943a3095.5069e",
        "type": "ui_chart",
        "z": "faac9242.dcd4e",
        "name": "",
        "group": "bb259c3c.92ca2",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 570,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bf4bcc1d.b4e18",
        "type": "ui_chart",
        "z": "faac9242.dcd4e",
        "name": "",
        "group": "bb259c3c.92ca2",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Monitoring RPi",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1497,
        "y": 181,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e52d7208.a5dbb",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Electricity (W) long",
        "group": "5181ed20.9e4fe4",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "Power (7 days)",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "7",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1030,
        "y": 560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e5ed7973.8cba18",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Electricity (W) short",
        "group": "5181ed20.9e4fe4",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Power (1 hour)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1030,
        "y": 480,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "de3128cf.112d58",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Gas cumulative (m3) long",
        "group": "ce076867.c08778",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "Gas cumulative (1 week)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "7",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1050,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "92d2204e.434b9",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Gas interval (medium)",
        "group": "ce076867.c08778",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Gas interval (24 hrs)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1040,
        "y": 300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5ff31781.6633d8",
        "type": "ui_chart",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "3e3eb8fa.81ca68",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "line chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "No Data",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 560,
        "y": 100,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9eb640cb.22094",
        "type": "ui_chart",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "3e3eb8fa.81ca68",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "bar chart",
        "chartType": "bar",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "No Data",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 560,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "407b0f09.36733",
        "type": "ui_chart",
        "z": "937a7f11.e8a65",
        "name": "pie chart",
        "group": "3e3eb8fa.81ca68",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "pie chart",
        "chartType": "pie",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": "30",
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 560,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5fcf9559.d8faac",
        "type": "ui_chart",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "10643ecc.d67b71",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "horizontal bar",
        "chartType": "horizontalBar",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": "30",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 580,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3cf9d484.04becc",
        "type": "ui_chart",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "10643ecc.d67b71",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "polar chart",
        "chartType": "polar-area",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": "30",
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 570,
        "y": 460,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "fc94e674.5ddc28",
        "type": "ui_chart",
        "z": "937a7f11.e8a65",
        "name": "",
        "group": "10643ecc.d67b71",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "radar chart",
        "chartType": "radar",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": "30",
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 570,
        "y": 520,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "12077ee6.3cf2d1",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Electricity (W) medium",
        "group": "5181ed20.9e4fe4",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Power (24 hrs)",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1040,
        "y": 520,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "60df7e99.6017f",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Gas interval m3 (short)",
        "group": "ce076867.c08778",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Gas interval (1 hr)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "no data yet",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1040,
        "y": 260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "73551092.791a4",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "Chart druk",
        "group": "22fe9c1e.e6c4e4",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Druk",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "1010",
        "ymax": "1040",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 810,
        "y": 920,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "53546d6c.746d24",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "Chart temperatuur",
        "group": "22fe9c1e.e6c4e4",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Temperatuur (Celcius)",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 590,
        "y": 1020,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9bf7c436.9d0a58",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "chart rssi",
        "group": "da655df0.0dafe",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "rssi",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "x": 1360,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5eca7cfc.7890d4",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "chart snr",
        "group": "da655df0.0dafe",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "snr",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "x": 1640,
        "y": 300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1224720b.d5bd4e",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "chart rssi",
        "group": "da655df0.0dafe",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "mean rssi (10)",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "x": 1540,
        "y": 151,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5de13c45.607e64",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "Chart druk",
        "group": "22fe9c1e.e6c4e4",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Druk",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "1010",
        "ymax": "1025",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 810,
        "y": 1000,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d13e7374.a8c4d",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "",
        "group": "22fe9c1e.e6c4e4",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "OWM pressure",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "1035",
        "ymax": "1020",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 840,
        "y": 1580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a3737ade.8e6528",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "OWM pressure prediction",
        "group": "22fe9c1e.e6c4e4",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "3",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "604800",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1160,
        "y": 1240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bb54a35.874766",
        "type": "ui_chart",
        "z": "8677ca10.1eb128",
        "name": "Temperatures",
        "group": "72d44185.11ae4",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1013,
        "y": 358,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5be0fd6a.6634a4",
        "type": "ui_chart",
        "z": "8677ca10.1eb128",
        "name": "Chart Temperatuur CV ruimte",
        "group": "72d44185.11ae4",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Temperatuur CV ruimte",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1080,
        "y": 280,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "262e915a.516f0e",
        "type": "ui_chart",
        "z": "8677ca10.1eb128",
        "name": "Chart Temperatuur CV leiding",
        "group": "72d44185.11ae4",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Temperatuur CV leiding",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1035,
        "y": 406,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c7a268cb.d307d8",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) short",
        "group": "d454eb87.443198",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta Power (1 hour)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1730,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b19e7504.716278",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) medium",
        "group": "d454eb87.443198",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta Power (24 hours)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1740,
        "y": 380,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c6a7b9ce.406138",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) long",
        "group": "d454eb87.443198",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta Power (7 days)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "7",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1730,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "22e94f8.89ce5b",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) short",
        "group": "987efb7c.a01458",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta Power (1 hour)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1730,
        "y": 460,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f307e5a6.666d98",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) medium",
        "group": "987efb7c.a01458",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta Power (24 hours)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1740,
        "y": 500,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "fb7d3028.a2ad3",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) long",
        "group": "987efb7c.a01458",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta Power (7 days)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "7",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1730,
        "y": 540,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9bae84d7.febf48",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) short",
        "group": "d454eb87.443198",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Delta Power (1 hour)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1730,
        "y": 580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8a021dbb.37e9",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) medium",
        "group": "d454eb87.443198",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Delta Power (24 hours)",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1740,
        "y": 660,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "86c386b6.eb3208",
        "type": "ui_chart",
        "z": "599e8aab.a9ec84",
        "name": "Delta Electricity (W) long",
        "group": "d454eb87.443198",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Delta Power (7 days)",
        "chartType": "line",
        "legend": "false",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "7",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 1730,
        "y": 700,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "34a71abc.de6276",
        "type": "ui_chart",
        "z": "a2794803.694d38",
        "name": "TTN count",
        "group": "22fe9c1e.e6c4e4",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "TTN count",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 530,
        "y": 1360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "866496da.116e68",
        "type": "ui_chart",
        "z": "18c6ee7c.27d352",
        "name": "24 hours data",
        "group": "ee5b0b43.38ece8",
        "order": 2,
        "width": "0",
        "height": "0",
        "label": "Chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#00e68c",
            "#2d2da8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 680,
        "y": 240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1184b04e.d80d4",
        "type": "ui_chart",
        "z": "bd866fd5.f559a",
        "name": "Owntracks dump line",
        "group": "a5f8cc26.6f9a6",
        "order": 2,
        "width": "0",
        "height": "0",
        "label": "Owntracks dump line",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#00e68c",
            "#2d2da8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 700,
        "y": 1060,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5d75a942.da7698",
        "type": "ui_chart",
        "z": "bd866fd5.f559a",
        "name": "Owntracks dump bar",
        "group": "a5f8cc26.6f9a6",
        "order": 2,
        "width": "0",
        "height": "0",
        "label": "Owntracks dump bar",
        "chartType": "bar",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#00e68c",
            "#2d2da8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": true,
        "x": 700,
        "y": 1120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "76d7fab3.362484",
        "type": "ui_chart",
        "z": "bd866fd5.f559a",
        "name": "",
        "group": "a5f8cc26.6f9a6",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "raw",
        "chartType": "bar",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 730,
        "y": 1200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1c20b1c3.b983ce",
        "type": "ui_chart",
        "z": "61eab748.c2a598",
        "name": "Selected time range from database",
        "group": "496dd8ae.20d2e8",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "SELECTED TIMERANGE (DB)",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 699,
        "y": 1660,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e59e58da.72b308",
        "type": "ui_chart",
        "z": "61eab748.c2a598",
        "name": "MULTIPLE SERIES (more (1 x, 1 y) )",
        "group": "496dd8ae.20d2e8",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "MULTIPLE SERIES (more (1 x, 1 y) ) !!!",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1310,
        "y": 320,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a1089d8d.491f4",
        "type": "ui_chart",
        "z": "61eab748.c2a598",
        "name": "MULTIPLE SERIES (more (1 x, 1 y) ) LOOP METHOD",
        "group": "496dd8ae.20d2e8",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "MULTIPLE SERIES (more (1 x, 1 y) ) LOOP METHOD",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 960,
        "y": 981,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ffe5f991.0079d8",
        "type": "ui_chart",
        "z": "2b73b789.bed1b8",
        "name": "posedge FROM temp_epower",
        "group": "2e6452c4.51f21e",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "posedge FROM temp_epower",
        "chartType": "line",
        "legend": "true",
        "xformat": "auto",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 790,
        "y": 1560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1fb1b49f.06ee3b",
        "type": "ui_chart",
        "z": "2b73b789.bed1b8",
        "name": "MULTIPLE SERIES (more (1 x, 1 y) )",
        "group": "2e6452c4.51f21e",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "contrast FROM temp_epower",
        "chartType": "line",
        "legend": "true",
        "xformat": "dd HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "72",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#ff0000",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 890,
        "y": 1960,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "504dc46e.60af3c",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "7bbfc675.0c5ba8",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "RFIN",
        "chartType": "bar",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1430,
        "y": 440,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "570e9b33.ea2a44",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "4a635cf8.7103d4",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 80,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9ce5c5c7.da17b8",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "4a635cf8.7103d4",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 40,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ed7b11b1.1a912",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "b46e5c03.8e55c",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4057085d.b082f8",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "4a635cf8.7103d4",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5e0e89f5.9f3a98",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "63eb9685.191ba8",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d84af4fa.bf8c78",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "63eb9685.191ba8",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4e0d01c7.410e3",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "b46e5c03.8e55c",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 380,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "162d5bbc.ccd514",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "b46e5c03.8e55c",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "6a5c482.f3952b8",
        "type": "ui_chart",
        "z": 0,
        "name": "",
        "group": "63eb9685.191ba8",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "{{msg.label}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 2050,
        "y": 240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f86a425.ebd2cc",
        "type": "ui_ui_control",
        "z": "6a0af44a.005f6c",
        "name": "",
        "x": 840,
        "y": 1980,
        "wires": [
            []
        ]
    },
    {
        "id": "56fd35ec.aedcbc",
        "type": "ui_ui_control",
        "z": "6a0af44a.005f6c",
        "name": "",
        "x": 840,
        "y": 2020,
        "wires": [
            [
                "f04c9ca4.2931c"
            ]
        ]
    },
    {
        "id": "4874e4fd.0b63bc",
        "type": "ui_ui_control",
        "z": "6a0af44a.005f6c",
        "name": "ui control DEBUG GROUP",
        "x": 620,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "93734b24.820e18",
        "type": "ui_ui_control",
        "z": "6a0af44a.005f6c",
        "name": "",
        "x": 880,
        "y": 2360,
        "wires": [
            []
        ]
    },
    {
        "id": "e75e287d.b2dec8",
        "type": "ui_text_input",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Input table",
        "group": "7278d52.2e21e2c",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 970,
        "y": 120,
        "wires": [
            [
                "4ba01607.485658",
                "1a20647e.43013c"
            ]
        ]
    },
    {
        "id": "1fd95381.c2a92c",
        "type": "ui_text_input",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Aggregation field",
        "group": "7278d52.2e21e2c",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 987,
        "y": 161,
        "wires": [
            [
                "4ba01607.485658",
                "1a20647e.43013c"
            ]
        ]
    },
    {
        "id": "aface83f.c88318",
        "type": "ui_text_input",
        "z": "6a0af44a.005f6c",
        "name": "",
        "label": "Task name",
        "group": "7278d52.2e21e2c",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 970,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "2d3b15cf.8d46aa",
        "type": "ui_template",
        "z": "3f8254e2.b5957c",
        "group": "38e543fe.23a2bc",
        "name": "",
        "order": 0,
        "width": "19",
        "height": "10",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 445,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "e1363163.fa8ad",
        "type": "ui_template",
        "z": "7ac68823.c30b88",
        "group": "5c15da34.582a44",
        "name": "",
        "order": 0,
        "width": "19",
        "height": "10",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 520,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "357bb1af.6fc2ce",
        "type": "ui_template",
        "z": "934cbb23.3f18e8",
        "group": "5c15da34.582a44",
        "name": "",
        "order": 0,
        "width": "19",
        "height": "10",
        "format": "",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 540,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "c8b6db4f.4295f8",
        "type": "ui_template",
        "z": "b038d480.cffce8",
        "group": "95145073.824d",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 560,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "67e6668d.a9c768",
        "type": "ui_form",
        "z": "b038d480.cffce8",
        "name": "Aggregation Form",
        "label": "Aggregation Tasks (create)",
        "group": "a746a52.bd2e258",
        "order": 0,
        "width": "15",
        "height": "23",
        "options": [
            {
                "label": "Task name",
                "value": "task_name",
                "type": "text",
                "required": true
            },
            {
                "label": " Input table",
                "value": "input_table",
                "type": "text",
                "required": true
            },
            {
                "label": "Input field",
                "value": "input_field",
                "type": "text",
                "required": true
            },
            {
                "label": "Aggregation period",
                "value": "agg_period",
                "type": "text",
                "required": true
            },
            {
                "label": "Delete (y/N)",
                "value": "delete_",
                "type": "switch",
                "required": true
            },
            {
                "label": "AGGREGATES",
                "value": "dummy",
                "type": "text",
                "required": false
            },
            {
                "label": "Count",
                "value": "count_",
                "type": "checkbox",
                "required": true
            },
            {
                "label": "Max",
                "value": "max_",
                "type": "checkbox",
                "required": true
            },
            {
                "label": "Min",
                "value": "min_",
                "type": "checkbox",
                "required": true
            },
            {
                "label": "Sum",
                "value": "sum_",
                "type": "checkbox",
                "required": true
            },
            {
                "label": "Average",
                "value": "average_",
                "type": "checkbox",
                "required": true
            },
            {
                "label": "Active on submit",
                "value": "active_",
                "type": "checkbox",
                "required": true
            }
        ],
        "formValue": {
            "task_name": "",
            "input_table": "",
            "input_field": "",
            "agg_period": "",
            "delete_": false,
            "dummy": "",
            "count_": false,
            "max_": false,
            "min_": false,
            "sum_": false,
            "average_": false,
            "active_": false
        },
        "payload": "",
        "submit": "",
        "cancel": "",
        "topic": "create_task",
        "x": 170,
        "y": 780,
        "wires": [
            [
                "44069dce.b76434",
                "dfa3410f.98b6f"
            ]
        ]
    },
    {
        "id": "7d1146cc.7e9668",
        "type": "ui_text",
        "z": "3f7b5fe2.56b48",
        "group": "bfa4b957.154538",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 510,
        "y": 320,
        "wires": []
    },
    {
        "id": "49379ad7.e7be94",
        "type": "ui_text",
        "z": "3b20d570.416d2a",
        "group": "d546f58d.e499e8",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Alarm status",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 890,
        "y": 280,
        "wires": []
    },
    {
        "id": "380b680e.91c898",
        "type": "ui_text",
        "z": "ab9b51d3.46d2d",
        "group": "a5f8cc26.6f9a6",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "ticks since last reset",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 860,
        "y": 280,
        "wires": []
    },
    {
        "id": "4e67564e.8620a8",
        "type": "ui_text",
        "z": "599e8aab.a9ec84",
        "group": "95145073.824d",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "ticks since last reset",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1900,
        "y": 60,
        "wires": []
    },
    {
        "id": "6d36b99c.c045f8",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "22fe9c1e.e6c4e4",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last connection",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 950,
        "y": 174,
        "wires": []
    },
    {
        "id": "f0fd7618.15ae08",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "22fe9c1e.e6c4e4",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Gateway[0] id",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 950,
        "y": 234,
        "wires": []
    },
    {
        "id": "7ba278c7.4de1b8",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "660d10c.84905f",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last rssi",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1300,
        "y": 100,
        "wires": []
    },
    {
        "id": "e4a59570.39bd58",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "660d10c.84905f",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last snr",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1300,
        "y": 440,
        "wires": []
    },
    {
        "id": "c98d3278.d677f",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "22fe9c1e.e6c4e4",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Data Count",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 564,
        "y": 1252,
        "wires": []
    },
    {
        "id": "567e77b5.f51c18",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "1925ec20.ef7034",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last connection",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1410,
        "y": 560,
        "wires": []
    },
    {
        "id": "47c973a4.c8eb5c",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "1925ec20.ef7034",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Gateway[0] id",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1410,
        "y": 620,
        "wires": []
    },
    {
        "id": "52c0b4d6.cc2b8c",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "1925ec20.ef7034",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last rssi",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1800,
        "y": 560,
        "wires": []
    },
    {
        "id": "eafd37bc.9a9068",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "1925ec20.ef7034",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last snr",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1823.4847412109375,
        "y": 687.8787841796875,
        "wires": []
    },
    {
        "id": "fc012267.e6a79",
        "type": "ui_text",
        "z": "a2794803.694d38",
        "group": "22fe9c1e.e6c4e4",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "ticks since last reset",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 780,
        "y": 1800,
        "wires": []
    },
    {
        "id": "cd1f6c5a.731cf",
        "type": "ui_text",
        "z": "3f8254e2.b5957c",
        "group": "7ddab0fb.6cbf6",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "A: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 65,
        "y": 680,
        "wires": []
    },
    {
        "id": "cc37aa2.b434b58",
        "type": "ui_text",
        "z": "3f8254e2.b5957c",
        "group": "7ddab0fb.6cbf6",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "B: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 65,
        "y": 720,
        "wires": []
    },
    {
        "id": "5fdc15bc.2b591c",
        "type": "ui_text",
        "z": "3f8254e2.b5957c",
        "group": "7ddab0fb.6cbf6",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "C: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 65,
        "y": 760,
        "wires": []
    },
    {
        "id": "86b413c3.8ea62",
        "type": "ui_text",
        "z": "7ac68823.c30b88",
        "group": "9012995d.615918",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "A: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 140,
        "y": 700,
        "wires": []
    },
    {
        "id": "8ac66478.16cd98",
        "type": "ui_text",
        "z": "7ac68823.c30b88",
        "group": "9012995d.615918",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "B: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 140,
        "y": 740,
        "wires": []
    },
    {
        "id": "1a4f3025.1f4dd",
        "type": "ui_text",
        "z": "7ac68823.c30b88",
        "group": "9012995d.615918",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "C: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 140,
        "y": 780,
        "wires": []
    },
    {
        "id": "b90ac1db.4e687",
        "type": "ui_text",
        "z": "934cbb23.3f18e8",
        "group": "9012995d.615918",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "A: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 160,
        "y": 500,
        "wires": []
    },
    {
        "id": "2aa4ea51.0aad16",
        "type": "ui_text",
        "z": "934cbb23.3f18e8",
        "group": "9012995d.615918",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "B: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 160,
        "y": 540,
        "wires": []
    },
    {
        "id": "b0998580.9c7978",
        "type": "ui_text",
        "z": "934cbb23.3f18e8",
        "group": "9012995d.615918",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "C: blank spacer",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 160,
        "y": 580,
        "wires": []
    },
    {
        "id": "5294d074.63d07",
        "type": "ui_text",
        "z": "b038d480.cffce8",
        "group": "7f53edce.b372c4",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "COUNT table mqqt",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1450,
        "y": 340,
        "wires": []
    },
    {
        "id": "f2ff86c8.af7538",
        "type": "ui_text",
        "z": "b038d480.cffce8",
        "group": "eceff5dd.1ad4c8",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "COUNT table",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1920,
        "y": 120,
        "wires": []
    },
    {
        "id": "4ba01607.485658",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "c1949c80.44df2",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Input changed (value)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1337,
        "y": 121,
        "wires": []
    },
    {
        "id": "1a20647e.43013c",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "c1949c80.44df2",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Input changed (topic)",
        "format": "{{msg.topic}}",
        "layout": "row-spread",
        "x": 1320,
        "y": 200,
        "wires": []
    },
    {
        "id": "56028f2.7bd717",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "7278d52.2e21e2c",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Task id (read only)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 990,
        "y": 440,
        "wires": []
    },
    {
        "id": "4efd1442.4b4e7c",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "c1949c80.44df2",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Delete action",
        "format": "To be impemented {{msg.payload}}",
        "layout": "row-spread",
        "x": 230,
        "y": 1740,
        "wires": []
    },
    {
        "id": "4ec87ca4.249c34",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "c1949c80.44df2",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Cancel action",
        "format": "To be impemented {{msg.payload}}",
        "layout": "row-spread",
        "x": 240,
        "y": 1840,
        "wires": []
    },
    {
        "id": "570316ac.841098",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "c1949c80.44df2",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Execute action",
        "format": "To be impemented {{msg.payload}}",
        "layout": "row-spread",
        "x": 220,
        "y": 1980,
        "wires": []
    },
    {
        "id": "f282c33.2fc2d4",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "c1949c80.44df2",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "selected_id",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1930,
        "y": 1460,
        "wires": []
    },
    {
        "id": "f405daba.4cc998",
        "type": "ui_text",
        "z": "6a0af44a.005f6c",
        "group": "c1949c80.44df2",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "buffer_id",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1940,
        "y": 1360,
        "wires": []
    },
    {
        "id": "89ebaf86.00fd5",
        "type": "ui_gauge",
        "z": "599e8aab.a9ec84",
        "name": "Electricity (W) gauge",
        "group": "5181ed20.9e4fe4",
        "order": 1,
        "width": "0",
        "height": "0",
        "gtype": "gage",
        "title": "Power",
        "label": "W",
        "format": "{{value}}",
        "min": "-2500",
        "max": "2500",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1040,
        "y": 440,
        "wires": []
    },
    {
        "id": "211e18d6.430fd8",
        "type": "ui_gauge",
        "z": "599e8aab.a9ec84",
        "name": "Gas interval (gauge)",
        "group": "ce076867.c08778",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Gas (interval)",
        "label": "m3",
        "format": "{{value}}",
        "min": "0",
        "max": "5",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1040,
        "y": 220,
        "wires": []
    },
    {
        "id": "cd11f1f7.6af09",
        "type": "ui_gauge",
        "z": "a2794803.694d38",
        "name": "",
        "group": "22fe9c1e.e6c4e4",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Temperatuur",
        "label": "Celcius",
        "format": "{{value}}",
        "min": "-30",
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 570,
        "y": 1060,
        "wires": []
    },
    {
        "id": "6d21dd26.96b194",
        "type": "ui_gauge",
        "z": "a2794803.694d38",
        "name": "Gauge  druk",
        "group": "22fe9c1e.e6c4e4",
        "order": 0,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "druk",
        "label": "mbar",
        "format": "{{value}}",
        "min": "950",
        "max": "1050",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 810,
        "y": 960,
        "wires": []
    },
    {
        "id": "fb5b217f.7858",
        "type": "ui_gauge",
        "z": "8677ca10.1eb128",
        "name": "Gauge CV leiding zolder",
        "group": "fc44179e.3559c8",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "CV leiding zolder",
        "label": "C",
        "format": "{{value}}",
        "min": "-10",
        "max": "40",
        "colors": [
            "#00ffff",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1320,
        "y": 220,
        "wires": []
    },
    {
        "id": "f8c2827f.faad9",
        "type": "ui_gauge",
        "z": "8677ca10.1eb128",
        "name": "Gauge CV ruimte",
        "group": "fc44179e.3559c8",
        "order": 2,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "CV ruimte",
        "label": "C",
        "format": "{{value}}",
        "min": "-10",
        "max": "40",
        "colors": [
            "#00ffff",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1290,
        "y": 320,
        "wires": []
    },
    {
        "id": "c4a842d0.69583",
        "type": "counter",
        "z": "ab9b51d3.46d2d",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": "",
        "upper": "",
        "mode": "increment",
        "outputs": 2,
        "x": 600,
        "y": 360,
        "wires": [
            [
                "ad5768ac.e7f108",
                "380b680e.91c898"
            ],
            [
                "44e13836.cc9b18"
            ]
        ]
    },
    {
        "id": "1d9917d4.a20488",
        "type": "counter",
        "z": "599e8aab.a9ec84",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": "",
        "upper": "",
        "mode": "increment",
        "outputs": 2,
        "x": 1680,
        "y": 100,
        "wires": [
            [
                "c68bf26c.155af",
                "4e67564e.8620a8",
                "dded1d97.86c1f"
            ],
            [
                "355c74ca.018ddc"
            ]
        ]
    },
    {
        "id": "6f2ebe79.4d38d",
        "type": "counter",
        "z": "a2794803.694d38",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": null,
        "upper": null,
        "mode": "increment",
        "outputs": "1",
        "x": 334,
        "y": 1144,
        "wires": [
            [
                "f52e4b6a.2232f8"
            ]
        ]
    },
    {
        "id": "2624b29.cec904e",
        "type": "counter",
        "z": "a2794803.694d38",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": "",
        "upper": "",
        "mode": "increment",
        "outputs": "2",
        "x": 334,
        "y": 1204,
        "wires": [
            [
                "3d8d699b.9b17f6",
                "c98d3278.d677f",
                "34a71abc.de6276"
            ],
            [
                "c527ab04.6f2608"
            ]
        ]
    },
    {
        "id": "9de9ac3c.23726",
        "type": "counter",
        "z": "b417289e.bd5028",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": "",
        "upper": "",
        "mode": "increment",
        "outputs": "2",
        "x": 200,
        "y": 720,
        "wires": [
            [
                "9d2922f.1c868e"
            ],
            [
                "2bca3e4b.81e502"
            ]
        ]
    },
    {
        "id": "36547f03.4b321",
        "type": "counter",
        "z": "a2794803.694d38",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": "",
        "upper": "",
        "mode": "increment",
        "outputs": 2,
        "x": 560,
        "y": 1860,
        "wires": [
            [
                "fc1957b1.a06a18",
                "fc012267.e6a79"
            ],
            [
                "5ada3c8f.74e894"
            ]
        ]
    },
    {
        "id": "571101d4.8c45b",
        "type": "delta",
        "z": "599e8aab.a9ec84",
        "name": "",
        "topic": "delta_power",
        "timetype": "null",
        "timeperiod": null,
        "interval": 60,
        "loop_emit": false,
        "threshold": "",
        "x": 1490,
        "y": 360,
        "wires": [
            [
                "974df0f7.703cf",
                "c7a268cb.d307d8",
                "b19e7504.716278",
                "c6a7b9ce.406138",
                "4160989f.d3d968"
            ]
        ]
    },
    {
        "id": "76bf8884.a63de8",
        "type": "hue-light",
        "z": "3f7b5fe2.56b48",
        "name": "Huiskamer kast 2",
        "bridge": "c894985b.2eefe8",
        "lightid": "3",
        "x": 240,
        "y": 340,
        "wires": [
            [
                "36ae0da0.90d302"
            ]
        ]
    },
    {
        "id": "623d4041.4c2e1",
        "type": "hue-light",
        "z": "75a23301.b2c0dc",
        "name": "Huiskamer kast 1",
        "bridge": "c894985b.2eefe8",
        "lightid": "2",
        "x": 270,
        "y": 720,
        "wires": [
            [
                "a989d0fa.82ee"
            ]
        ]
    },
    {
        "id": "de653a1e.ea6ab8",
        "type": "hue-light",
        "z": "75a23301.b2c0dc",
        "name": "Huiskamer kast 1",
        "bridge": "",
        "lightid": "2",
        "colornamer": false,
        "x": 1070,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "e8b3c0de.20289",
        "type": "hue-scene",
        "z": "3f7b5fe2.56b48",
        "name": "Kathy on 1478123043543",
        "bridge": "c894985b.2eefe8",
        "sceneid": "2d79011dc-on-0",
        "x": 260,
        "y": 460,
        "wires": [
            [
                "758b5265.ab568c"
            ]
        ]
    },
    {
        "id": "963ca59d.2fbb78",
        "type": "hue-scene",
        "z": "75a23301.b2c0dc",
        "name": "Floor on 1477681524000",
        "bridge": "c894985b.2eefe8",
        "sceneid": "0795b0d7c-on-0",
        "x": 850,
        "y": 520,
        "wires": [
            [
                "1a997e83.a505d1"
            ]
        ]
    },
    {
        "id": "2ffbb0b0.4b5dd",
        "type": "hue-tap",
        "z": "3b20d570.416d2a",
        "name": "Hue tap switch 1",
        "bridge": "c894985b.2eefe8",
        "sensorid": "57",
        "x": 220,
        "y": 80,
        "wires": [
            [
                "cfeca305.9baba"
            ]
        ]
    },
    {
        "id": "5c834979.9a8a88",
        "type": "hue-switch",
        "z": "3f7b5fe2.56b48",
        "name": "Woonkamer schakelaar 1",
        "bridge": "",
        "sensorid": "55",
        "x": 120,
        "y": 40,
        "wires": [
            [
                "11f05d29.1aa123",
                "a15feab2.72a7e8"
            ]
        ]
    },
    {
        "id": "f7cd2e45.a7082",
        "type": "hue-switch",
        "z": "3b20d570.416d2a",
        "name": "Woonkamer schakelaar 1",
        "bridge": "c894985b.2eefe8",
        "sensorid": "55",
        "x": 210,
        "y": 340,
        "wires": [
            [
                "4484bc63.2e5c44"
            ]
        ]
    },
    {
        "id": "2c2da4b7.4d552c",
        "type": "hue-switch",
        "z": "75a23301.b2c0dc",
        "name": "Hue dimmer switch 3",
        "bridge": "c894985b.2eefe8",
        "sensorid": "58",
        "x": 1040,
        "y": 100,
        "wires": [
            [
                "46eebae8.490f74",
                "7e608ecc.39f72"
            ]
        ]
    },
    {
        "id": "6a5f07bc.5f0da8",
        "type": "hue-motion",
        "z": "3f7b5fe2.56b48",
        "name": "Hue motion sensor 1",
        "bridge": "c894985b.2eefe8",
        "sensorid": "20",
        "x": 280,
        "y": 180,
        "wires": [
            [
                "2811f88.cf87b08",
                "c27f4fea.be8e5",
                "e8b3c0de.20289",
                "7d1146cc.7e9668"
            ]
        ]
    },
    {
        "id": "c378055a.a463b8",
        "type": "hue-motion",
        "z": "75a23301.b2c0dc",
        "name": "Hue motion sensor 1",
        "bridge": "c894985b.2eefe8",
        "sensorid": "20",
        "x": 160,
        "y": 220,
        "wires": [
            [
                "bc1c214d.451e",
                "6fb7d8ea.a92178",
                "9106b229.7189c"
            ]
        ]
    },
    {
        "id": "c6a094d.ff81568",
        "type": "hue-motion",
        "z": "3b20d570.416d2a",
        "name": "Hue motion sensor 1",
        "bridge": "c894985b.2eefe8",
        "sensorid": "20",
        "x": 520,
        "y": 180,
        "wires": [
            [
                "cc8354e1.d6c0f8",
                "1c6b0d78.1f5d13",
                "cf86f995.bff7d8",
                "7491d7f2.256218"
            ]
        ]
    },
    {
        "id": "890775da.e932a8",
        "type": "worldmap",
        "z": "a2794803.694d38",
        "name": "",
        "lat": "",
        "lon": "",
        "zoom": "",
        "layer": "OSM grey",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "false",
        "x": 430,
        "y": 460,
        "wires": []
    },
    {
        "id": "fde533e4.29bee",
        "type": "worldmap",
        "z": "bd866fd5.f559a",
        "name": "",
        "lat": "51",
        "lon": "0",
        "zoom": "14",
        "layer": "OSM",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "true",
        "x": 850,
        "y": 180,
        "wires": []
    },
    {
        "id": "d5c6d131.5765c",
        "type": "worldmap",
        "z": "3f8254e2.b5957c",
        "name": "",
        "lat": "51.346079",
        "lon": "-0.827034",
        "zoom": "15",
        "layer": "",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "false",
        "x": 1275,
        "y": 360,
        "wires": []
    },
    {
        "id": "41286efc.3e17",
        "type": "worldmap",
        "z": "3f8254e2.b5957c",
        "name": "",
        "lat": "51.346079",
        "lon": "-0.827034",
        "zoom": "15",
        "layer": "",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "false",
        "x": 915,
        "y": 240,
        "wires": []
    },
    {
        "id": "e56b.55045a95a8",
        "type": "worldmap",
        "z": "7ac68823.c30b88",
        "name": "",
        "lat": "51.346079",
        "lon": "-0.827034",
        "zoom": "15",
        "layer": "",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "false",
        "x": 1350,
        "y": 380,
        "wires": []
    },
    {
        "id": "8d838d1b.d1e34",
        "type": "worldmap",
        "z": "7ac68823.c30b88",
        "name": "",
        "lat": "51.346079",
        "lon": "-0.827034",
        "zoom": "15",
        "layer": "",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "false",
        "x": 990,
        "y": 260,
        "wires": []
    },
    {
        "id": "aedb11a3.42f39",
        "type": "worldmap",
        "z": "934cbb23.3f18e8",
        "name": "",
        "lat": "51.346079",
        "lon": "-0.827034",
        "zoom": "15",
        "layer": "OSM",
        "cluster": "",
        "maxage": "600",
        "usermenu": "show",
        "layers": "show",
        "panit": "true",
        "x": 1330,
        "y": 380,
        "wires": []
    },
    {
        "id": "8c419b5a.0610f8",
        "type": "worldmap",
        "z": "934cbb23.3f18e8",
        "name": "",
        "lat": "51.346079",
        "lon": "-0.827034",
        "zoom": "15",
        "layer": "",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "true",
        "x": 1010,
        "y": 280,
        "wires": []
    },
    {
        "id": "133439b6.41ba66",
        "type": "worldmap in",
        "z": "bd866fd5.f559a",
        "name": "",
        "x": 400,
        "y": 420,
        "wires": [
            [
                "5a925bdd.930494"
            ]
        ]
    },
    {
        "id": "b6b64ce2.93d58",
        "type": "worldmap-tracks",
        "z": "bd866fd5.f559a",
        "depth": 20,
        "name": "",
        "x": 510,
        "y": 320,
        "wires": [
            [
                "c9fdbee2.a588d"
            ]
        ]
    },
    {
        "id": "da745419.657f18",
        "type": "ttn event",
        "z": "9b673204.5a55a",
        "name": "",
        "app": "ce6aa2d4.acd0b",
        "dev_id": "sensor01",
        "event": "#",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "fc805048.e6de6"
            ]
        ]
    },
    {
        "id": "1b3f4b75.73bb85",
        "type": "ttn event",
        "z": "9b673204.5a55a",
        "name": "",
        "app": "ce6aa2d4.acd0b",
        "dev_id": "sensor01",
        "event": "activations",
        "x": 320,
        "y": 320,
        "wires": [
            [
                "e75d7118.45682"
            ]
        ]
    },
    {
        "id": "63a6e285.48365c",
        "type": "ttn downlink",
        "z": "9b673204.5a55a",
        "name": "",
        "app": "d726ca5b.64bbf8",
        "dev_id": "sensor01",
        "port": "1",
        "confirmed": true,
        "schedule": "first",
        "x": 490,
        "y": 480,
        "wires": []
    },
    {
        "id": "d7a61335.9985c",
        "type": "ttn uplink",
        "z": "9b673204.5a55a",
        "name": "",
        "app": "d726ca5b.64bbf8",
        "dev_id": "sensor01",
        "field": "mbar",
        "x": 320,
        "y": 380,
        "wires": [
            [
                "d86973f8.f40ed"
            ]
        ]
    },
    {
        "id": "15756e7.a37a792",
        "type": "chart request",
        "z": "6e7288cb.27ffb8",
        "charttype": "ColumnChart",
        "path": "/googlechart",
        "refresh": "2",
        "formatx": "",
        "formaty": "",
        "attribs": [
            {
                "name": "name",
                "type": "string"
            },
            {
                "name": "age",
                "type": "number"
            }
        ],
        "x": 190,
        "y": 100,
        "wires": [
            [
                "1beb8cf9.416ad3",
                "504c83a2.1c040c",
                "197c5dfc.8e4502"
            ]
        ]
    },
    {
        "id": "2c145b4e.d751f4",
        "type": "chart request",
        "z": "6e7288cb.27ffb8",
        "charttype": "ScatterChart",
        "path": "/google2",
        "refresh": "2",
        "formatx": "",
        "formaty": "",
        "attribs": [
            {
                "name": "name",
                "type": "number"
            },
            {
                "name": "age",
                "type": "number"
            }
        ],
        "x": 190,
        "y": 200,
        "wires": [
            [
                "d7b79830.17cd88",
                "af4a6425.e1a9f8"
            ]
        ]
    },
    {
        "id": "d0c30233.01735",
        "type": "chart response",
        "z": "6e7288cb.27ffb8",
        "x": 580,
        "y": 100,
        "wires": []
    },
    {
        "id": "ab6180c7.69cf6",
        "type": "chart response",
        "z": "6e7288cb.27ffb8",
        "x": 580,
        "y": 200,
        "wires": []
    },
    {
        "id": "ed483c5.c44e0c",
        "type": "regression",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "dataSetSize": "10",
        "regressionType": "linear",
        "polynomialOrder": 2,
        "precision": 2,
        "xInputField": "payload.x",
        "xInputFieldType": "msg",
        "yInputField": "payload.y",
        "yInputFieldType": "msg",
        "yOutputField": "payload.y",
        "yOutputFieldType": "msg",
        "functionOutputField": "",
        "functionOutputFieldType": "none",
        "resultOnly": true,
        "x": 610,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "d14ee1f.27d1c2",
        "type": "regression",
        "z": "e20bd973.57e138",
        "name": "",
        "dataSetSize": "10",
        "regressionType": "linear",
        "polynomialOrder": "2",
        "precision": "5",
        "xInputField": "payload.x",
        "xInputFieldType": "msg",
        "yInputField": "payload.y",
        "yInputFieldType": "msg",
        "yOutputField": "payload.prediction",
        "yOutputFieldType": "msg",
        "functionOutputField": "function",
        "functionOutputFieldType": "msg",
        "resultOnly": false,
        "x": 750,
        "y": 260,
        "wires": [
            [
                "6431875c.12d328",
                "4a7cf174.db988",
                "b9f47ed4.56558"
            ]
        ]
    },
    {
        "id": "60a17eff.9d51c",
        "type": "statistics",
        "z": "6e7288cb.27ffb8",
        "name": "",
        "dataSetSize": 0,
        "inputField": "payload",
        "inputFieldType": "msg",
        "resultField": "payload",
        "resultFieldType": "msg",
        "parameterField": "",
        "parameterFieldType": "msg",
        "stripFunction": false,
        "resultOnly": true,
        "x": 120,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "8d37ffd4.cb634",
        "type": "statistics",
        "z": "e20bd973.57e138",
        "name": "",
        "dataSetSize": 0,
        "inputField": "payload",
        "inputFieldType": "msg",
        "resultField": "payload",
        "resultFieldType": "msg",
        "parameterField": "",
        "parameterFieldType": "msg",
        "stripFunction": false,
        "resultOnly": true,
        "x": 380,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "90411018.50ec5",
        "type": "statistics",
        "z": "b417289e.bd5028",
        "name": "",
        "dataSetSize": 0,
        "inputField": "payload",
        "inputFieldType": "msg",
        "resultField": "payload",
        "resultFieldType": "msg",
        "parameterField": "",
        "parameterFieldType": "payload",
        "stripFunction": true,
        "resultOnly": false,
        "x": 580,
        "y": 200,
        "wires": [
            [
                "befe9588.627de8",
                "75e584bf.2d623c"
            ]
        ]
    },
    {
        "id": "612420d4.8222b",
        "type": "statistics",
        "z": "b417289e.bd5028",
        "name": "",
        "dataSetSize": 0,
        "inputField": "payload",
        "inputFieldType": "msg",
        "resultField": "payload",
        "resultFieldType": "msg",
        "parameterField": "",
        "parameterFieldType": "msg",
        "stripFunction": true,
        "resultOnly": false,
        "x": 740,
        "y": 640,
        "wires": [
            [
                "f5b2cd31.4bb9f"
            ]
        ]
    },
    {
        "id": "95bbfd0.5ce79",
        "type": "calculate",
        "z": "a2794803.694d38",
        "name": "calculation mean",
        "pauseType": "rate",
        "calculation": "average",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "10",
        "x": 1330,
        "y": 151,
        "wires": [
            [
                "1224720b.d5bd4e",
                "d77a0920.29ddf8"
            ]
        ]
    },
    {
        "id": "b033d95b.52cdb8",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 1270,
        "y": 1620,
        "wires": []
    },
    {
        "id": "dded1d97.86c1f",
        "type": "ui_slider",
        "z": "599e8aab.a9ec84",
        "name": "",
        "label": "Seconds since last readout",
        "group": "95145073.824d",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "min": 0,
        "max": "60",
        "step": 1,
        "x": 1920,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "8aa97bc4.c326b8",
        "type": "comment",
        "z": "61eab748.c2a598",
        "name": "BOTH LABELS ARE THE SAME",
        "info": "",
        "x": 1410,
        "y": 380,
        "wires": []
    },
    {
        "id": "bc84d103.6217a",
        "type": "template",
        "z": "61eab748.c2a598",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT UNIX_TIMESTAMP(datetime)*1000 AS \"x\", temperature AS \"y\" FROM tsensors WHERE (sensor_id = \"10-000802541aac\");\n",
        "output": "str",
        "x": 440,
        "y": 160,
        "wires": [
            [
                "7f3435a8.0e281c"
            ]
        ]
    },
    {
        "id": "f048cd4f.44ce6",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "INJECT CHART DATA INTO CHART OBJECT",
        "func": "msg.chart.data.push(msg.payload);\nmsg.chart.series.push(\"10-000802541aac\");\nmsg.chart.labels.push(\"10-000802541aac\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 920,
        "y": 200,
        "wires": [
            [
                "1d5439ba.1b03d6"
            ]
        ]
    },
    {
        "id": "1d5439ba.1b03d6",
        "type": "template",
        "z": "61eab748.c2a598",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT UNIX_TIMESTAMP(datetime)*1000 AS \"x\", temperature AS \"y\" FROM tsensors WHERE (sensor_id = \"10-0008029056ee\");\n",
        "output": "str",
        "x": 380,
        "y": 280,
        "wires": [
            [
                "8c7fda32.1cd7a8"
            ]
        ]
    },
    {
        "id": "8034d571.cd9aa8",
        "type": "function",
        "z": "61eab748.c2a598",
        "name": "",
        "func": "msg.chart.data.push(msg.payload);\nmsg.chart.series.push(\"10-0008029056ee\");\nmsg.chart.labels.push(\"10-0008029056ee\");\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 915,
        "y": 282,
        "wires": [
            [
                "b7359d32.d86eb"
            ]
        ]
    },
    {
        "id": "7a8a8393.3cb6cc",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 730,
        "y": 80,
        "wires": []
    },
    {
        "id": "54ed12e5.97547c",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 120,
        "wires": [
            [
                "b23cd28e.14dd5"
            ]
        ]
    },
    {
        "id": "b23cd28e.14dd5",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "DROP TABLE `epower2`",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE epower2;\n",
        "output": "str",
        "x": 370,
        "y": 120,
        "wires": [
            [
                "1fce0077.7d3fa"
            ]
        ]
    },
    {
        "id": "1d429976.3e0f37",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 160,
        "wires": [
            [
                "f5c36863.d50b78"
            ]
        ]
    },
    {
        "id": "f5c36863.d50b78",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST epower2",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM epower2 ORDER BY timestamp DESC;",
        "output": "str",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "1fce0077.7d3fa"
            ]
        ]
    },
    {
        "id": "4b41f71f.3741c8",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "COUNT epower2",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM epower2;",
        "output": "str",
        "x": 350,
        "y": 200,
        "wires": [
            [
                "59a31b3f.08d9e4"
            ]
        ]
    },
    {
        "id": "b7ce1fc3.ea88d",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "COUNT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "4",
        "x": 180,
        "y": 200,
        "wires": [
            [
                "4b41f71f.3741c8"
            ]
        ]
    },
    {
        "id": "18f5b165.a9af4f",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].COUNT(*)",
        "x": 790,
        "y": 240,
        "wires": []
    },
    {
        "id": "1fce0077.7d3fa",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 760,
        "y": 120,
        "wires": [
            [
                "7a8a8393.3cb6cc"
            ]
        ]
    },
    {
        "id": "59a31b3f.08d9e4",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 560,
        "y": 200,
        "wires": [
            [
                "18f5b165.a9af4f",
                "9088f9da.73a818"
            ]
        ]
    },
    {
        "id": "ecd6448b.ee92c8",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "x": 170,
        "y": 80,
        "wires": [
            [
                "1ee94f2a.942f81"
            ]
        ]
    },
    {
        "id": "1ee94f2a.942f81",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "USE nodered_db; CREATE TABLE epower2;",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "USE nodered_db;\nCREATE TABLE IF NOT EXISTS epower2 (power_id INT NOT NULL AUTO_INCREMENT, timestamp TIMESTAMP, power INT(5), posedge INT(5), negedge INT(5), PRIMARY KEY (power_id));\n",
        "output": "str",
        "x": 430,
        "y": 80,
        "wires": [
            [
                "1fce0077.7d3fa"
            ]
        ]
    },
    {
        "id": "9088f9da.73a818",
        "type": "change",
        "z": "7329e9b3.909368",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[0].COUNT(*)",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 200,
        "wires": [
            [
                "adc1558.86e3ea8",
                "2faf446d.b833fc"
            ]
        ]
    },
    {
        "id": "adc1558.86e3ea8",
        "type": "ui_text",
        "z": "7329e9b3.909368",
        "group": "95145073.824d",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "COUNT epower2",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1030,
        "y": 200,
        "wires": []
    },
    {
        "id": "2faf446d.b833fc",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "COUNT",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1020,
        "y": 240,
        "wires": []
    },
    {
        "id": "805f3d13.0fc74",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "Do it for furrent data (E only, consumed, peak+non_peak)",
        "info": "",
        "x": 890,
        "y": 740,
        "wires": []
    },
    {
        "id": "e1586c72.6322b",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "PLOT database content",
        "info": "",
        "x": 140,
        "y": 280,
        "wires": []
    },
    {
        "id": "84007015.350fa",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "DROP",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 860,
        "wires": [
            [
                "54ae9525.611c8c"
            ]
        ]
    },
    {
        "id": "54ae9525.611c8c",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "DROP TABLE practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE practice;\n",
        "output": "str",
        "x": 360,
        "y": 860,
        "wires": [
            [
                "84dca9d9.69a3d8"
            ]
        ]
    },
    {
        "id": "dce669ae.9c1498",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1250,
        "y": 800,
        "wires": []
    },
    {
        "id": "d6c66e8a.5004a",
        "type": "json",
        "z": "7329e9b3.909368",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 800,
        "wires": [
            [
                "2774e07a.1da7c"
            ]
        ]
    },
    {
        "id": "2774e07a.1da7c",
        "type": "json",
        "z": "7329e9b3.909368",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1090,
        "y": 800,
        "wires": [
            [
                "dce669ae.9c1498"
            ]
        ]
    },
    {
        "id": "1062b57.b9b284b",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "CLONE epower2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 159,
        "y": 808.4444580078125,
        "wires": [
            [
                "782a3a9c.8d5744"
            ]
        ]
    },
    {
        "id": "782a3a9c.8d5744",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "CLONE TABLE epower2 into practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE IF NOT EXISTS practice AS\n   SELECT *\n   FROM epower2;",
        "output": "str",
        "x": 409,
        "y": 808.4444580078125,
        "wires": [
            [
                "84dca9d9.69a3d8"
            ]
        ]
    },
    {
        "id": "872bd1dc.f507b",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "create TABLE practice as sandbox for manipulations",
        "info": "",
        "x": 290,
        "y": 740,
        "wires": []
    },
    {
        "id": "630a231e.5305ac",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 1040,
        "wires": [
            [
                "9576b38f.a723f"
            ]
        ]
    },
    {
        "id": "9576b38f.a723f",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM practice ORDER BY timestamp DESC;",
        "output": "str",
        "x": 390,
        "y": 1040,
        "wires": [
            [
                "cc66ec4.bc5691"
            ]
        ]
    },
    {
        "id": "dc627d72.d893d",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "COUNT practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM practice;",
        "output": "str",
        "x": 400,
        "y": 1100,
        "wires": [
            [
                "2f919452.145bdc"
            ]
        ]
    },
    {
        "id": "7c52409d.b3305",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 990,
        "y": 1040,
        "wires": []
    },
    {
        "id": "7bc95224.3c809c",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "COUNT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 1100,
        "wires": [
            [
                "dc627d72.d893d"
            ]
        ]
    },
    {
        "id": "c6a80845.f0e2f8",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].COUNT(*)",
        "x": 1040,
        "y": 1100,
        "wires": []
    },
    {
        "id": "8d2fb98f.74a288",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "GRAPH",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": "4",
        "x": 180,
        "y": 360,
        "wires": [
            [
                "b55369c5.145038"
            ]
        ]
    },
    {
        "id": "b55369c5.145038",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT timestamp AS \"x\", power as \"y\" FROM epower2;",
        "output": "str",
        "x": 360,
        "y": 360,
        "wires": [
            [
                "8bdf29ca.c04858"
            ]
        ]
    },
    {
        "id": "84f3bb44.00c098",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 570,
        "y": 420,
        "wires": []
    },
    {
        "id": "483a36f9.89a268",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 790,
        "y": 360,
        "wires": [
            [
                "28a672d7.9475ce",
                "7c3c8a1b.feb054"
            ]
        ]
    },
    {
        "id": "28a672d7.9475ce",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1040,
        "y": 360,
        "wires": []
    },
    {
        "id": "e7514793.da8c38",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "Placeholder for graphing data from table practice",
        "info": "",
        "x": 240,
        "y": 920,
        "wires": []
    },
    {
        "id": "382c41f4.90bb3e",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 750,
        "y": 420,
        "wires": [
            [
                "88a47fe1.84c84"
            ]
        ]
    },
    {
        "id": "88a47fe1.84c84",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 890,
        "y": 420,
        "wires": [
            [
                "7c3c8a1b.feb054"
            ]
        ]
    },
    {
        "id": "84dca9d9.69a3d8",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 720,
        "y": 800,
        "wires": [
            [
                "d6c66e8a.5004a"
            ]
        ]
    },
    {
        "id": "cc66ec4.bc5691",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 760,
        "y": 1040,
        "wires": [
            [
                "7c52409d.b3305"
            ]
        ]
    },
    {
        "id": "2f919452.145bdc",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 760,
        "y": 1100,
        "wires": [
            [
                "c6a80845.f0e2f8"
            ]
        ]
    },
    {
        "id": "8bdf29ca.c04858",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 580,
        "y": 360,
        "wires": [
            [
                "84f3bb44.00c098",
                "483a36f9.89a268"
            ]
        ]
    },
    {
        "id": "7c3c8a1b.feb054",
        "type": "ui_chart",
        "z": "7329e9b3.909368",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Power (epower2 db)",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1080,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7dc90e23.956de",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT timestamp AS \"x\", power as \"y\" FROM practice;",
        "output": "str",
        "x": 373,
        "y": 980,
        "wires": [
            [
                "ef5103f5.4da0f"
            ]
        ]
    },
    {
        "id": "d8e17a2e.06f9a8",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 570,
        "y": 920,
        "wires": []
    },
    {
        "id": "992cfc6c.900a4",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 803,
        "y": 980,
        "wires": [
            [
                "9540fee3.6d732",
                "21b272a1.45412e"
            ]
        ]
    },
    {
        "id": "9540fee3.6d732",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 990,
        "y": 980,
        "wires": []
    },
    {
        "id": "2f09a599.36727a",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 770,
        "y": 920,
        "wires": [
            [
                "1962d703.6d5529"
            ]
        ]
    },
    {
        "id": "1962d703.6d5529",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 890,
        "y": 920,
        "wires": [
            [
                "21b272a1.45412e"
            ]
        ]
    },
    {
        "id": "ef5103f5.4da0f",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 593,
        "y": 980,
        "wires": [
            [
                "d8e17a2e.06f9a8",
                "992cfc6c.900a4"
            ]
        ]
    },
    {
        "id": "21b272a1.45412e",
        "type": "ui_chart",
        "z": "7329e9b3.909368",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 10,
        "width": 0,
        "height": 0,
        "label": "Power (practice db)",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1070,
        "y": 920,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1478f3b3.3813bc",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "GRAPH practice",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 180,
        "y": 980,
        "wires": [
            [
                "7dc90e23.956de"
            ]
        ]
    },
    {
        "id": "9b29cdbb.4876c",
        "type": "inject",
        "z": "599e8aab.a9ec84",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "x": 150,
        "y": 660,
        "wires": [
            [
                "b3063a0e.7f57f8"
            ]
        ]
    },
    {
        "id": "b3063a0e.7f57f8",
        "type": "template",
        "z": "599e8aab.a9ec84",
        "name": "USE nodered_db; CREATE TABLE epower2;",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "USE nodered_db;\nCREATE TABLE IF NOT EXISTS epower2 (power_id INT NOT NULL AUTO_INCREMENT, timestamp TIMESTAMP, power INT(5), posedge INT(5), negedge INT(5), PRIMARY KEY (power_id));\n",
        "output": "str",
        "x": 450,
        "y": 660,
        "wires": [
            [
                "606b5cb8.705014"
            ]
        ]
    },
    {
        "id": "1d49e6d1.a97c99",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "INEFFICIENT: Plots the COMPLETE DB every minute",
        "info": "",
        "x": 480,
        "y": 280,
        "wires": []
    },
    {
        "id": "7a453b82.0d9004",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "on succes, delete the oldest records from <table_name>",
        "info": "",
        "x": 720,
        "y": 2160,
        "wires": []
    },
    {
        "id": "db9a72c6.c7662",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "x": 170,
        "y": 1400,
        "wires": [
            [
                "2fd8285e.974228"
            ]
        ]
    },
    {
        "id": "2fd8285e.974228",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "USE nodered_db; CREATE TABLE hourly_practice;",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "USE nodered_db;\nCREATE TABLE IF NOT EXISTS hourly_practice (hourly_id INT NOT NULL AUTO_INCREMENT, datetime DATETIME, avgpower FLOAT(9), maxpower INT(5), minpower INT(5), maxposedge INT(5), maxnegedge INT(5), PRIMARY KEY (hourly_id));\n",
        "output": "str",
        "x": 490,
        "y": 1400,
        "wires": [
            [
                "1e972a71.a68006"
            ]
        ]
    },
    {
        "id": "1e972a71.a68006",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 840,
        "y": 1400,
        "wires": [
            [
                "e8963bf0.896588"
            ]
        ]
    },
    {
        "id": "e8963bf0.896588",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1070,
        "y": 1400,
        "wires": []
    },
    {
        "id": "3642c3cc.839f8c",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "LIST",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 1213,
        "wires": [
            [
                "20d3127c.71ce4e"
            ]
        ]
    },
    {
        "id": "20d3127c.71ce4e",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST hourly_practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM hourly_practice ORDER BY datetime DESC;;",
        "output": "str",
        "x": 420,
        "y": 1213,
        "wires": [
            [
                "40d0dbad.863d64"
            ]
        ]
    },
    {
        "id": "25ea4611.a502ea",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "COUNT hourly_practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT COUNT(*) FROM hourly_practice;",
        "output": "str",
        "x": 430,
        "y": 1273,
        "wires": [
            [
                "26cc3165.bf08ee"
            ]
        ]
    },
    {
        "id": "b6c87326.639f8",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 990,
        "y": 1213,
        "wires": []
    },
    {
        "id": "142beb1d.3cec15",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "COUNT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 170,
        "y": 1273,
        "wires": [
            [
                "25ea4611.a502ea"
            ]
        ]
    },
    {
        "id": "ea2e7725.5f5828",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0].COUNT(*)",
        "x": 1040,
        "y": 1273,
        "wires": []
    },
    {
        "id": "40d0dbad.863d64",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 760,
        "y": 1213,
        "wires": [
            [
                "b6c87326.639f8"
            ]
        ]
    },
    {
        "id": "26cc3165.bf08ee",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 760,
        "y": 1273,
        "wires": [
            [
                "ea2e7725.5f5828"
            ]
        ]
    },
    {
        "id": "3d398ff9.ceb19",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "99 HOUR",
        "payloadType": "str",
        "repeat": "",
        "crontab": "0 0-23 * * *",
        "once": false,
        "onceDelay": "10",
        "x": 150,
        "y": 2180,
        "wires": [
            [
                "d206e3d8.3154e"
            ]
        ]
    },
    {
        "id": "9b2ea985.92f3d8",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "DROP TABLE hourly_practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE hourly_practice;\n",
        "output": "str",
        "x": 430,
        "y": 1333,
        "wires": [
            [
                "2220553c.e0190a"
            ]
        ]
    },
    {
        "id": "1f7541e8.3f379e",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "DROP",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 190,
        "y": 1333,
        "wires": [
            [
                "9b2ea985.92f3d8"
            ]
        ]
    },
    {
        "id": "2220553c.e0190a",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 740,
        "y": 1333,
        "wires": [
            [
                "bc0ee047.4ede3"
            ]
        ]
    },
    {
        "id": "bc0ee047.4ede3",
        "type": "json",
        "z": "7329e9b3.909368",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 1333,
        "wires": [
            [
                "86211abf.929c48"
            ]
        ]
    },
    {
        "id": "86211abf.929c48",
        "type": "json",
        "z": "7329e9b3.909368",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1090,
        "y": 1333,
        "wires": [
            [
                "f48b4b72.f26578"
            ]
        ]
    },
    {
        "id": "f48b4b72.f26578",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 1250,
        "y": 1333,
        "wires": []
    },
    {
        "id": "5ce104a2.a11e9c",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var myinterval = msg.payload;\nmsg.interval = myinterval;\nmsg.max_agg_time = null;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 2260,
        "wires": [
            [
                "357060c6.b972c"
            ]
        ]
    },
    {
        "id": "8daaebce.ad4398",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "warningCount <> 0",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1150,
        "y": 2360,
        "wires": []
    },
    {
        "id": "ce4b4ef6.2becd",
        "type": "switch",
        "z": "7329e9b3.909368",
        "name": "",
        "property": "payload.warningCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 2360,
        "wires": [
            [
                "8daaebce.ad4398"
            ],
            []
        ]
    },
    {
        "id": "ddf92123.a5f3d",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "Placeholder for graphing data from table practice",
        "info": "",
        "x": 260,
        "y": 2900,
        "wires": []
    },
    {
        "id": "e4f75772.cbee58",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT datetime AS \"x\", avgpower as \"y\" FROM hourly_practice;",
        "output": "str",
        "x": 380,
        "y": 2980,
        "wires": [
            [
                "8f5c7a77.80c0a8"
            ]
        ]
    },
    {
        "id": "d4ea046a.3e5ae8",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 590,
        "y": 2900,
        "wires": []
    },
    {
        "id": "b4c8c576.bc1418",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 823,
        "y": 2960,
        "wires": [
            [
                "b8627dcb.e2e14",
                "1461b130.2d4dcf"
            ]
        ]
    },
    {
        "id": "b8627dcb.e2e14",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1010,
        "y": 2960,
        "wires": []
    },
    {
        "id": "d00cc10.157534",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 810,
        "y": 2780,
        "wires": [
            [
                "e0c85724.6a1388"
            ]
        ]
    },
    {
        "id": "e0c85724.6a1388",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 2780,
        "wires": [
            [
                "1461b130.2d4dcf",
                "738aa471.c78b9c",
                "9baaeceb.af67e"
            ]
        ]
    },
    {
        "id": "8f5c7a77.80c0a8",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 600,
        "y": 2980,
        "wires": [
            [
                "d4ea046a.3e5ae8",
                "b4c8c576.bc1418"
            ]
        ]
    },
    {
        "id": "1461b130.2d4dcf",
        "type": "ui_chart",
        "z": "7329e9b3.909368",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 7,
        "width": 0,
        "height": 0,
        "label": "avgpower (hourly_practice db)",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1130,
        "y": 2900,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ed96a94a.841d08",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "GRAPH hourly practice",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 2980,
        "wires": [
            [
                "e4f75772.cbee58",
                "47fc7b02.af3754",
                "eac84b55.063168"
            ]
        ]
    },
    {
        "id": "47fc7b02.af3754",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT datetime AS \"x\", maxposedge as \"y\" FROM hourly_practice;",
        "output": "str",
        "x": 420,
        "y": 3120,
        "wires": [
            [
                "8814a349.21dac"
            ]
        ]
    },
    {
        "id": "611f7d62.1e5c94",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 617,
        "y": 3060,
        "wires": []
    },
    {
        "id": "f6a337bd.89d058",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 850,
        "y": 3120,
        "wires": [
            [
                "a41f6a0d.007118",
                "738aa471.c78b9c"
            ]
        ]
    },
    {
        "id": "a41f6a0d.007118",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1037,
        "y": 3120,
        "wires": []
    },
    {
        "id": "8814a349.21dac",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 3120,
        "wires": [
            [
                "611f7d62.1e5c94",
                "f6a337bd.89d058"
            ]
        ]
    },
    {
        "id": "738aa471.c78b9c",
        "type": "ui_chart",
        "z": "7329e9b3.909368",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "maxposedge (hourly_practice db)",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1120,
        "y": 3040,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "eac84b55.063168",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "LIST readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT datetime AS \"x\", maxnegedge as \"y\" FROM hourly_practice;",
        "output": "str",
        "x": 460,
        "y": 3280,
        "wires": [
            [
                "ced8d968.6906e8"
            ]
        ]
    },
    {
        "id": "5b4f94a9.a4babc",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 657,
        "y": 3220,
        "wires": []
    },
    {
        "id": "1a33db44.171245",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 890,
        "y": 3280,
        "wires": [
            [
                "53351127.e2103",
                "9baaeceb.af67e"
            ]
        ]
    },
    {
        "id": "53351127.e2103",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1077,
        "y": 3280,
        "wires": []
    },
    {
        "id": "ced8d968.6906e8",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 680,
        "y": 3280,
        "wires": [
            [
                "5b4f94a9.a4babc",
                "1a33db44.171245"
            ]
        ]
    },
    {
        "id": "9baaeceb.af67e",
        "type": "ui_chart",
        "z": "7329e9b3.909368",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 9,
        "width": 0,
        "height": 0,
        "label": "maxnegedge (hourly_practice db)",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1200,
        "y": 3220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b55bbf32.79d68",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "1 HOUR",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 300,
        "y": 3500,
        "wires": [
            [
                "2cbfcca6.40c8a4"
            ]
        ]
    },
    {
        "id": "2cbfcca6.40c8a4",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var myinterval = msg.payload;\nmsg.interval = myinterval;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 3500,
        "wires": [
            [
                "8693ea18.3b7858"
            ]
        ]
    },
    {
        "id": "8693ea18.3b7858",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "SELECT FROM WHERE GROUP BY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT DATE_SUB(timestamp, INTERVAL MINUTE(timestamp)*60+SECOND(timestamp) SECOND ), COUNT(*) FROM practice WHERE timestamp < DATE_SUB(DATE_SUB(NOW(), INTERVAL MINUTE(NOW())*60+SECOND(NOW()) SECOND), INTERVAL {{interval}}) GROUP BY HOUR(timestamp) ORDER BY timestamp ASC;",
        "output": "str",
        "x": 710,
        "y": 3500,
        "wires": [
            [
                "2e7e3c33.55b9a4"
            ]
        ]
    },
    {
        "id": "2e7e3c33.55b9a4",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 440,
        "y": 3540,
        "wires": [
            [
                "1a77b966.033da7"
            ]
        ]
    },
    {
        "id": "1a77b966.033da7",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 610,
        "y": 3540,
        "wires": []
    },
    {
        "id": "846872f.9d8599",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "SELECT minimum timestap in the practice data to be aggregated",
        "info": "",
        "x": 630,
        "y": 3420,
        "wires": []
    },
    {
        "id": "19a38c39.dde1a4",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "SELECT maximum timestap in the hourly_practice data",
        "info": "",
        "x": 580,
        "y": 3640,
        "wires": []
    },
    {
        "id": "c9b7b7d2.de3da8",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "TO PREVENT DUPLICATES only load aggregates when minimum > maximum",
        "info": "",
        "x": 650,
        "y": 3700,
        "wires": []
    },
    {
        "id": "1d99a5a6.340c0a",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "THIS ENABLES CALLING the aggregation procedure more often than ",
        "info": "",
        "x": 630,
        "y": 3760,
        "wires": []
    },
    {
        "id": "dc154988.f0c768",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "also enables different borders for deletion and aggregation",
        "info": "",
        "x": 590,
        "y": 3820,
        "wires": []
    },
    {
        "id": "68ba20d1.265d6",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 300,
        "y": 3920,
        "wires": [
            [
                "b07b0a01.c72a38"
            ]
        ]
    },
    {
        "id": "b07b0a01.c72a38",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "SELECT MAX(datetime) from hourly_practice",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT (MAX(datetime) < NOW()) OR (COUNT(*) = 0) FROM hourly_practice",
        "output": "str",
        "x": 550,
        "y": 3920,
        "wires": [
            [
                "e3e377f0.3222b8"
            ]
        ]
    },
    {
        "id": "92395bca.af84c8",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1050,
        "y": 3920,
        "wires": []
    },
    {
        "id": "e3e377f0.3222b8",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 860,
        "y": 3920,
        "wires": [
            [
                "92395bca.af84c8"
            ]
        ]
    },
    {
        "id": "e85550b8.0874c",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "SELECT FROM WHERE GROUP BY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT DATE_SUB(DATE_SUB(NOW(), INTERVAL MINUTE(NOW())*60+SECOND(NOW()) SECOND), INTERVAL {{interval}}) ;",
        "output": "str",
        "x": 550,
        "y": 3980,
        "wires": [
            [
                "c1c0baaf.4cfef8"
            ]
        ]
    },
    {
        "id": "bcf96f59.2791d",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "1 HOUR",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 160,
        "y": 3980,
        "wires": [
            [
                "d6a1916d.1479a"
            ]
        ]
    },
    {
        "id": "d6a1916d.1479a",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var myinterval = msg.payload;\nmsg.interval = myinterval;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 3980,
        "wires": [
            [
                "e85550b8.0874c"
            ]
        ]
    },
    {
        "id": "c1c0baaf.4cfef8",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 880,
        "y": 3980,
        "wires": [
            [
                "2b787306.a6641c"
            ]
        ]
    },
    {
        "id": "2b787306.a6641c",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1070,
        "y": 3980,
        "wires": []
    },
    {
        "id": "407d9375.8f31dc",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "timestamp > this expression",
        "info": "",
        "x": 1300,
        "y": 3920,
        "wires": []
    },
    {
        "id": "c3d5de1b.715d1",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "timestamp > this expression",
        "info": "",
        "x": 1300,
        "y": 3980,
        "wires": []
    },
    {
        "id": "5cbb8bae.0814a4",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "timestamp < laatste afgeronde period  MAAR > max timestap in aggregaat file",
        "info": "",
        "x": 650,
        "y": 3880,
        "wires": []
    },
    {
        "id": "27d99837.6c4dc8",
        "type": "comment",
        "z": "7329e9b3.909368",
        "name": "wat als de aggregaat file leeg is??? dan  is de conditie time stamp > altijd true",
        "info": "",
        "x": 650,
        "y": 4060,
        "wires": []
    },
    {
        "id": "357060c6.b972c",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "get max",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT UNIX_TIMESTAMP(MAX(datetime)) AS mymax FROM hourly_practice; ",
        "output": "str",
        "x": 640,
        "y": 2260,
        "wires": [
            [
                "769d6c6c.031754"
            ]
        ]
    },
    {
        "id": "769d6c6c.031754",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 880,
        "y": 2260,
        "wires": [
            [
                "478eba99.9fdc54"
            ]
        ]
    },
    {
        "id": "478eba99.9fdc54",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "var mymax = msg.payload[0].mymax;\nmsg.max_agg_time = msg.payload[0].mymax;\nif (mymax === null) {msg.max_agg_time = 0}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 2260,
        "wires": [
            [
                "babb977c.6ced58",
                "39370b1e.0dbd04"
            ]
        ]
    },
    {
        "id": "bf26eb5b.d7d238",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 760,
        "y": 2360,
        "wires": [
            [
                "d7c1c89c.bca038",
                "ce4b4ef6.2becd",
                "8749051d.350ef8"
            ]
        ]
    },
    {
        "id": "d7c1c89c.bca038",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "BBBBBB",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 980,
        "y": 2420,
        "wires": []
    },
    {
        "id": "d206e3d8.3154e",
        "type": "delay",
        "z": "7329e9b3.909368",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 320,
        "y": 2180,
        "wires": [
            [
                "5ce104a2.a11e9c"
            ]
        ]
    },
    {
        "id": "fc336998.f0e958",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "99 HOUR",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 260,
        "y": 2260,
        "wires": [
            [
                "5ce104a2.a11e9c"
            ]
        ]
    },
    {
        "id": "babb977c.6ced58",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "INSERT INTO SELECT FROM WHERE GROUP BY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO hourly_practice (datetime, avgpower, maxpower, minpower, maxposedge, maxnegedge) SELECT DATE_SUB(timestamp, INTERVAL MINUTE(timestamp) *60 + SECOND(timestamp) SECOND ), AVG(power), MAX(power), MIN(power), MAX(posedge), MAX(negedge) FROM epower2  WHERE timestamp < DATE_SUB(NOW(), INTERVAL MINUTE(NOW())*60+SECOND(NOW()) SECOND) AND timestamp > FROM_UNIXTIME(\"{{max_agg_time}}\")  GROUP BY DATE_SUB(timestamp, INTERVAL MINUTE(timestamp)*60+SECOND(timestamp) SECOND) ORDER BY timestamp;  ",
        "output": "str",
        "x": 400,
        "y": 2360,
        "wires": [
            []
        ]
    },
    {
        "id": "2240bcd0.147f94",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "",
        "topic": "",
        "payload": "99 HOUR",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 200,
        "y": 4200,
        "wires": [
            [
                "e08b00e4.6ac3f",
                "91ba3c86.3303b"
            ]
        ]
    },
    {
        "id": "e08b00e4.6ac3f",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "get max",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT UNIX_TIMESTAMP(MAX(datetime)) AS mymax FROM hourly_practice; ",
        "output": "str",
        "x": 360,
        "y": 4200,
        "wires": [
            [
                "5ec35b3e.bdb2f4"
            ]
        ]
    },
    {
        "id": "5ec35b3e.bdb2f4",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 560,
        "y": 4200,
        "wires": [
            [
                "d56c94d1.645ff8"
            ]
        ]
    },
    {
        "id": "d56c94d1.645ff8",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "msg.max_agg_time = msg.payload[0].mymax;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 790,
        "y": 4200,
        "wires": [
            [
                "d1d493fb.593dd",
                "ecb5799b.c61478",
                "5acbf560.48de3c"
            ]
        ]
    },
    {
        "id": "d1d493fb.593dd",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 950,
        "y": 4200,
        "wires": []
    },
    {
        "id": "91ba3c86.3303b",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "INSERT INTO SELECT FROM WHERE GROUP BY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT MAX(DATE_SUB(timestamp, INTERVAL MINUTE(timestamp) *60 + SECOND(timestamp) SECOND )) from epower2;  ",
        "output": "str",
        "x": 520,
        "y": 4300,
        "wires": [
            [
                "fac9dfa0.c762d"
            ]
        ]
    },
    {
        "id": "fac9dfa0.c762d",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 860,
        "y": 4300,
        "wires": [
            [
                "f4f72084.5251b"
            ]
        ]
    },
    {
        "id": "f4f72084.5251b",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1090,
        "y": 4300,
        "wires": []
    },
    {
        "id": "ecb5799b.c61478",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "INSERT INTO SELECT FROM WHERE GROUP BY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT DATE_SUB(timestamp, INTERVAL MINUTE(timestamp) *60 + SECOND(timestamp) SECOND ) as wholehour from epower2 ORDER BY timestamp DESC;  ",
        "output": "str",
        "x": 680,
        "y": 4440,
        "wires": [
            [
                "62b647f0.1f4058",
                "888a99ed.f053a8"
            ]
        ]
    },
    {
        "id": "62b647f0.1f4058",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 1040,
        "y": 4440,
        "wires": [
            [
                "12893765.2f8be9"
            ]
        ]
    },
    {
        "id": "12893765.2f8be9",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1230,
        "y": 4440,
        "wires": []
    },
    {
        "id": "888a99ed.f053a8",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 990,
        "y": 4400,
        "wires": []
    },
    {
        "id": "5acbf560.48de3c",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "INSERT INTO SELECT FROM WHERE GROUP BY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT DATE_SUB(timestamp, INTERVAL MINUTE(timestamp) *60 + SECOND(timestamp) SECOND ) as wholehour from epower2 WHERE DATE_SUB(timestamp, INTERVAL MINUTE(timestamp) *60 + SECOND(timestamp) SECOND )  > FROM_UNIXTIME(\"{{max_agg_time}}\") ORDER BY timestamp DESC;  ",
        "output": "str",
        "x": 680,
        "y": 4480,
        "wires": [
            [
                "bf7bcbab.b155f8",
                "33d1e402.76fe8c"
            ]
        ]
    },
    {
        "id": "bf7bcbab.b155f8",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 1060,
        "y": 4520,
        "wires": [
            [
                "d7a27b95.c86728"
            ]
        ]
    },
    {
        "id": "d7a27b95.c86728",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1230,
        "y": 4520,
        "wires": []
    },
    {
        "id": "33d1e402.76fe8c",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 910,
        "y": 4600,
        "wires": []
    },
    {
        "id": "39370b1e.0dbd04",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "INSERT INTO SELECT FROM WHERE GROUP BY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO hourly_practice (datetime, avgpower, maxpower, minpower, maxposedge, maxnegedge) SELECT DATE_SUB(timestamp, INTERVAL MINUTE(timestamp) *60 + SECOND(timestamp) SECOND ), AVG(power), MAX(power), MIN(power), MAX(posedge), MAX(negedge) FROM epower2  WHERE timestamp < DATE_SUB(NOW(), INTERVAL MINUTE(NOW())*60+SECOND(NOW()) SECOND) AND DATE_SUB(timestamp, INTERVAL MINUTE(timestamp) *60 + SECOND(timestamp) SECOND ) > FROM_UNIXTIME(\"{{max_agg_time}}\")  GROUP BY DATE_SUB(timestamp, INTERVAL MINUTE(timestamp)*60+SECOND(timestamp) SECOND) ORDER BY timestamp;  ",
        "output": "str",
        "x": 400,
        "y": 2420,
        "wires": [
            [
                "bf26eb5b.d7d238"
            ]
        ]
    },
    {
        "id": "8749051d.350ef8",
        "type": "function",
        "z": "7329e9b3.909368",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 2740,
        "wires": [
            [
                "e4f75772.cbee58",
                "47fc7b02.af3754",
                "eac84b55.063168"
            ]
        ]
    },
    {
        "id": "5e1dca5d.2ad9a4",
        "type": "template",
        "z": "7329e9b3.909368",
        "name": "DELETE FROM epower2  7 DAY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DELETE FROM epower2 WHERE timestamp < DATE_SUB(NOW(), INTERVAL 7 DAY) ;  ",
        "output": "str",
        "x": 390,
        "y": 1466,
        "wires": [
            [
                "57895963.1c21d8"
            ]
        ]
    },
    {
        "id": "dca1f8c.9f16508",
        "type": "debug",
        "z": "7329e9b3.909368",
        "name": "CCCCCC",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 840,
        "y": 1466,
        "wires": []
    },
    {
        "id": "57895963.1c21d8",
        "type": "mysql",
        "z": "7329e9b3.909368",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 1466,
        "wires": [
            [
                "dca1f8c.9f16508"
            ]
        ]
    },
    {
        "id": "7659d1a0.fe313",
        "type": "inject",
        "z": "7329e9b3.909368",
        "name": "DELETE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 180,
        "y": 1466,
        "wires": [
            [
                "5e1dca5d.2ad9a4"
            ]
        ]
    },
    {
        "id": "a62a51c9.61e58",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CUMULATIVE POSEDGE",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Sumpos := 0;\nSET @Sumneg := 0;\nSET @Sumtot := 0;\nSELECT \n    timestamp,\n    posedge,\n    (@Sumpos := @Sumpos + posedge) AS cum_posedge,\n    (@Sumneg := @Sumneg + negedge) AS cum_negedge,\n    (@Sumtot := @Sumtot + posedge - negedge) AS cum_power\nFROM epower2\nORDER BY power_id; ",
        "output": "str",
        "x": 330,
        "y": 2080,
        "wires": [
            [
                "4b4b06eb.36cd58"
            ]
        ]
    },
    {
        "id": "b9e9043d.4c8558",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "CUM",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 2080,
        "wires": [
            [
                "a62a51c9.61e58"
            ]
        ]
    },
    {
        "id": "4b4b06eb.36cd58",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 600,
        "y": 2080,
        "wires": [
            [
                "79cad44f.d5b9ec",
                "f0562d1b.f059"
            ]
        ]
    },
    {
        "id": "100d88f2.b9c907",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "COMPOSE CHART",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 2220,
        "wires": [
            [
                "1dcf8447.6f152c",
                "59e8ee66.99ef8"
            ]
        ]
    },
    {
        "id": "1dcf8447.6f152c",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "GRAPH",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1140,
        "y": 2160,
        "wires": []
    },
    {
        "id": "59e8ee66.99ef8",
        "type": "ui_chart",
        "z": "2b73b789.bed1b8",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "CUM power",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1230,
        "y": 2240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7d4a273.e97fbd8",
        "type": "split",
        "z": "2b73b789.bed1b8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 170,
        "y": 2240,
        "wires": [
            [
                "8327ac6b.86ae4",
                "c5aac125.9dd78"
            ]
        ]
    },
    {
        "id": "a12c7dec.112d9",
        "type": "join",
        "z": "2b73b789.bed1b8",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 650,
        "y": 2240,
        "wires": [
            [
                "307fe555.e3bc4a",
                "100d88f2.b9c907"
            ]
        ]
    },
    {
        "id": "c5aac125.9dd78",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "SELECT X & Y",
        "func": "var myx = msg.payload.timestamp;\n//var myy = msg.payload.cum_posedge;\n//var myy = msg.payload.cum_negedge;\nvar myy = msg.payload.cum_power;\nmsg.payload = {};\nmsg.payload.x = myx;\nmsg.payload.y = myy;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 480,
        "y": 2240,
        "wires": [
            [
                "a12c7dec.112d9",
                "49e7c2f9.f9bd7c"
            ]
        ]
    },
    {
        "id": "8327ac6b.86ae4",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMCCC",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 320,
        "y": 2160,
        "wires": []
    },
    {
        "id": "49e7c2f9.f9bd7c",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMEEE",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 640,
        "y": 2160,
        "wires": []
    },
    {
        "id": "79cad44f.d5b9ec",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "FILTER RESPONSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[3]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 2080,
        "wires": [
            [
                "b6b6a48e.1118c8",
                "7d4a273.e97fbd8"
            ]
        ]
    },
    {
        "id": "b6b6a48e.1118c8",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUM3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1130,
        "y": 2040,
        "wires": []
    },
    {
        "id": "f0562d1b.f059",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUM",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 830,
        "y": 2020,
        "wires": []
    },
    {
        "id": "307fe555.e3bc4a",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMGGG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 810,
        "y": 2160,
        "wires": []
    },
    {
        "id": "2f2444c1.c3040c",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "FIND PEAKSTARTS",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 150,
        "y": 2360,
        "wires": [
            [
                "c07f954c.2b4b78"
            ]
        ]
    },
    {
        "id": "15b81a90.7c1d65",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 620,
        "y": 2480,
        "wires": [
            [
                "ff7f255f.d0b818",
                "db2b2c0e.d9fb4"
            ]
        ]
    },
    {
        "id": "7d67bcae.05e5f4",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "COMPOSE CHART",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1030,
        "y": 2640,
        "wires": [
            [
                "e4ca34f3.37b728",
                "754c1019.42877"
            ]
        ]
    },
    {
        "id": "e4ca34f3.37b728",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "GRAPH",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1160,
        "y": 2560,
        "wires": []
    },
    {
        "id": "754c1019.42877",
        "type": "ui_chart",
        "z": "2b73b789.bed1b8",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "SHAVING TEST",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1260,
        "y": 2640,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d73c0350.5bc63",
        "type": "split",
        "z": "2b73b789.bed1b8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 190,
        "y": 2640,
        "wires": [
            [
                "7f31068d.803558",
                "33f655bb.e8e68a"
            ]
        ]
    },
    {
        "id": "eba99f51.852a5",
        "type": "join",
        "z": "2b73b789.bed1b8",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 670,
        "y": 2640,
        "wires": [
            [
                "ba56f5f8.c90608",
                "7d67bcae.05e5f4"
            ]
        ]
    },
    {
        "id": "33f655bb.e8e68a",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "SELECT X & Y",
        "func": "var myx = msg.payload.timestamp;\n//var myy = msg.payload.cum_posedge;\n//var myy = msg.payload.cum_negedge;\nvar myy = msg.payload.contrast;\nmsg.payload = {};\nmsg.payload.x = myx;\nmsg.payload.y = myy;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 2640,
        "wires": [
            [
                "eba99f51.852a5",
                "cd591105.50e7"
            ]
        ]
    },
    {
        "id": "7f31068d.803558",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMCCC",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 340,
        "y": 2560,
        "wires": []
    },
    {
        "id": "cd591105.50e7",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMEEE",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 660,
        "y": 2560,
        "wires": []
    },
    {
        "id": "ff7f255f.d0b818",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "FILTER RESPONSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[3]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 2480,
        "wires": [
            [
                "1fddfc20.38e324",
                "d73c0350.5bc63"
            ]
        ]
    },
    {
        "id": "1fddfc20.38e324",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUM3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1150,
        "y": 2440,
        "wires": []
    },
    {
        "id": "db2b2c0e.d9fb4",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 850,
        "y": 2420,
        "wires": []
    },
    {
        "id": "ba56f5f8.c90608",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMGGG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 830,
        "y": 2560,
        "wires": []
    },
    {
        "id": "130c1dfe.e23d92",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 1",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @Dummy2 := 0;\nSET @Dummy3 := 0;\nSELECT \n    timestamp,\n    power,\n    posedge,\n    posedge/(power-posedge) AS contrast,\n    (@Start :=  timestamp) AS peak_start\nFROM epower2\nWHERE posedge > 1800\nORDER BY power_id; ",
        "output": "str",
        "x": 530,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "c07f954c.2b4b78",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE table peak_starts",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "USE nodered_db;\nCREATE TABLE IF NOT EXISTS peak_starts \n    (\n    peak_id INT NOT NULL AUTO_INCREMENT, \n    start_id INT,\n    peak_start DATETIME,\n    power_s INT(5),\n    posedge INT(5),\n    end_id INT,\n    peak_end DATETIME,\n    negedge INT(5),\n    power_e INT(5),\n    duration TIME,\n    PRIMARY KEY (peak_id)\n    );",
        "output": "str",
        "x": 220,
        "y": 2480,
        "wires": [
            [
                "228ad750.3e3618"
            ]
        ]
    },
    {
        "id": "c1ff79d4.7db018",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 2",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @Dummy2 := 0;\nSET @Dummy3 := 0;\nINSERT INTO peak_starts (start_id, peak_start, power_s, posedge, end_id, peak_end, negedge, power_e, duration) \nSELECT \n    power_id, \n    timestamp,\n    power,\n    posedge,\n    null,\n    null,\n    null,\n    null,\n    null\nFROM epower2\nWHERE posedge > 1800\nORDER BY power_id;",
        "output": "str",
        "x": 570,
        "y": 2420,
        "wires": [
            [
                "15b81a90.7c1d65"
            ]
        ]
    },
    {
        "id": "228ad750.3e3618",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 360,
        "y": 2400,
        "wires": [
            [
                "c1ff79d4.7db018"
            ]
        ]
    },
    {
        "id": "eef3f903.8fc8e8",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST peak_starts",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 2740,
        "wires": [
            [
                "ca5076b7.5aed28"
            ]
        ]
    },
    {
        "id": "ca5076b7.5aed28",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE table peak_starts",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM peak_starts;",
        "output": "str",
        "x": 440,
        "y": 2740,
        "wires": [
            [
                "7d5f58c2.63f428"
            ]
        ]
    },
    {
        "id": "7d5f58c2.63f428",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 720,
        "y": 2740,
        "wires": [
            [
                "676372ce.14f0cc"
            ]
        ]
    },
    {
        "id": "676372ce.14f0cc",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAKS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 960,
        "y": 2740,
        "wires": []
    },
    {
        "id": "949fd1fc.f2d36",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "DROP peak_starts",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 210,
        "y": 2820,
        "wires": [
            [
                "a37e3948.fe7ed8"
            ]
        ]
    },
    {
        "id": "a37e3948.fe7ed8",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE table peak_starts",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE peak_starts;",
        "output": "str",
        "x": 440,
        "y": 2820,
        "wires": [
            [
                "3dc53bd.006afc4"
            ]
        ]
    },
    {
        "id": "3dc53bd.006afc4",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 720,
        "y": 2820,
        "wires": [
            [
                "533f2039.9cc34"
            ]
        ]
    },
    {
        "id": "533f2039.9cc34",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAKS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 960,
        "y": 2820,
        "wires": []
    },
    {
        "id": "6c80a3ff.545afc",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "CREATE table PEAKENDS",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 210,
        "y": 3040,
        "wires": [
            [
                "67f416eb.e64858"
            ]
        ]
    },
    {
        "id": "61168677.17f378",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 700,
        "y": 3160,
        "wires": [
            [
                "38796862.5da658",
                "cc6174db.bebd08"
            ]
        ]
    },
    {
        "id": "157bbb9b.b57f44",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 3",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @Dummy2 := 0;\nSET @Dummy3 := 0;\nINSERT INTO peak_ends (start_id, peak_start, power_s, posedge, end_id, peak_end, negedge, power_e, duration) \nSELECT \n    null, \n    null,\n    null,\n    null,\n    power_id,\n    timestamp,\n    negedge,\n    power,\n    null\nFROM epower2\nWHERE negedge > 1800\nORDER BY power_id;",
        "output": "str",
        "x": 470,
        "y": 3160,
        "wires": [
            [
                "61168677.17f378"
            ]
        ]
    },
    {
        "id": "34f7442a.40d21c",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAK_ENDS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1100,
        "y": 3120,
        "wires": []
    },
    {
        "id": "38796862.5da658",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "FILTER RESPONSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[3]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 3160,
        "wires": [
            [
                "34f7442a.40d21c"
            ]
        ]
    },
    {
        "id": "5b2fc101.a5faa",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "MATCH STARTS END ENDS",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 140,
        "y": 3280,
        "wires": [
            [
                "ce4abbce.79bea8"
            ]
        ]
    },
    {
        "id": "a716acdb.3eae6",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 700,
        "y": 3298,
        "wires": [
            [
                "df5497c5.023a08",
                "c5de65d3.d06ec8"
            ]
        ]
    },
    {
        "id": "75659358.92c79c",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAK_ENDS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1260,
        "y": 3278,
        "wires": []
    },
    {
        "id": "df5497c5.023a08",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "FILTER RESPONSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[3]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 3278,
        "wires": [
            [
                "75659358.92c79c"
            ]
        ]
    },
    {
        "id": "ce4abbce.79bea8",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 4",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @Dummy2 := 0;\nSET @Dummy3 := 0;\n\n\nSELECT\n    power_id AS end_id, \n    timestamp AS peak_end,\n    power AS power_e,\n    negedge\nFROM epower2\nWHERE (negedge > 1800) AND (SELECT start_id FROM peak_starts WHERE start_id < power_id LIMIT 1)\n\nORDER BY power_id\n;",
        "output": "str",
        "x": 430,
        "y": 3280,
        "wires": [
            [
                "a716acdb.3eae6"
            ]
        ]
    },
    {
        "id": "1e5a7ff5.905ca",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING by INNER JOIN 5",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @Dummy2 := 0;\nSET @Dummy3 := 0;\n\n\nSELECT \n    peak_ends.end_id,\n    peak_ends.peak_end,\n    peak_ends.power_e,\n    peak_ends.negedge\nFROM peak_ends\nINNER JOIN epower2 ON ( peak_ends.end_id > epower2.power_id)\n;",
        "output": "str",
        "x": 440,
        "y": 3220,
        "wires": [
            []
        ]
    },
    {
        "id": "87bd3e43.59b48",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "LIST peak_ends",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 2880,
        "wires": [
            [
                "2eddb055.aec14"
            ]
        ]
    },
    {
        "id": "2eddb055.aec14",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE table peak_ends",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM peak_ends;",
        "output": "str",
        "x": 430,
        "y": 2880,
        "wires": [
            [
                "5ac2456d.f0365c"
            ]
        ]
    },
    {
        "id": "5ac2456d.f0365c",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 720,
        "y": 2880,
        "wires": [
            [
                "e87aa49.0bdd458"
            ]
        ]
    },
    {
        "id": "e87aa49.0bdd458",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAKS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 960,
        "y": 2880,
        "wires": []
    },
    {
        "id": "a4d13028.07195",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "DROP peak_ends",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 210,
        "y": 2960,
        "wires": [
            [
                "72c98f52.82259"
            ]
        ]
    },
    {
        "id": "72c98f52.82259",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE table peak_ends",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE peak_ends;",
        "output": "str",
        "x": 430,
        "y": 2960,
        "wires": [
            [
                "7ddd1c5e.f85f84"
            ]
        ]
    },
    {
        "id": "7ddd1c5e.f85f84",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 720,
        "y": 2960,
        "wires": [
            [
                "fa36d822.6c99b8"
            ]
        ]
    },
    {
        "id": "fa36d822.6c99b8",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAKS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 960,
        "y": 2960,
        "wires": []
    },
    {
        "id": "67f416eb.e64858",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE table peak_ends",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "USE nodered_db;\nCREATE TABLE IF NOT EXISTS peak_ends \n    (\n    peak_id INT NOT NULL AUTO_INCREMENT, \n    start_id INT,\n    peak_start DATETIME,\n    power_s INT(5),\n    posedge INT(5),\n    end_id INT,\n    peak_end DATETIME,\n    negedge INT(5),\n    power_e INT(5),\n    duration TIME,\n    PRIMARY KEY (peak_id)\n    );",
        "output": "str",
        "x": 470,
        "y": 3040,
        "wires": [
            [
                "6721ab40.c34e14"
            ]
        ]
    },
    {
        "id": "6721ab40.c34e14",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 720,
        "y": 3040,
        "wires": [
            [
                "7bf4998f.886388"
            ]
        ]
    },
    {
        "id": "c5de65d3.d06ec8",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAK_ENDS",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 980,
        "y": 3238,
        "wires": []
    },
    {
        "id": "cc6174db.bebd08",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAK_ENDS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 880,
        "y": 3120,
        "wires": []
    },
    {
        "id": "23fa802b.26c04",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "FIND PEAK ENDS",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 270,
        "y": 3160,
        "wires": [
            [
                "157bbb9b.b57f44"
            ]
        ]
    },
    {
        "id": "7bf4998f.886388",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "PEAK_ENDS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1020,
        "y": 3040,
        "wires": []
    },
    {
        "id": "c0dfd0e1.0ff71",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 4",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @End := 0;\nSET @Pos := 0;\nSELECT \n    timestamp,\n    IF (negedge > 1500, @POS, posedge) as posedge,\n    @Pos := IF (posedge > 1500, posedge, posedge),\n    negedge,\n    IF (negedge > 1500, @START, timestamp ) AS peak_start,\n    IF (negedge > 1500, timestamp, 0) AS peak_end,\n    @Start := IF(posedge > 1500, timestamp, @Start ),\n    @End := IF(negedge > 1500, timestamp, 0 ) \nFROM epower2\nWHERE (posedge > 1500) OR (negedge > 1500)\nORDER BY power_id; ",
        "output": "str",
        "x": 310,
        "y": 3445,
        "wires": [
            []
        ]
    },
    {
        "id": "6a149b9a.62be64",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "SHAVE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 110,
        "y": 3525,
        "wires": [
            [
                "c910a72e.f2c8c8"
            ]
        ]
    },
    {
        "id": "ccbcb44a.4c8b78",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 580,
        "y": 3525,
        "wires": [
            [
                "d433945a.e03128",
                "c0b42b03.c64088"
            ]
        ]
    },
    {
        "id": "d433945a.e03128",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "FILTER RESPONSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[3]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 3525,
        "wires": [
            [
                "b58071bc.921c9"
            ]
        ]
    },
    {
        "id": "b58071bc.921c9",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUM",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1050,
        "y": 3525,
        "wires": []
    },
    {
        "id": "1974536c.4eb16d",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 3",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @End := 0;\nSELECT \n    timestamp,\n    posedge,\n    negedge,\n    IF(posedge > 1500, \"A\", \"B\" ) AS status\nFROM epower2\nWHERE (posedge > 1500) OR (negedge > 1500)\nORDER BY power_id; ",
        "output": "str",
        "x": 310,
        "y": 3385,
        "wires": [
            []
        ]
    },
    {
        "id": "c0b42b03.c64088",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUM",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 850,
        "y": 3445,
        "wires": []
    },
    {
        "id": "16314e35.6e2032",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 5",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @End := 0;\nSET @Pos := 0;\nSELECT \n    timestamp,\n    IF (negedge > 1500, @POS, posedge) as posedge,\n    @Pos := IF (posedge > 1500, posedge, posedge) AS posvar,\n    negedge,\n    IF (negedge > 1500, @START, timestamp ) AS peak_start,\n    IF (negedge > 1500, timestamp, 0) AS peak_end,\n    @Start := IF(posedge > 1500, timestamp, @Start ) AS startvar,\n    @End := IF(negedge > 1500, timestamp, 0 ) AS endvar\n\nFROM epower2\nWHERE (posedge > 1500) OR (negedge > 1500)\nORDER BY power_id; ",
        "output": "str",
        "x": 310,
        "y": 3505,
        "wires": [
            []
        ]
    },
    {
        "id": "c910a72e.f2c8c8",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "SHAVING 6",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SET @Start := 0;\nSET @End := 0;\nSET @Pos := 0;\nSELECT \n    timestamp,\n    IF (negedge > 1500, @POS, posedge) as posedge,\n    @Pos := IF (posedge > 1500, posedge, posedge) AS posvar,\n    negedge,\n    @Start := IF(posedge > 1500, timestamp, @Start ) AS peak_start,\n    @End := IF(negedge > 1500, timestamp, 0 ) AS peak_end,\n    TIMEDIFF(@End,@Start) AS duration_x,\n    TIMESTAMPDIFF(SECOND, @End, @Start) AS duration_y\nFROM epower2\nWHERE (posedge > 1500) OR (negedge > 1500)\nORDER BY power_id; ",
        "output": "str",
        "x": 310,
        "y": 3565,
        "wires": [
            [
                "ccbcb44a.4c8b78"
            ]
        ]
    },
    {
        "id": "a8fadddb.0ec7a",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE PROCEDURE makebins Creation of BIN TABLE",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE PROCEDURE makebins(numbins INT, binsize FLOAT) # binsize may be NULL for auto-size\nBEGIN\n SELECT FLOOR(MIN(posedge)) INTO @binmin FROM epower2;\n SELECT CEIL(MAX(posedge)) INTO @binmax FROM epower2;\n IF binsize IS NULL \n  THEN SET binsize = CEIL((@binmax-@binmin)/numbins); # CEIL here may prevent the potential creation a very small extra bin due to rounding errors, but no good where floats are needed.\n END IF;\n SET @currlim = @binmin;\n WHILE @currlim + binsize < @binmax DO\n  INSERT INTO bins VALUES (@currlim, @currlim+binsize);\n  SET @currlim = @currlim + binsize;\n END WHILE;\n INSERT INTO bins VALUES (@currlim, @maxbin);\nEND;",
        "output": "str",
        "x": 450,
        "y": 3700,
        "wires": [
            [
                "ff887eff.01d39"
            ]
        ]
    },
    {
        "id": "343eb4e4.44149c",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "CREATE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 3700,
        "wires": [
            [
                "a8fadddb.0ec7a"
            ]
        ]
    },
    {
        "id": "ff887eff.01d39",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 800,
        "y": 3700,
        "wires": [
            [
                "ec8abac5.f3a708"
            ]
        ]
    },
    {
        "id": "ec8abac5.f3a708",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUM",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1010,
        "y": 3700,
        "wires": []
    },
    {
        "id": "ed25dbc1.307c58",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "DROP PROCEDURE makebins",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP PROCEDURE makebins;",
        "output": "str",
        "x": 370,
        "y": 3760,
        "wires": [
            [
                "ff887eff.01d39"
            ]
        ]
    },
    {
        "id": "df186e48.b6803",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "DROP",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 110,
        "y": 3760,
        "wires": [
            [
                "ed25dbc1.307c58",
                "a002ddb3.f5656"
            ]
        ]
    },
    {
        "id": "a5d804d4.b649e8",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE HISTOGRAM",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE IF EXISTS bins; # be careful if you have a bins table of your own.\nCREATE TEMPORARY TABLE bins (\nminval INT, maxval INT, # or FLOAT, if needed\nKEY (minval), KEY (maxval) );# keys could perhaps help if using a lot of bins; normally negligible\n\nCALL makebins(20, NULL);  # Using 20 bins of automatic size here. \n\nSELECT bins.*, count(*) AS total FROM bins\nLEFT JOIN epower2 ON epower2.posedge BETWEEN bins.minval AND bins.maxval\nGROUP BY bins.minval;",
        "output": "str",
        "x": 350,
        "y": 3840,
        "wires": [
            [
                "485a7b16.315904"
            ]
        ]
    },
    {
        "id": "d066011f.d11ea",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "HISTOGRAM",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 3840,
        "wires": [
            [
                "a5d804d4.b649e8"
            ]
        ]
    },
    {
        "id": "91e55855.ef4278",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "COMPOSE CHART",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 4013,
        "wires": [
            [
                "ff29ed54.2ffca",
                "287af887.dee3b8"
            ]
        ]
    },
    {
        "id": "ff29ed54.2ffca",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "GRAPH",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1100,
        "y": 3933,
        "wires": []
    },
    {
        "id": "287af887.dee3b8",
        "type": "ui_chart",
        "z": "2b73b789.bed1b8",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "POSEDGE HISTOGRAM",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "200",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1230,
        "y": 4013,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "74193bb.7571dc4",
        "type": "split",
        "z": "2b73b789.bed1b8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 130,
        "y": 4013,
        "wires": [
            [
                "e6471bfb.be3d08",
                "8bb07a3.2929d88"
            ]
        ]
    },
    {
        "id": "1c746983.59a2f6",
        "type": "join",
        "z": "2b73b789.bed1b8",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 610,
        "y": 4013,
        "wires": [
            [
                "d3fbbe26.3ad1",
                "91e55855.ef4278"
            ]
        ]
    },
    {
        "id": "8bb07a3.2929d88",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "SELECT X & Y",
        "func": "var myx = msg.payload.maxval;\n//var myy = msg.payload.cum_posedge;\n//var myy = msg.payload.cum_negedge;\nvar myy = msg.payload.total;\nmsg.payload = {};\nmsg.payload.x = myx;\nmsg.payload.y = myy;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 440,
        "y": 4013,
        "wires": [
            [
                "1c746983.59a2f6",
                "c7216cce.14704"
            ]
        ]
    },
    {
        "id": "e6471bfb.be3d08",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMCCC",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 280,
        "y": 3933,
        "wires": []
    },
    {
        "id": "c7216cce.14704",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMEEE",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 600,
        "y": 3933,
        "wires": []
    },
    {
        "id": "d3fbbe26.3ad1",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMGGG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 770,
        "y": 3933,
        "wires": []
    },
    {
        "id": "c8c4a8b5.53c4a8",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "FILTER RESPONSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[3]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 3840,
        "wires": [
            [
                "74193bb.7571dc4"
            ]
        ]
    },
    {
        "id": "212447d1.75ce68",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 322,
        "y": 1562,
        "wires": [
            [
                "d988a6a6.3462a8"
            ]
        ]
    },
    {
        "id": "d988a6a6.3462a8",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 462,
        "y": 1562,
        "wires": [
            [
                "ffe5f991.0079d8"
            ]
        ]
    },
    {
        "id": "f24647b1.dec0e8",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 830,
        "y": 2680,
        "wires": [
            [
                "bab5d5f8.be8db8"
            ]
        ]
    },
    {
        "id": "bab5d5f8.be8db8",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 2680,
        "wires": [
            [
                "754c1019.42877"
            ]
        ]
    },
    {
        "id": "de0d430f.1621b",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 310,
        "y": 1960,
        "wires": [
            [
                "d1205b5e.775ba8"
            ]
        ]
    },
    {
        "id": "d1205b5e.775ba8",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 450,
        "y": 1960,
        "wires": [
            [
                "1fb1b49f.06ee3b"
            ]
        ]
    },
    {
        "id": "7ea6f288.c188bc",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 830,
        "y": 4133,
        "wires": [
            [
                "1774568b.8b7829"
            ]
        ]
    },
    {
        "id": "1774568b.8b7829",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 4133,
        "wires": [
            [
                "287af887.dee3b8"
            ]
        ]
    },
    {
        "id": "35039a1b.1e3706",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 850,
        "y": 2320,
        "wires": [
            [
                "beb1ad3f.94e12"
            ]
        ]
    },
    {
        "id": "beb1ad3f.94e12",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 2320,
        "wires": [
            [
                "59e8ee66.99ef8"
            ]
        ]
    },
    {
        "id": "485a7b16.315904",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 3840,
        "wires": [
            [
                "c8c4a8b5.53c4a8"
            ]
        ]
    },
    {
        "id": "a002ddb3.f5656",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "DROP PROCEDURE makebins",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP PROCEDURE makelogbins;",
        "output": "str",
        "x": 370,
        "y": 3800,
        "wires": [
            [
                "ff887eff.01d39"
            ]
        ]
    },
    {
        "id": "a4591cb3.7850f",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "CREATE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 120,
        "y": 3640,
        "wires": [
            [
                "dd0fb698.67d448"
            ]
        ]
    },
    {
        "id": "dd0fb698.67d448",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE PROCEDURE makebins TRUNCATED LOG LOG Creation of BIN TABLE",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE PROCEDURE makebins(numbins INT, binsize FLOAT) # binsize may be NULL for auto-size\nBEGIN\n\n SET @binmin = LOG(40); # FOR TRUNCATED LOGBINS corresponding with a lower value of 10\n SET @binmax = LOG(80); # FOR TRUNCATED LOGBINS corresponding with a higher value of 500\n IF binsize IS NULL \n  THEN SET binsize = CEIL(@binmax-@binmin)/numbins; # CEIL here may prevent the potential creation a very small extra bin due to rounding errors, but no good where floats are needed.\n END IF;\n SET @currlim = @binmin;\n WHILE @currlim + binsize < @binmax DO\n  INSERT INTO bins VALUES (EXP(@currlim), EXP(@currlim+binsize));\n  SET @currlim = @currlim + binsize;\n END WHILE;\n INSERT INTO bins VALUES (EXP(@currlim), EXP(@maxbin));\nEND;",
        "output": "str",
        "x": 510,
        "y": 3600,
        "wires": [
            [
                "ff887eff.01d39"
            ]
        ]
    },
    {
        "id": "658d88a2.7e4998",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "CREATE HISTOGRAM",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE IF EXISTS bins; # be careful if you have a bins table of your own.\nCREATE TEMPORARY TABLE bins (\nminval INT, maxval INT, # or FLOAT, if needed\nKEY (minval), KEY (maxval) );# keys could perhaps help if using a lot of bins; normally negligible\n\nCALL makebins(20, NULL);  # Using 20 bins of automatic size here. \n\nSELECT bins.*, count(*) AS total FROM bins\nLEFT JOIN epower2 ON epower2.negedge BETWEEN bins.minval AND bins.maxval\nGROUP BY bins.minval;",
        "output": "str",
        "x": 350,
        "y": 4200,
        "wires": [
            [
                "3c296b8d.5062e4"
            ]
        ]
    },
    {
        "id": "56623992.9a1188",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "HISTOGRAM",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 130,
        "y": 4200,
        "wires": [
            [
                "658d88a2.7e4998"
            ]
        ]
    },
    {
        "id": "19a89a4a.7e94b6",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "COMPOSE CHART",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 4373,
        "wires": [
            [
                "4d5f190b.47aa58",
                "a0147f15.af01e"
            ]
        ]
    },
    {
        "id": "4d5f190b.47aa58",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "GRAPH",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1100,
        "y": 4293,
        "wires": []
    },
    {
        "id": "a0147f15.af01e",
        "type": "ui_chart",
        "z": "2b73b789.bed1b8",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 6,
        "width": 0,
        "height": 0,
        "label": "NEGEDGE HISTOGRAM",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "200",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1230,
        "y": 4373,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "82f9995.3ae2768",
        "type": "split",
        "z": "2b73b789.bed1b8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 130,
        "y": 4373,
        "wires": [
            [
                "dc7e5bf.35b4da8",
                "fe2f39f5.54ae98"
            ]
        ]
    },
    {
        "id": "f0aa738.469059",
        "type": "join",
        "z": "2b73b789.bed1b8",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 610,
        "y": 4373,
        "wires": [
            [
                "7067826a.3c2a4c",
                "19a89a4a.7e94b6"
            ]
        ]
    },
    {
        "id": "fe2f39f5.54ae98",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "SELECT X & Y",
        "func": "var myx = msg.payload.maxval;\n//var myy = msg.payload.cum_posedge;\n//var myy = msg.payload.cum_negedge;\nvar myy = msg.payload.total;\nmsg.payload = {};\nmsg.payload.x = myx;\nmsg.payload.y = myy;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 440,
        "y": 4373,
        "wires": [
            [
                "f0aa738.469059",
                "928b5304.625e1"
            ]
        ]
    },
    {
        "id": "dc7e5bf.35b4da8",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMCCC",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 280,
        "y": 4293,
        "wires": []
    },
    {
        "id": "928b5304.625e1",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMEEE",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 600,
        "y": 4293,
        "wires": []
    },
    {
        "id": "7067826a.3c2a4c",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMGGG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 770,
        "y": 4293,
        "wires": []
    },
    {
        "id": "afd3759c.8d1b08",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "FILTER RESPONSE",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload[3]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 4200,
        "wires": [
            [
                "82f9995.3ae2768"
            ]
        ]
    },
    {
        "id": "21f630c5.a9a39",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 830,
        "y": 4493,
        "wires": [
            [
                "65deb0a9.c2ec2"
            ]
        ]
    },
    {
        "id": "65deb0a9.c2ec2",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 4493,
        "wires": [
            [
                "a0147f15.af01e"
            ]
        ]
    },
    {
        "id": "3c296b8d.5062e4",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 660,
        "y": 4200,
        "wires": [
            [
                "afd3759c.8d1b08"
            ]
        ]
    },
    {
        "id": "d777709f.80fac",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "ANALYZE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 80,
        "y": 4560,
        "wires": [
            [
                "22bdfb89.5bc744"
            ]
        ]
    },
    {
        "id": "740cce11.56bc3",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "PEAK MATCHING",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT\n   DISTINCT up.power_id AS upid, up.timestamp AS uptime, up.posedge AS upedge, down.power_id AS downid, down.timestamp AS downtime, down.negedge AS downedge, TIMESTAMPDIFF(SECOND, up.timestamp, down.timestamp) AS duration, up.posedge*TIMESTAMPDIFF(SECOND, up.timestamp, down.timestamp)/3600000 AS kWh, SUM(up.posedge*TIMESTAMPDIFF(SECOND, up.timestamp, down.timestamp)/3600000) AS total_energy, COUNT(down.power_id) AS nrofdowns\n   FROM epower2 up, epower2 down\n   WHERE (up.power_id < down.power_id) AND (down.negedge > 50) AND (up.posedge > 50) AND ABS((up.posedge - down.negedge)/up.posedge) < 0.1\n   GROUP BY up.power_id\n   ORDER BY up.timestamp\n   ;",
        "output": "str",
        "x": 330,
        "y": 4500,
        "wires": [
            []
        ]
    },
    {
        "id": "b6684b35.53fb58",
        "type": "mysql",
        "z": "2b73b789.bed1b8",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 560,
        "y": 4620,
        "wires": [
            [
                "6a590896.533c08",
                "ac2247cc.f32628"
            ]
        ]
    },
    {
        "id": "6a590896.533c08",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "ANALYSIS",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 890,
        "y": 4560,
        "wires": []
    },
    {
        "id": "ac2247cc.f32628",
        "type": "change",
        "z": "2b73b789.bed1b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "erased",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 4660,
        "wires": [
            [
                "6058c0ce.d57c4",
                "8ea4900f.fdb28"
            ]
        ]
    },
    {
        "id": "6058c0ce.d57c4",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "ANALYSIS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 970,
        "y": 4640,
        "wires": []
    },
    {
        "id": "2af6211e.91bcbe",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "COMPOSE CHART",
        "func": "var chart = [{}];\nchart[0].data =[];\nchart[0].data[0]= msg.payload;\nchart[0].series = [\"Serie_name\"];\nchart[0].labels = [\"Labels1\"];\nmsg.payload = chart;\nmsg.topic = \"Mytopic\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 4820,
        "wires": [
            [
                "e0729f4.14c976",
                "fbe72e08.54ea9"
            ]
        ]
    },
    {
        "id": "e0729f4.14c976",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "GRAPH",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1080,
        "y": 4740,
        "wires": []
    },
    {
        "id": "fbe72e08.54ea9",
        "type": "ui_chart",
        "z": "2b73b789.bed1b8",
        "name": "",
        "group": "8399f10d.b5a3d",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "kWh per peak",
        "chartType": "line",
        "legend": "false",
        "xformat": "D/M",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 1180,
        "y": 4820,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2890a0dc.571b1",
        "type": "inject",
        "z": "2b73b789.bed1b8",
        "name": "RESET",
        "topic": "",
        "payload": "[]",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 810,
        "y": 4940,
        "wires": [
            [
                "ce55fc1c.c39a7"
            ]
        ]
    },
    {
        "id": "ce55fc1c.c39a7",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 4940,
        "wires": [
            [
                "fbe72e08.54ea9"
            ]
        ]
    },
    {
        "id": "8ea4900f.fdb28",
        "type": "split",
        "z": "2b73b789.bed1b8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 150,
        "y": 4840,
        "wires": [
            [
                "c7084b62.240ab8",
                "9a1dd7f2.5169d8"
            ]
        ]
    },
    {
        "id": "1fb5cf9e.534a3",
        "type": "join",
        "z": "2b73b789.bed1b8",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 630,
        "y": 4840,
        "wires": [
            [
                "c5e2dec6.27525",
                "2af6211e.91bcbe"
            ]
        ]
    },
    {
        "id": "9a1dd7f2.5169d8",
        "type": "function",
        "z": "2b73b789.bed1b8",
        "name": "SELECT X & Y",
        "func": "var myx = msg.payload.uptime;\n//var myy = msg.payload.cum_posedge;\n//var myy = msg.payload.cum_negedge;\nvar myy = msg.payload.kWh;\nmsg.payload = {};\nmsg.payload.x = myx;\nmsg.payload.y = myy;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 460,
        "y": 4840,
        "wires": [
            [
                "1fb5cf9e.534a3",
                "2f734ffd.858a1"
            ]
        ]
    },
    {
        "id": "c7084b62.240ab8",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMCCC",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 300,
        "y": 4760,
        "wires": []
    },
    {
        "id": "2f734ffd.858a1",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMEEE",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 620,
        "y": 4760,
        "wires": []
    },
    {
        "id": "c5e2dec6.27525",
        "type": "debug",
        "z": "2b73b789.bed1b8",
        "name": "CUMGGG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 790,
        "y": 4760,
        "wires": []
    },
    {
        "id": "3c35f2ec.f40e2e",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "PEAK MATCHING",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT\n   DISTINCT up.power_id AS upid, up.timestamp AS uptime, up.posedge AS upedge, down.power_id AS downid, down.timestamp AS downtime, down.negedge AS downedge, TIMESTAMPDIFF(SECOND, up.timestamp, down.timestamp) AS duration, up.posedge*TIMESTAMPDIFF(SECOND, up.timestamp, down.timestamp)/3600000 AS kWh, SUM(up.posedge*TIMESTAMPDIFF(SECOND, up.timestamp, down.timestamp)/3600000) AS total_energy, COUNT(down.power_id) AS nrofdowns\n   FROM epower2 up, epower2 down\n   WHERE (up.power_id < down.power_id) AND (down.negedge > 50) AND (up.posedge > 50) AND ABS((up.posedge - down.negedge)/up.posedge) < 0.1\n   GROUP BY up.power_id\n   ORDER BY up.timestamp\n   ;",
        "output": "str",
        "x": 330,
        "y": 4440,
        "wires": [
            []
        ]
    },
    {
        "id": "b37c772b.98bc18",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "PEAK MATCHING preselection",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT\n   up.power_id AS upid, down.power_id AS downid \n   FROM epower2 up, epower2 down\n   WHERE (down.power_id > up.power_id) AND (down.power_id - up.power_id < 120) AND (up.posedge > 30) AND (down.negedge > 30)\n   LIMIT 10000\n   ;",
        "output": "str",
        "x": 330,
        "y": 4560,
        "wires": [
            []
        ]
    },
    {
        "id": "22bdfb89.5bc744",
        "type": "template",
        "z": "2b73b789.bed1b8",
        "name": "PEAK MATCHING fine selection",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM \n    (SELECT\n        up.power_id AS upid, down.power_id AS downid, up.posedge AS upedge, down.negedge AS negedge \n        FROM epower2 up, epower2 down\n        WHERE (down.power_id > up.power_id) AND (down.power_id - up.power_id < 120) AND (up.posedge > 30) AND (down.negedge > 30) \n        AND ABS(up.posedge-down.negedge)/up.posedge < 0.1  \n   LIMIT 10000 ) AS preselect\n   ;",
        "output": "str",
        "x": 310,
        "y": 4680,
        "wires": [
            [
                "b6684b35.53fb58"
            ]
        ]
    },
    {
        "id": "e4665e3.8d322a",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "DELETE FROM tsensors  7 DAY",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DELETE FROM tsensors WHERE datetime < DATE_SUB(NOW(), INTERVAL 7 DAY) ;  ",
        "output": "str",
        "x": 370,
        "y": 1580,
        "wires": [
            [
                "c8dd868f.654b38"
            ]
        ]
    },
    {
        "id": "60c6c595.69e5dc",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "CCCCCC",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 820,
        "y": 1580,
        "wires": []
    },
    {
        "id": "c8dd868f.654b38",
        "type": "mysql",
        "z": "8677ca10.1eb128",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 640,
        "y": 1580,
        "wires": [
            [
                "60c6c595.69e5dc"
            ]
        ]
    },
    {
        "id": "c312fc3c.632c",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "DELETE",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 140,
        "y": 1520,
        "wires": [
            [
                "e4665e3.8d322a"
            ]
        ]
    },
    {
        "id": "61e769af.054438",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "LINEAIRE FIT laaste 20 readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT \n    @n := COUNT(*) AS N,\n    @meanX := AVG(UNIX_TIMESTAMP(datetime)) AS 'X mean',\n    @sumX  := SUM(UNIX_TIMESTAMP(datetime)) AS 'X sum',\n    @sumXX := SUM(UNIX_TIMESTAMP(datetime)*UNIX_TIMESTAMP(datetime)) AS 'XX sum',\n    @meanY := AVG(temperature) AS 'Y mean',\n    @sumY  := SUM(temperature) AS 'Y sum',\n    @sumYY := SUM(temperature*temperature) AS 'YY sum',\n    @sumXY := SUM(temperature*UNIX_TIMESTAMP(datetime)) AS 'XY sum'\n    \n \n\nFROM tsensors\nWHERE   sensor_id = \"10-000802541aac\"\n        AND datetime > DATE_SUB(NOW(), INTERVAL 10 MINUTE)\n;\n\n    SET @a := (@n*@sumXY-@sumX*@sumY)/(@n*@sumXX-@sumX*@sumX);\n    SET @b := (@meanY-@a*@meanX);\n    SELECT @a AS slope, @b AS intercept;\n    SELECT (@n*@sumXY-@sumX*@sumY)\n    /SQRT((@n*@sumXX-@sumX*@sumX)*(@n*@sumYY-@sumY*@sumY))\n    AS correlation;\n    \nSELECT \n    temperature as observed, @a*UNIX_TIMESTAMP(datetime) + @b AS prediction \n FROM tsensors\nWHERE   sensor_id = \"10-000802541aac\"\n        AND datetime > DATE_SUB(NOW(), INTERVAL 10 MINUTE)\n;\n \n    ",
        "output": "str",
        "x": 360,
        "y": 1720,
        "wires": [
            [
                "3001571d.fadcd8"
            ]
        ]
    },
    {
        "id": "9555a6a9.f90be8",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "FIT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 110,
        "y": 1720,
        "wires": [
            [
                "61e769af.054438"
            ]
        ]
    },
    {
        "id": "3001571d.fadcd8",
        "type": "mysql",
        "z": "8677ca10.1eb128",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 680,
        "y": 1720,
        "wires": [
            [
                "3893732e.37911c"
            ]
        ]
    },
    {
        "id": "3893732e.37911c",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "FIT results",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 890,
        "y": 1720,
        "wires": []
    },
    {
        "id": "c284c039.9d50c",
        "type": "template",
        "z": "8677ca10.1eb128",
        "name": "LINEAIRE FIT laaste 1 readings",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT UNIX_TIMESTAMP(datetime) AS x, temperature AS y\nFROM tsensors\nWHERE   sensor_id = \"10-000802541aac\"\n        AND datetime > DATE_SUB(NOW(), INTERVAL 1 MINUTE)\n        ;",
        "output": "str",
        "x": 570,
        "y": 1820,
        "wires": [
            [
                "13a210a0.25189f"
            ]
        ]
    },
    {
        "id": "13a210a0.25189f",
        "type": "mysql",
        "z": "8677ca10.1eb128",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 840,
        "y": 1820,
        "wires": [
            [
                "aa609e4a.15245"
            ]
        ]
    },
    {
        "id": "165e42ed.24544d",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "FIT",
        "topic": "",
        "payload": "\"\"",
        "payloadType": "str",
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 130,
        "y": 1800,
        "wires": [
            [
                "c284c039.9d50c"
            ]
        ]
    },
    {
        "id": "aa609e4a.15245",
        "type": "split",
        "z": "8677ca10.1eb128",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1030,
        "y": 1820,
        "wires": [
            [
                "1ab6da94.024465",
                "d1ddfd73.ddf85"
            ]
        ]
    },
    {
        "id": "1ab6da94.024465",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "DATA",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1070,
        "y": 1880,
        "wires": []
    },
    {
        "id": "d1ddfd73.ddf85",
        "type": "regression",
        "z": "8677ca10.1eb128",
        "name": "",
        "dataSetSize": "6",
        "regressionType": "linear",
        "polynomialOrder": 2,
        "precision": "10",
        "xInputField": "payload.x",
        "xInputFieldType": "msg",
        "yInputField": "payload.y",
        "yInputFieldType": "msg",
        "yOutputField": "payload.yfit",
        "yOutputFieldType": "msg",
        "functionOutputField": "output",
        "functionOutputFieldType": "msg",
        "resultOnly": false,
        "x": 610,
        "y": 1958,
        "wires": [
            [
                "940e83ce.38654",
                "9c7a475b.f1b998"
            ]
        ]
    },
    {
        "id": "940e83ce.38654",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "FIT results 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 810,
        "y": 1958,
        "wires": []
    },
    {
        "id": "36d69903.266e56",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "CLEAR",
        "topic": "",
        "payload": "\"\"",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 310,
        "y": 1998,
        "wires": [
            [
                "d1ddfd73.ddf85"
            ]
        ]
    },
    {
        "id": "9c7a475b.f1b998",
        "type": "change",
        "z": "8677ca10.1eb128",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "output.equation[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 2098,
        "wires": [
            [
                "abec1e2c.660ff",
                "d8bf8fb5.fbf17"
            ]
        ]
    },
    {
        "id": "abec1e2c.660ff",
        "type": "debug",
        "z": "8677ca10.1eb128",
        "name": "Slope",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 910,
        "y": 2078,
        "wires": []
    },
    {
        "id": "d8bf8fb5.fbf17",
        "type": "ui_chart",
        "z": "8677ca10.1eb128",
        "name": "",
        "group": "fc44179e.3559c8",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Slope",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "24",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 920,
        "y": 2138,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9c02ecb.9231c1",
        "type": "inject",
        "z": "8677ca10.1eb128",
        "name": "CLEAR",
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 590,
        "y": 2138,
        "wires": [
            [
                "d8bf8fb5.fbf17"
            ]
        ]
    },
    {
        "id": "2342e87e.b7cc18",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "GENERATE DATA",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 250,
        "y": 80,
        "wires": [
            [
                "3310e6c3.7443da"
            ]
        ]
    },
    {
        "id": "3310e6c3.7443da",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "GENERATE GAUSSIAN RANDOM NRS",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO gaussian1 (dev)\nSELECT x*SQRT(-2*LOG(s)/s) as n FROM\n \n (\n SELECT x,\n        y,\n        x*x+y*y AS s\n FROM\n \n (SELECT\n    2 * rand() - 1 as x,\n    2 * rand() - 1 as y\n  from seq_1_to_10000\n  AS numbers)\n  AS polar_points\n   WHERE x*x+y*y<1\n  ) AS marsagliax\n  \n  UNION  SELECT y*SQRT(-2*LOG(s)/s) as n FROM\n \n (\n SELECT x,\n        y,\n        x*x+y*y AS s\n FROM\n \n (SELECT\n    2 * rand() - 1 as x,\n    2 * rand() - 1 as y\n  from seq_1_to_10\n  AS numbers)\n  AS polar_points\n   WHERE x*x+y*y<1\n  ) \n  \n  AS marsagliay\n\n   ;",
        "output": "str",
        "x": 580,
        "y": 80,
        "wires": [
            [
                "6caac009.ba189"
            ]
        ]
    },
    {
        "id": "d02fd6ac.576b58",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "GENERATE X, Yfit",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "This is the payload: {{payload}} !",
        "output": "str",
        "x": 1110,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "fd97f1d7.0c66f",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "FIT linear y= ax+b",
        "info": "",
        "x": 910,
        "y": 660,
        "wires": []
    },
    {
        "id": "9043a01a.2d27b",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "GENERATE X, residue",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "This is the payload: {{payload}} !",
        "output": "str",
        "x": 1100,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "6caac009.ba189",
        "type": "mysql",
        "z": "cd6789e6.ff3648",
        "mydb": "f524d036.2b55a",
        "name": "",
        "x": 890,
        "y": 120,
        "wires": [
            [
                "8b608236.9abc4"
            ]
        ]
    },
    {
        "id": "8b608236.9abc4",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 120,
        "wires": []
    },
    {
        "id": "67efd0ce.ebf1c",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "FIT non-inear y= f(x; a,b)",
        "info": "",
        "x": 630,
        "y": 1400,
        "wires": []
    },
    {
        "id": "407b0902.f66168",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "FIT inear y-f0(x,a0,b0) vs df/da*Xaux + df/db",
        "info": "",
        "x": 690,
        "y": 1567,
        "wires": []
    },
    {
        "id": "29c39d26.a576f2",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "Result: delta a, delta b",
        "info": "",
        "x": 760,
        "y": 1607,
        "wires": []
    },
    {
        "id": "2062224f.e3875e",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "REPEAT until delta a and delta b very small",
        "info": "",
        "x": 1100,
        "y": 1627,
        "wires": []
    },
    {
        "id": "40e1c3ba.e47afc",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "CALCULATE  y - ycalc",
        "info": "",
        "x": 760,
        "y": 1467,
        "wires": []
    },
    {
        "id": "3b04a674.9ba02a",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "CALCULATE Xaux",
        "info": "",
        "x": 770,
        "y": 1507,
        "wires": []
    },
    {
        "id": "838ad30c.8b40c",
        "type": "regression",
        "z": "cd6789e6.ff3648",
        "name": "",
        "dataSetSize": "",
        "regressionType": "linear",
        "polynomialOrder": 2,
        "precision": "10",
        "xInputField": "payload.x",
        "xInputFieldType": "msg",
        "yInputField": "payload.y",
        "yInputFieldType": "msg",
        "yOutputField": "payload.yfit",
        "yOutputFieldType": "msg",
        "functionOutputField": "output",
        "functionOutputFieldType": "msg",
        "resultOnly": false,
        "x": 1430,
        "y": 1040,
        "wires": [
            [
                "eac082a9.2f327"
            ]
        ]
    },
    {
        "id": "eac082a9.2f327",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "FIT results 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1650,
        "y": 1040,
        "wires": []
    },
    {
        "id": "2f099eae.3e5b32",
        "type": "counter",
        "z": "cd6789e6.ff3648",
        "name": "",
        "init": "-1",
        "step": "1",
        "lower": "0",
        "upper": "",
        "mode": "increment",
        "outputs": 2,
        "x": 680,
        "y": 820,
        "wires": [
            [
                "20fb9e56.9a6552",
                "6e4caa68.924834"
            ],
            [
                "244b1816.eeab38"
            ]
        ]
    },
    {
        "id": "244b1816.eeab38",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 750,
        "y": 960,
        "wires": []
    },
    {
        "id": "20fb9e56.9a6552",
        "type": "range",
        "z": "cd6789e6.ff3648",
        "minin": "0",
        "maxin": "1",
        "minout": "0",
        "maxout": "0.01",
        "action": "scale",
        "round": false,
        "property": "payload",
        "name": "Generate x :  xstart, xend",
        "x": 910,
        "y": 860,
        "wires": [
            [
                "83573b09.3a9148",
                "396089b6.060566"
            ]
        ]
    },
    {
        "id": "83573b09.3a9148",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "X",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1010,
        "y": 960,
        "wires": []
    },
    {
        "id": "992adcd6.c71e4",
        "type": "looptimer",
        "z": "cd6789e6.ff3648",
        "duration": "0.1",
        "units": "Second",
        "maxloops": "5",
        "maxtimeout": "1",
        "maxtimeoutunits": "Hour",
        "name": "5 repeats",
        "x": 260,
        "y": 860,
        "wires": [
            [
                "5667f33b.6f058c"
            ],
            [
                "4f47adac.b1e9d4"
            ]
        ]
    },
    {
        "id": "b80a6141.eeebd",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 160,
        "y": 820,
        "wires": [
            [
                "992adcd6.c71e4"
            ]
        ]
    },
    {
        "id": "4f47adac.b1e9d4",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 410,
        "y": 900,
        "wires": []
    },
    {
        "id": "8ae24345.66b6d",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 550,
        "y": 760,
        "wires": []
    },
    {
        "id": "5667f33b.6f058c",
        "type": "switch",
        "z": "cd6789e6.ff3648",
        "name": "",
        "property": "_timerpass",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 840,
        "wires": [
            [
                "8ae24345.66b6d",
                "2f099eae.3e5b32"
            ],
            [
                "c80e742a.cdc748"
            ]
        ]
    },
    {
        "id": "c80e742a.cdc748",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 550,
        "y": 860,
        "wires": []
    },
    {
        "id": "697ea351.59c0cc",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "GENERATE GAUSSIAN RANDOM NRS",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE IF NOT EXISTS gaussian1  (dev_id INT NOT NULL AUTO_INCREMENT, dev FLOAT, PRIMARY KEY (dev_id));",
        "output": "str",
        "x": 580,
        "y": 40,
        "wires": [
            [
                "2c707076.f0f64"
            ]
        ]
    },
    {
        "id": "d050722c.5035b",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "CREATE TABLE gaussian1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 230,
        "y": 40,
        "wires": [
            [
                "697ea351.59c0cc"
            ]
        ]
    },
    {
        "id": "2c707076.f0f64",
        "type": "mysql",
        "z": "cd6789e6.ff3648",
        "mydb": "f524d036.2b55a",
        "name": "",
        "x": 890,
        "y": 40,
        "wires": [
            [
                "df874c29.eb26d"
            ]
        ]
    },
    {
        "id": "df874c29.eb26d",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 40,
        "wires": []
    },
    {
        "id": "4dbe013c.6eae5",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "DROP TABLE gaussian1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 230,
        "y": 120,
        "wires": [
            [
                "1fd9618b.fe310e"
            ]
        ]
    },
    {
        "id": "b877c318.9a8ce",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "LIST TABLE gaussian1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 240,
        "y": 160,
        "wires": [
            [
                "1686ab19.c6fa85"
            ]
        ]
    },
    {
        "id": "1fd9618b.fe310e",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "DROP TABLE gaussian1",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE gaussian1;",
        "output": "str",
        "x": 530,
        "y": 120,
        "wires": [
            [
                "6caac009.ba189"
            ]
        ]
    },
    {
        "id": "1686ab19.c6fa85",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "GENERATE GAUSSIAN RANDOM NRS",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM gaussian1;\n",
        "output": "str",
        "x": 580,
        "y": 160,
        "wires": [
            [
                "6caac009.ba189"
            ]
        ]
    },
    {
        "id": "1f3d5f41.ddb411",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "MSG",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1190,
        "y": 960,
        "wires": []
    },
    {
        "id": "6e4caa68.924834",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "COUNTER",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 870,
        "y": 920,
        "wires": []
    },
    {
        "id": "396089b6.060566",
        "type": "function",
        "z": "cd6789e6.ff3648",
        "name": "",
        "func": "var myx = msg.payload;\n\nmsg.payload = {\"x\": myx, y:null, dev:null};\nvar a = 5;\nvar b = 3;\nmsg.payload.y  = a * msg.payload.x + b\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1150,
        "y": 860,
        "wires": [
            [
                "1f3d5f41.ddb411",
                "efb559d7.d0df98"
            ]
        ]
    },
    {
        "id": "a46a8c9e.49ee7",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 200,
        "y": 1040,
        "wires": [
            [
                "838ad30c.8b40c"
            ]
        ]
    },
    {
        "id": "efb559d7.d0df98",
        "type": "random",
        "z": "cd6789e6.ff3648",
        "name": "",
        "low": "0",
        "high": "1",
        "inte": "false",
        "property": "payload.dev",
        "x": 1320,
        "y": 860,
        "wires": [
            [
                "a9ea1cf0.fb211",
                "af0096f4.f7e068"
            ]
        ]
    },
    {
        "id": "a9ea1cf0.fb211",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "MSGA",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1490,
        "y": 860,
        "wires": []
    },
    {
        "id": "af0096f4.f7e068",
        "type": "function",
        "z": "cd6789e6.ff3648",
        "name": "",
        "func": "\nmsg.payload.y  = msg.payload.y + 0.001*(2*msg.payload.dev -1);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1490,
        "y": 920,
        "wires": [
            [
                "838ad30c.8b40c",
                "2e02b6e4.932bca",
                "638eeac1.5b6514"
            ]
        ]
    },
    {
        "id": "2e02b6e4.932bca",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "MSGB",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1630,
        "y": 900,
        "wires": []
    },
    {
        "id": "5f7cb5b1.18b69c",
        "type": "comment",
        "z": "cd6789e6.ff3648",
        "name": "Gnerate x,y data",
        "info": "",
        "x": 700,
        "y": 660,
        "wires": []
    },
    {
        "id": "1cce4880.bbc9a8",
        "type": "mysql",
        "z": "cd6789e6.ff3648",
        "mydb": "f524d036.2b55a",
        "name": "",
        "x": 890,
        "y": 320,
        "wires": [
            [
                "beb04ef0.0d686"
            ]
        ]
    },
    {
        "id": "beb04ef0.0d686",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 320,
        "wires": []
    },
    {
        "id": "360a0ed6.b7d2d2",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "GENERATE GAUSSIAN RANDOM NRS",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE IF NOT EXISTS xydata  (xy_id INT NOT NULL AUTO_INCREMENT, x FLOAT, y FLOAT, PRIMARY KEY (xy_id));",
        "output": "str",
        "x": 580,
        "y": 240,
        "wires": [
            [
                "8ed762b3.1b5f7"
            ]
        ]
    },
    {
        "id": "c17171f.b9b4c9",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "CREATE TABLE xydata",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 220,
        "y": 240,
        "wires": [
            [
                "360a0ed6.b7d2d2"
            ]
        ]
    },
    {
        "id": "8ed762b3.1b5f7",
        "type": "mysql",
        "z": "cd6789e6.ff3648",
        "mydb": "f524d036.2b55a",
        "name": "",
        "x": 890,
        "y": 240,
        "wires": [
            [
                "f9e6692e.8e4788"
            ]
        ]
    },
    {
        "id": "f9e6692e.8e4788",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1030,
        "y": 240,
        "wires": []
    },
    {
        "id": "cf896c1.59f659",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "DROP TABLE xydata",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 220,
        "y": 320,
        "wires": [
            [
                "3be1646b.8078dc"
            ]
        ]
    },
    {
        "id": "3be1646b.8078dc",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "DROP TABLE gaussian1",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE xydata;",
        "output": "str",
        "x": 530,
        "y": 320,
        "wires": [
            [
                "1cce4880.bbc9a8"
            ]
        ]
    },
    {
        "id": "638eeac1.5b6514",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "STORE xydata in TABLE",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "INSERT INTO xydata  (x , y) VALUES({{payload.x}},{{payload.y}});",
        "output": "str",
        "x": 570,
        "y": 1100,
        "wires": [
            [
                "314a4bbc.e28304"
            ]
        ]
    },
    {
        "id": "314a4bbc.e28304",
        "type": "mysql",
        "z": "cd6789e6.ff3648",
        "mydb": "f524d036.2b55a",
        "name": "",
        "x": 790,
        "y": 1100,
        "wires": [
            [
                "484dbae7.13bbc4"
            ]
        ]
    },
    {
        "id": "484dbae7.13bbc4",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "DATABASE",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1010,
        "y": 1100,
        "wires": []
    },
    {
        "id": "dcdd6b6e.54b368",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "LIST xydata",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM xydata;",
        "output": "str",
        "x": 530,
        "y": 1160,
        "wires": [
            [
                "314a4bbc.e28304"
            ]
        ]
    },
    {
        "id": "62e42016.6adca",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 260,
        "y": 1160,
        "wires": [
            [
                "dcdd6b6e.54b368"
            ]
        ]
    },
    {
        "id": "6822ebbe.702824",
        "type": "mysql",
        "z": "cd6789e6.ff3648",
        "mydb": "f524d036.2b55a",
        "name": "MYSQL db example ",
        "x": 680,
        "y": 1280,
        "wires": [
            [
                "d51fcd5e.6df23"
            ]
        ]
    },
    {
        "id": "470c6e92.4012a",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "LINEAIRE FIT xydata",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT \n    @n := COUNT(*) AS N,\n    @meanX := AVG(x) AS 'X mean',\n    @sumX  := SUM(x) AS 'X sum',\n    @sumXX := SUM(x*x) AS 'XX sum',\n    @meanY := AVG(y) AS 'Y mean',\n    @sumY  := SUM(y) AS 'Y sum',\n    @sumYY := SUM(y*y) AS 'YY sum',\n    @sumXY := SUM(x*y) AS 'XY sum'\n\nFROM xydata;\n\nSELECT @a := (@n*@sumXY-@sumX*@sumY)/(@n*@sumXX-@sumX*@sumX) AS slope, @b := (@meanY-@a*@meanX)  AS intercept, (@n*@sumXY-@sumX*@sumY)\n    /SQRT((@n*@sumXX-@sumX*@sumX)*(@n*@sumYY-@sumY*@sumY))\n    AS correlation;\n\n \n    ",
        "output": "str",
        "x": 420,
        "y": 1280,
        "wires": [
            [
                "6822ebbe.702824"
            ]
        ]
    },
    {
        "id": "d51fcd5e.6df23",
        "type": "debug",
        "z": "cd6789e6.ff3648",
        "name": "FIT results",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 890,
        "y": 1280,
        "wires": []
    },
    {
        "id": "2d1706be.d6eb5a",
        "type": "inject",
        "z": "cd6789e6.ff3648",
        "name": "FIT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "x": 230,
        "y": 1280,
        "wires": [
            [
                "470c6e92.4012a"
            ]
        ]
    },
    {
        "id": "48f54793.9653c8",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "LINEAIRE FIT xydata",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT \n    @n := COUNT(*) AS N,\n    @meanX := AVG(x) AS 'X mean',\n    @sumX  := SUM(x) AS 'X sum',\n    @sumXX := SUM(x*x) AS 'XX sum',\n    @meanY := AVG(y) AS 'Y mean',\n    @sumY  := SUM(y) AS 'Y sum',\n    @sumYY := SUM(y*y) AS 'YY sum',\n    @sumXY := SUM(x*y) AS 'XY sum'\n\nFROM xydata;\n\n    SET @a := (@n*@sumXY-@sumX*@sumY)/(@n*@sumXX-@sumX*@sumX);\n    SET @b := (@meanY-@a*@meanX);\n    SELECT @a AS slope, @b AS intercept, (@n*@sumXY-@sumX*@sumY)\n    /SQRT((@n*@sumXX-@sumX*@sumX)*(@n*@sumYY-@sumY*@sumY))\n    AS correlation;\n\n \n    ",
        "output": "str",
        "x": 420,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "774ee67c.134578",
        "type": "template",
        "z": "cd6789e6.ff3648",
        "name": "LINEAIRE FIT xydata",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT    \n    @nn := @n*1 AS NN,\n    @a := (@n*@sumXY-@sumX*@sumY)/(@n*@sumXX-@sumX*@sumX) AS slope, \n    @b := (@meanY-@a*@meanX)  AS intercept, \n    @rr := (@n*@sumXY-@sumX*@sumY)/SQRT((@n*@sumXX-@sumX*@sumX)*(@n*@sumYY-@sumY*@sumY)) AS correlation\nFROM\n    (SELECT \n    @n := COUNT(*) AS N,\n    @meanX := AVG(x) AS 'X mean',\n    @sumX  := SUM(x) AS 'X sum',\n    @sumXX := SUM(x*x) AS 'XX sum',\n    @meanY := AVG(y) AS 'Y mean',\n    @sumY  := SUM(y) AS 'Y sum',\n    @sumYY := SUM(y*y) AS 'YY sum',\n    @sumXY := SUM(x*y) AS 'XY sum'\nFROM xydata) AS intermediates\n;\n\n\n \n    ",
        "output": "str",
        "x": 423,
        "y": 1320,
        "wires": [
            []
        ]
    }
]